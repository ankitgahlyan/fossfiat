/*! For license information please see main.657378c3811468327859.js.LICENSE.txt */
(()=>{var e,t,n,a,o={51:(e,t,n)=>{"use strict";var a,o,r,i,s,c,l,d,u;n.d(t,{Gi:()=>a,Nn:()=>i,gH:()=>o}),function(e){e.Aztec="AZTEC",e.Codabar="CODABAR",e.Code39="CODE_39",e.Code93="CODE_93",e.Code128="CODE_128",e.DataMatrix="DATA_MATRIX",e.Ean8="EAN_8",e.Ean13="EAN_13",e.Itf="ITF",e.Pdf417="PDF_417",e.QrCode="QR_CODE",e.UpcA="UPC_A",e.UpcE="UPC_E"}(a||(a={})),function(e){e.CalendarEvent="CALENDAR_EVENT",e.ContactInfo="CONTACT_INFO",e.DriversLicense="DRIVERS_LICENSE",e.Email="EMAIL",e.Geo="GEO",e.Isbn="ISBN",e.Phone="PHONE",e.Product="PRODUCT",e.Sms="SMS",e.Text="TEXT",e.Url="URL",e.Wifi="WIFI",e.Unknown="UNKNOWN"}(o||(o={})),function(e){e[e["640x480"]=0]="640x480",e[e["1280x720"]=1]="1280x720",e[e["1920x1080"]=2]="1920x1080",e[e["3840x2160"]=3]="3840x2160"}(r||(r={})),function(e){e.Front="FRONT",e.Back="BACK"}(i||(i={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PENDING=1]="PENDING",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.CANCELED=3]="CANCELED",e[e.COMPLETED=4]="COMPLETED",e[e.FAILED=5]="FAILED",e[e.INSTALLING=6]="INSTALLING",e[e.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"}(s||(s={})),function(e){e[e.HOME=0]="HOME",e[e.UNKNOWN=1]="UNKNOWN",e[e.WORK=2]="WORK"}(c||(c={})),function(e){e[e.HOME=0]="HOME",e[e.UNKNOWN=1]="UNKNOWN",e[e.WORK=2]="WORK"}(l||(l={})),function(e){e[e.FAX=0]="FAX",e[e.HOME=1]="HOME",e[e.MOBILE=2]="MOBILE",e[e.UNKNOWN=3]="UNKNOWN",e[e.WORK=4]="WORK"}(d||(d={})),function(e){e[e.OPEN=1]="OPEN",e[e.WEP=2]="WEP",e[e.WPA=3]="WPA"}(u||(u={}))},251:(e,t)=>{t.read=function(e,t,n,a,o){var r,i,s=8*o-a-1,c=(1<<s)-1,l=c>>1,d=-7,u=n?o-1:0,m=n?-1:1,p=e[t+u];for(u+=m,r=p&(1<<-d)-1,p>>=-d,d+=s;d>0;r=256*r+e[t+u],u+=m,d-=8);for(i=r&(1<<-d)-1,r>>=-d,d+=a;d>0;i=256*i+e[t+u],u+=m,d-=8);if(0===r)r=1-l;else{if(r===c)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,a),r-=l}return(p?-1:1)*i*Math.pow(2,r-a)},t.write=function(e,t,n,a,o,r){var i,s,c,l=8*r-o-1,d=(1<<l)-1,u=d>>1,m=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:r-1,f=a?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+u>=1?m/c:m*Math.pow(2,1-u))*c>=2&&(i++,c/=2),i+u>=d?(s=0,i=d):i+u>=1?(s=(t*c-1)*Math.pow(2,o),i+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,o),i=0));o>=8;e[n+p]=255&s,p+=f,s/=256,o-=8);for(i=i<<o|s,l+=o;l>0;e[n+p]=255&i,p+=f,i/=256,l-=8);e[n+p-f]|=128*h}},398:(e,t,n)=>{"use strict";n.d(t,{CF:()=>c,QQ:()=>l,UH:()=>i,nI:()=>s});var a=n(31481),o=n(48805);o.z.RM=0,o.z.NE=-1e5,o.z.PE=1e5;const r=(0,o.z)(10);function i(e,t){return BigInt((0,o.z)(e).mul(r.pow(t??a.Tu9.decimals)).round().toString())}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(e,t??a.Tu9.decimals,n).toString()}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Tu9.decimals,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.z)(e.toString()).div(r.pow(t)).round(t,n?o.z.roundHalfUp:void 0)}function l(e,t){return(0,o.z)(e).round(t).toString()}},809:(e,t,n)=>{"use strict";n.d(t,{UA:()=>u,_O:()=>d,bk:()=>i,fC:()=>c,m1:()=>l,tH:()=>r,wg:()=>s});var a=n(31481),o=n(398);n(59121);const r="bigint:";function i(e,t){return"string"==typeof t&&t.startsWith(r)?BigInt(t.slice(7)):t}function s(e){return-0n===e||e<0n?-e:e}function c(e,t){return e*a.X1K/(0,o.UH)(t)}function l(e,t){return e*(0,o.UH)(t)/a.X1K}function d(e,t){return e>t?e:t}function u(e,t){return e<t?e:t}},3476:(e,t,n)=>{"use strict";n.d(t,{Bm:()=>p,EV:()=>u,Zm:()=>d,eL:()=>c,fI:()=>s,fv:()=>i,li:()=>l,qP:()=>m,sl:()=>r});var a=n(61995);const o=1000000000n,r={stakeNominators:o,unstakeNominators:o,stakeLiquid:o,unstakeLiquid:o,stakeJettonsForward:a.xT.STAKE_JETTONS,stakeJettons:a.xT.STAKE_JETTONS+2000000000n,unstakeJettons:a.xT.UNSTAKE_JETTONS,claimJettons:a.xT.JETTON_TRANSFER+a.xT.SIMPLE_UPDATE_REQUEST,changeDns:15000000n,stakeEthena:2100000000n,stakeEthenaForward:100000000n,unstakeEthena:2100000000n,unstakeEthenaForward:100000000n,unstakeEthenaLocked:150000000n,unstakeEthenaLockedForward:70000000n},i={stakeNominators:1000052853n,unstakeNominators:148337433n,stakeLiquid:20251387n,unstakeLiquid:18625604n,stakeJettons:74879996n,unstakeJettons:59971662n,claimJettons:57053859n,stakeEthena:116690790n,unstakeEthena:113210330n,unstakeEthenaLocked:37612000n},s=9,c=!1;let l=function(e){return e[e.MasterChain=-1]="MasterChain",e[e.BaseChain=0]="BaseChain",e}({});const d=l.BaseChain,u=4,m=1,p=255;let f=function(e){return e[e.Transfer=260734629]="Transfer",e[e.TransferNotification=1935855772]="TransferNotification",e[e.InternalTransfer=395134233]="InternalTransfer",e[e.Excesses=3576854235]="Excesses",e[e.Burn=1499400124]="Burn",e[e.BurnNotification=2078119902]="BurnNotification",e}({}),h=function(e){return e[e.Ok=2742684035]="Ok",e}({}),g=function(e){return e.Wallet="wallet",e.Staking="staking",e}({});f.Excesses,h.Ok,g.Wallet,g.Wallet,g.Wallet,g.Wallet,g.Wallet,g.Wallet,g.Wallet,g.Wallet,g.Wallet,g.Wallet,g.Wallet,g.Staking,g.Wallet,g.Wallet,g.Wallet,g.Wallet},5130:(e,t,n)=>{"use strict";n.d(t,{U$:()=>s});var a=n(24082),o=n(14235),r=n(55029);class i{requestStates=new Map;requestStatesByCallback=new Map;constructor(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"*";this.target=e,this.onUpdate=t,this.channel=n,this.shouldUseJson=a,this.targetOrigin=o}destroy(){}init(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.postMessage({type:"init",args:t})}request(e){const{requestStates:t,requestStatesByCallback:n}=this,a=(0,o.A)(),r={type:"callMethod",messageId:a,...e},i={messageId:a},s=new Promise(((e,t)=>{Object.assign(i,{resolve:e,reject:t})}));if("function"==typeof r.args[r.args.length-1]){r.withCallback=!0;const e=r.args.pop();i.callback=e,n.set(e,i)}return t.set(a,i),s.catch((()=>{})).finally((()=>{t.delete(a),i.callback&&n.delete(i.callback)})),this.postMessage(r),s}cancelCallback(e){e.isCanceled=!0;const{messageId:t}=this.requestStatesByCallback.get(e)||{};t&&this.postMessage({type:"cancelProgress",messageId:t})}onMessage(e){try{e=(0,a.d$)(e)}catch(e){return void(0,r.SJ)("PostMessageConnector: Failed to parse message",e)}const{requestStates:t,channel:n}=this;if(e.channel===n)if("update"===e.type&&this.onUpdate&&this.onUpdate(e.update),"methodResponse"===e.type){const n=t.get(e.messageId);n&&(e.error?n.reject(e.error):n.resolve(e.response))}else if("methodCallback"===e.type){var o;const n=t.get(e.messageId);null==n||null===(o=n.callback)||void 0===o||o.call(n,...e.callbackArgs)}else if("unhandledError"===e.type){var i,s;const t=new Error(null===(i=e.error)||void 0===i?void 0:i.message);throw null!==(s=e.error)&&void 0!==s&&s.stack&&(t.stack=e.error.stack),t}}postMessage(e){e.channel=this.channel;let t=e;this.shouldUseJson&&(t=(0,a.HE)(e)),"open"in this.target?this.target.postMessage(t,this.targetOrigin):this.target.postMessage(t)}}function s(e,t,n,a){const o=new i(e,t,n,void 0,a);function r(e){let{data:t}=e;o.onMessage(t)}return e.addEventListener("message",r),o.destroy=()=>{e.removeEventListener("message",r)},o}},9705:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});class a{constructor(){this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}static resolved(e){const t=new a;return t.resolve(e),t}}},10309:(e,t,n)=>{"use strict";n.d(t,{CS:()=>g,GS:()=>f,N5:()=>d,TK:()=>u,UX:()=>s,YG:()=>l,Z2:()=>o,d_:()=>i,fU:()=>p,mf:()=>m,pY:()=>r});var a=n(19314);const o=1e3,r=60*o,i=60*r*24,s=365*i,c=(0,a.A)((function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"short",o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return new Date(t).toLocaleString(e,{year:n?void 0:"numeric",month:a||void 0,day:o?void 0:"numeric",hour:r?"numeric":void 0,minute:r?"numeric":void 0,hourCycle:"h23"})}));function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";const t=(arguments.length>1?arguments[1]:void 0)-Date.now(),n=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),o=Math.floor(t/1e3/3600/24),r=new Intl.RelativeTimeFormat(e,{localeMatcher:"best fit",numeric:"always",style:"long"}),i=[];if(o>0){const[e,t]=r.formatToParts(o,"day").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}if(a>0){const[e,t]=r.formatToParts(a,"hour").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}if(n>0){const[e,t]=r.formatToParts(n,"minute").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}return i.join(" ")}function d(e,t){return function(e){return g(new Date)===g(new Date(e))}(t)?e("Today"):function(e){const t=new Date;return t.setDate(t.getDate()-1),g(t)===g(new Date(e))}(t)?e("Yesterday"):u(e.code,t)}function u(e,t){const n=new Date(t),a=g(n),o=h(new Date),r=n.getFullYear()===o.getFullYear();return c(e,a,r,"long")}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Date(t),r=g(o),i=h(new Date),s=g(i),l=n&&r===s,d=n?function(e){const t=new Date(e);return t.setSeconds(0,0),t}(o).getTime():r;return a||=o.getFullYear()===i.getFullYear(),c(e,d,a,!l&&"short",l,n)}function p(e){const t=new Date(e);return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function f(e){const t=new Date,n=e instanceof Date?e:new Date(e);return Math.ceil((n.getTime()-t.getTime())/i)}function h(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function g(e){return h(e).getTime()}},10428:(e,t,n)=>{},14235:(e,t,n)=>{"use strict";function a(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}n.d(t,{A:()=>a})},16546:(e,t,n)=>{"use strict";var a;n.d(t,{$c:()=>a,EA:()=>u,E_:()=>s,F3:()=>i,I9:()=>o,Ii:()=>r}),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(a||(a={}));class o extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const r=(e=>e.Capacitor=(e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>null!==t?t.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),s=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))},c=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=i,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==i(),n.isPluginAvailable=e=>{const t=c.get(e);return!!(null==t?void 0:t.platforms.has(i()))||!!s(e)},n.registerPlugin=(e,l={})=>{const d=c.get(e);if(d)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),d.proxy;const u=i(),m=s(e);let p;const f=r=>{let i;const s=(...s)=>{const c=(async()=>(!p&&u in l?p=p="function"==typeof l[u]?await l[u]():l[u]:null!==t&&!p&&"web"in l&&(p=p="function"==typeof l.web?await l.web():l.web),p))().then((t=>{const c=((t,r)=>{var i,s;if(!m){if(t)return null===(s=t[r])||void 0===s?void 0:s.bind(t);throw new o(`"${e}" plugin is not implemented on ${u}`,a.Unimplemented)}{const a=null==m?void 0:m.methods.find((e=>r===e.name));if(a)return"promise"===a.rtype?t=>n.nativePromise(e,r.toString(),t):(t,a)=>n.nativeCallback(e,r.toString(),t,a);if(t)return null===(i=t[r])||void 0===i?void 0:i.bind(t)}})(t,r);if(c){const e=c(...s);return i=null==e?void 0:e.remove,e}throw new o(`"${e}.${r}()" is not implemented on ${u}`,a.Unimplemented)}));return"addListener"===r&&(c.remove=async()=>i()),c};return s.toString=()=>`${r.toString()}() { [capacitor code] }`,Object.defineProperty(s,"name",{value:r,writable:!1,configurable:!1}),s},h=f("addListener"),g=f("removeListener"),v=(e,t)=>{const n=h({eventName:e},t),a=async()=>{const a=await n;g({eventName:e,callbackId:a},t)},o=new Promise((e=>n.then((()=>e({remove:a})))));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()},o},w=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return m?v:h;case"removeListener":return g;default:return f(t)}}});return r[e]=w,c.set(e,{name:e,proxy:w,platforms:new Set([...Object.keys(l),...m?[u]:[]])}),w},n.Exception=o,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),i=r.registerPlugin;class s{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const a=this.windowListeners[e];return a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const a=this.listeners[e];if(a)a.forEach((e=>e(t)));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new r.Exception(e,a.Unimplemented)}unavailable(e="not available"){return new r.Exception(e,a.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const a=n.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach((t=>{this.notifyListeners(e,t)})))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),l=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class d extends s{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[n,a]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=l(n).trim(),a=l(a).trim(),t[n]=a})),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),r=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${a}; path=${o}; ${r};`}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}i("CapacitorCookies",{web:()=>new d});const u=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=((e={})=>{const t=Object.keys(e);return Object.keys(e).map((e=>e.toLocaleLowerCase())).reduce(((n,a,o)=>(n[a]=e[t[o]],n)),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,a]of Object.entries(e.data||{}))t.set(n,a);n.body=t.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,n)=>{t.append(n,e)}));else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(a.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class m extends s{async request(e){const t=u(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce(((e,n)=>{const[a,o]=n;let r,i;return Array.isArray(o)?(i="",o.forEach((e=>{r=t?encodeURIComponent(e):e,i+=`${a}=${r}&`})),i.slice(0,-1)):(r=t?encodeURIComponent(o):o,i=`${a}=${r}`),`${e}&${i}`}),"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,o=await fetch(a,t),r=o.headers.get("content-type")||"";let i,s,{responseType:c="text"}=o.ok?e:{};switch(r.includes("application/json")&&(c="json"),c){case"arraybuffer":case"blob":s=await o.blob(),i=await(async e=>new Promise(((t,n)=>{const a=new FileReader;a.onload=()=>{const e=a.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},a.onerror=e=>n(e),a.readAsDataURL(e)})))(s);break;case"json":i=await o.json();break;default:i=await o.text()}const l={};return o.headers.forEach(((e,t)=>{l[t]=e})),{data:i,headers:l,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}i("CapacitorHttp",{web:()=>new m})},19314:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const a=new WeakMap;function o(e){return function(){let t=a.get(e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];const i=o.map(String).join("_");if(t){const e=t.get(i);if(e)return e}else t=new Map,a.set(e,t);const s=e(...o);return t.set(i,s),s}}},19822:(e,t,n)=>{"use strict";n.d(t,{Hd:()=>s,ZM:()=>c,i0:()=>o,iT:()=>r,qM:()=>i});var a=n(66644);function o(e,t){t((()=>{e()&&o(e,t)}))}function r(e,t){e()&&t((()=>{r(e,t)}))}const i={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function s(e){let{timing:t=i.linear,onUpdate:n,duration:o,onEnd:s,from:c,to:l}=e;const d=Date.now();let u=!1;return r((()=>{if(u)return!1;const e=Date.now(),a=Math.min((e-d)/o,1),r=t(a);if("number"==typeof c&&"number"==typeof l)n(c+(l-c)*r);else if(Array.isArray(c)&&Array.isArray(l)){const e=c.map(((e,t)=>e+(l[t]-e)*r));n(e)}return 1===a&&(null==s||s()),a<1}),a.YS),()=>{u=!0,null==s||s(!0)}}function c(e,t){Object.assign(e.style,t)}},23174:(e,t,n)=>{"use strict";n.d(t,{KL:()=>a.KL,Nu:()=>a.Nu,QD:()=>a.QD,jc:()=>a.jc,jf:()=>a.jf}),n(10428);var a=n(56051)},23693:(e,t,n)=>{"use strict";var a,o;n.d(t,{_:()=>o,k:()=>a}),function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(a||(a={})),function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(o||(o={}))},24082:(e,t,n)=>{"use strict";n.d(t,{HE:()=>s,d$:()=>c});var a=n(809);const o="undefined:";function r(e,t){return void 0===t?`${o}marker`:t}function i(e,t){return"string"==typeof t&&t.startsWith(a.tH)?BigInt(t.slice(a.tH.length)):"string"==typeof t&&t.startsWith(o)?void 0:t}function s(e){return JSON.stringify(e,r)}function c(e){return"string"==typeof e?JSON.parse(e,i):e}},31481:(e,t,n)=>{"use strict";n.d(t,{AIK:()=>me,AuB:()=>mn,Avc:()=>wn,B9l:()=>_,BZS:()=>De,Ba4:()=>un,Bqy:()=>ut,Bx3:()=>yn,C39:()=>i,CV:()=>Fe,Czf:()=>Dt,Dde:()=>Q,DvZ:()=>T,F9m:()=>Pe,FHx:()=>D,FgL:()=>be,Fgn:()=>Et,Fkn:()=>ue,Fmr:()=>ht,GX2:()=>it,Guj:()=>o,HOw:()=>Ye,HWN:()=>Te,I04:()=>ce,Ia6:()=>Ee,JDR:()=>we,JWy:()=>Le,JhS:()=>Bt,Jxt:()=>Se,K_I:()=>Ft,Kfi:()=>zt,Kih:()=>se,KmP:()=>jt,Kq_:()=>_e,LaL:()=>S,MS3:()=>J,MVx:()=>u,NEx:()=>L,NFS:()=>We,OKZ:()=>Qt,OZB:()=>At,Oig:()=>d,OuE:()=>Ue,PKm:()=>Ce,PcM:()=>U,Pcx:()=>Pt,QSz:()=>ct,RTV:()=>w,S7e:()=>Lt,ScF:()=>xt,Svl:()=>cn,TI6:()=>r,Tu9:()=>at,UAn:()=>ze,UMQ:()=>b,USn:()=>dn,UuV:()=>ee,V3_:()=>B,VL7:()=>E,Vxu:()=>le,W1_:()=>I,W75:()=>h,WHY:()=>Yt,WUE:()=>pt,WVU:()=>Gt,Wvq:()=>Me,X1K:()=>He,X6R:()=>Xe,X7T:()=>ot,Xr6:()=>Ae,YDh:()=>ln,YO8:()=>K,YnH:()=>ie,Yyb:()=>R,ZYg:()=>Jt,_bq:()=>kt,aD4:()=>M,aEZ:()=>Xt,b2d:()=>Je,bOf:()=>X,c2m:()=>H,dCY:()=>pn,dL4:()=>qe,dlH:()=>m,dmC:()=>he,dnp:()=>ne,dqR:()=>$e,eZ2:()=>Vt,eec:()=>ge,eoU:()=>Ot,fPM:()=>vn,fSo:()=>pe,gR8:()=>qt,gSB:()=>Re,gY_:()=>je,gbw:()=>rn,gmk:()=>k,gpw:()=>Be,gs5:()=>gn,h4K:()=>ye,hL1:()=>g,hUJ:()=>Ge,hUs:()=>Ut,hkI:()=>O,hl5:()=>s,hnd:()=>Oe,i11:()=>re,iAh:()=>P,iX4:()=>It,igk:()=>Y,jht:()=>y,jt9:()=>mt,jzp:()=>q,k9U:()=>Z,kuH:()=>sn,kuw:()=>xe,lWW:()=>j,lfO:()=>St,lk4:()=>z,lnc:()=>Zt,lsx:()=>ft,mEK:()=>fn,n3s:()=>Ne,nQN:()=>et,nj6:()=>Rt,o$d:()=>Ie,oR5:()=>Ct,oUU:()=>rt,ow1:()=>W,p8S:()=>f,pLj:()=>Ke,pV9:()=>$t,pge:()=>te,pyN:()=>tn,q5n:()=>Qe,qL:()=>Ze,qsd:()=>an,rFA:()=>c,rKC:()=>_t,rUK:()=>dt,reE:()=>G,rkj:()=>x,sml:()=>en,tCm:()=>Tt,tI4:()=>nt,tKX:()=>C,tOu:()=>Mt,tpB:()=>ve,twH:()=>p,uPU:()=>bt,uSm:()=>Kt,uyj:()=>N,v5B:()=>v,vOV:()=>l,vdF:()=>de,vsz:()=>lt,wOb:()=>Wt,wbd:()=>tt,wg4:()=>V,wln:()=>ke,wpN:()=>wt,xA_:()=>F,xB5:()=>$,xFF:()=>nn,yR2:()=>Ht,yq6:()=>A,zHL:()=>ae,zP3:()=>oe,zTb:()=>on,zll:()=>st});var a=n(65606);const o="production",r=!1,i=r?"TON Wallet":"MyTonWallet",s="4.1.3",c="03658ae9f7caa469fa0be2af5b3d6100b73de790",l="staging"===o?"Beta":"development"===o?"Dev":void 0,d="production"!==o&&"perf"!==o&&"test"!==o,u=!1,m=!1,p=!1,f="production"===o,h="test"===o,g=!1,v=!1,w="1"===a.env.IS_OPERA_EXTENSION,y=!1,b=!1,E=!1,k=!1,C=!1,N="https://dumb-host",S="[Inactive]",A=r?"https://wallet.ton.org":"https://mytonwallet.app",T=r?"https://beta.wallet.ton.org":"https://beta.mytonwallet.app",I="https://get.mytonwallet.io/",B="https://github.com/mytonwallet-org/mytonwallet",_="MyTonWalletBot",x=d&&!y,D="Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.",L=4,O=r?"TonWallet":"MyTonWallet",M=r?"https://wallet.ton.org":"https://mytonwallet.app",P=!r,F=24,R=P?[12,24]:[24],U=64,W=3,H=700,$=50,V=16,z=30,K=70,q=110,j=120,Y=156,G=192,Q=0,X=4,J=" ",Z=5,ee=!1,te=r?"tonwallet-global-state":"mytonwallet-global-state",ne=0,ae=1,oe=2,re=oe,ie="system",se="0-ton-mainnet",ce=9,le=2,de=3,ue="mysupport",me={en:"MyTonWalletTips",ru:"MyTonWalletTipsRu"},pe={getgems:"Getgems",fragment:"Fragment"},fe="https://static.mytonwallet.org",he=`${fe}/cards/`,ge=`${fe}/mint-cards/`,ve="https://mytonwallet.io/",we="https://multisend.mytonwallet.io/",ye="https://web.telegram.org/a/",be="https://getgems.io/",Ee=pe.getgems,ke="https://getgems.io/",Ce="https://testnet.getgems.io/",Ne="NOHASH",Se=["http://localhost:*","https://tonscan.org"],Ae="https://*.mytonwallet.io",Te="support@changelly.com",Ie="https://changelly.com/",Be="security@changelly.com",_e="https://changelly.com/terms-of-use",xe="https://changelly.com/privacy-policy",De="https://changelly.com/aml-kyc",Le=108e5,Oe="tonproxy.io:38080 tonproxy.io:38081 tonproxy.io:38082",Me=.01,Pe="mtw-image",Fe="mtw-lang-232",Re=[{langCode:"en",name:"English",nativeName:"English",rtl:!1},{langCode:"es",name:"Spanish",nativeName:"Español",rtl:!1},{langCode:"ru",name:"Russian",nativeName:"Русский",rtl:!1},{langCode:"zh-Hans",name:"Chinese (Simplified)",nativeName:"简体",rtl:!1},{langCode:"zh-Hant",name:"Chinese (Traditional)",nativeName:"繁體",rtl:!1},{langCode:"tr",name:"Turkish",nativeName:"Türkçe",rtl:!1},{langCode:"de",name:"German",nativeName:"Deutsch",rtl:!1},{langCode:"th",name:"Thai",nativeName:"ไทย",rtl:!1},{langCode:"uk",name:"Ukrainian",nativeName:"Українська",rtl:!1},{langCode:"pl",name:"Polish",nativeName:"Polski",rtl:!1}],Ue=r,We=65536e3,He=1000000000n,$e=15000000n,Ve="EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o",ze=He,Ke=10000n*He,qe=100000000n,je=2,Ye=r?"tonwallet":"mytonwallet",Ge="embedded-dapp-bridge",Qe=["0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2","0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2"],Xe="super:telegram-gifts",Je="https://cards.mytonwallet.io",Ze="EQCQE2L9hfwx1V8sgmF9keraHx1rNK9VmgR1ctVvINBGykyM",et="EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",tt=14,nt=30,at={name:"Toncoin",symbol:"TON",slug:"toncoin",decimals:9,chain:"ton",cmcSlug:"toncoin"},ot={name:"TRON",symbol:"TRX",slug:"trx",decimals:6,chain:"tron",cmcSlug:"tron"},rt={name:"MyTonWallet Coin",symbol:"MY",slug:"ton-eqcfvnlrbn",decimals:9,chain:"ton",minterAddress:"EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w"},it={...rt,slug:"ton-kqawlxpebw",minterAddress:"kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ"},st={ton:{isMemoSupported:!0,isDnsSupported:!0,addressRegex:/^([-\w_]{48}|0:[\da-h]{64})$/i,addressPrefixRegex:/^([-\w_]{1,48}|0:[\da-h]{0,64})$/i,nativeToken:at},tron:{isMemoSupported:!1,isDnsSupported:!1,addressRegex:/^T[1-9A-HJ-NP-Za-km-z]{33}$/,addressPrefixRegex:/^T[1-9A-HJ-NP-Za-km-z]{0,33}$/,nativeToken:ot,mainnet:{apiUrl:"https://tronapi.mytonwallet.org",usdtAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t"},testnet:{apiUrl:"https://api.shasta.trongrid.io",usdtAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs"}}},ct="tron-tr7nhqjekq",lt="tron-tg3xxyexbk",dt="ton-eqcxe6mutq",ut="ton-eqcqc6ehrj",mt="TW2LXSebZ7Br1zHaiA2W1zRojDkDwjGmpw",pt=1e6,ft="https://t.me/id_app/start?startapp=cQeewNnc3pVphUcwY63WruKMQDpgePd1E7eMVoqphMZAdGoU9jwS4qRqrM1kSeaqrAiiDiC3EYAJPwZDGWqxZpw5vtGxmHma59XEt",ht=(new Set([at.slug,dt,ot.slug,ct]),"ton-eqcm3b12qk"),gt={name:"Tether USD",symbol:"USDT",decimals:6,chain:"tron"},vt={name:"Tether USD",symbol:"USD₮",chain:"ton",slug:dt,decimals:6,tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs"},wt={name:"Ethena USDe",symbol:"USDe",chain:"ton",tokenAddress:"EQAIb6KmdfdDR7CN1GBqVJuP25iCnLKCvBlJ07Evuu2dzP5f",slug:"ton-eqaib6kmdf",decimals:6,image:"https://imgproxy.toncenter.com/binMwUmcnFtjvgjp4wSEbsECXwfXUwbPkhVvsvpubNw/pr:small/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvVVNEZS5wbmc"},yt={name:"Ethena tsUSDe",symbol:"tsUSDe",chain:"ton",tokenAddress:"EQDQ5UUyPHrLcQJlPAczd_fjxn8SLrlNQwolBznxCdSlfQwr",slug:"ton-eqdq5uuyph",decimals:6,image:"https://cache.tonapi.io/imgproxy/vGZJ7erwsWPo7DpVG_V7ygNn7VGs0szZXcNLHB_l0ms/rs:fill:200:200:1/g:no/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvdHNVU0RlLnBuZw.webp"},bt=[Ve,"EQC3roTiRRsoLzfYVK7yVVoIZjTEqAjQU3ju7aQ7HWTVL5o5","EQChGuD1u0e7KUWHH5FaYh_ygcLXhsdG2nSHPXHW8qqnpZXW",yt.tokenAddress],Et=[at.slug,dt,ot.slug,lt,ct],kt=4,Ct=[at.slug,dt,ot.slug],Nt={isFromBackend:!0,price:0,priceUsd:0,percentChange24h:0},St={toncoin:{...at,isFromBackend:!0,price:3.1,priceUsd:3.1,percentChange24h:0},trx:{...ot,...Nt},[ct]:{...gt,slug:ct,tokenAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",...Nt},[lt]:{...gt,slug:lt,tokenAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs",...Nt},[dt]:{...vt,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",slug:dt,...Nt},[rt.slug]:{...rt,image:"https://cache.tonapi.io/imgproxy/Qy038wCBKISofJ0hYMlj6COWma330cx3Ju1ZSPM2LRU/rs:fill:200:200:1/g:no/aHR0cHM6Ly9teXRvbndhbGxldC5pby9sb2dvLTI1Ni1ibHVlLnBuZw.webp",...Nt},[wt.slug]:{...wt,...Nt},[yt.slug]:{...yt,...Nt}},At={[ct]:"TRC-20",[lt]:"TRC-20",[dt]:"TON"},Tt={toncoin:{name:"Toncoin",symbol:at.symbol,chain:at.chain,slug:at.slug,decimals:at.decimals,price:0,priceUsd:0,isPopular:!0},[dt]:{name:"Tether USD",symbol:"USD₮",chain:"ton",slug:dt,decimals:9,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs",price:0,priceUsd:0,isPopular:!0}},It=at.slug,Bt=at.slug,_t=dt,xt=at.slug,Dt=ct,Lt={dedust:"DeDust",ston:"STON.fi"},Ot=r?"tw-multitab":"mtw-multitab",Mt=r?"tw-active-tab":"mtw-active-tab",Pt="windowProvider",Ft=r,Rt=4,Ut=6,Wt="USD",Ht={USD:{name:"US Dollar",decimals:2,shortSymbol:"$"},EUR:{name:"Euro",decimals:2,shortSymbol:"€"},RUB:{name:"Ruble",decimals:2,shortSymbol:"₽"},CNY:{name:"Yuan",decimals:2,shortSymbol:"¥"},BTC:{name:"Bitcoin",decimals:9},[at.symbol]:{name:"Toncoin",decimals:9}},$t="UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ",Vt=["v3R1","v3R2","v4R2","W5"],zt=["1D","7D","1M","3M","1Y","ALL"],Kt=10,qt=4,jt="EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW",Yt=30,Gt=["EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2","EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ","EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s","EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm","EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd","EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD","EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p","EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO","EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe","EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-","EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu","EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH","EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy","EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT","EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu","EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw"],Qt="EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash",Xt=30000000n,Jt="claim",Zt="EQBpst3ZWJ9Dqq5gE2YH-yPsFK_BqMOmgi7Z_qK6v7WbrPWv",en="Mint card",tn="Refund",nn="⭐️",an="https://giveaway.mytonwallet.io",on=[{value:"never",name:"Disabled",selectedName:"Disabled",period:0},{value:"1",name:"30 seconds",selectedName:"If away for 30 sec",period:3e4},{value:"2",name:"3 minutes",selectedName:"If away for 3 min",period:18e4},{value:"3",name:"10 minutes",selectedName:"If away for 10 min",period:6e5}],rn=5,sn=new Set(["173e31eee054cb0c76f77edc7956bed766bf48a1f63bd062d87040dcd3df700f","5226dd4e6db9af26b24d5ca822bc4053b7e08152f923932abf25030c7e38bb42","fea2c08a704e5192b7f37434927170440d445b87aab865c3ea2a68abe7168204","e691cf9081a8aeb22ed4d94829f6626c9d822752e035800b5543c43f83d134b5","301ce25925830d713b326824e552e962925c4ff45b1e3ea21fc363a459a49b43","02250f83fbb8624d859c2c045ac70ee2b3b959688c3d843aec773be9b36dbfc3","dba3adb2c917db80fd71a6a68c1fc9e12976491a8309d5910f9722efc084ce4d","7da9223b90984d6a144e71611a8d7c65a6298cad734faed79438dc0f7a8e53d1","ddf80de336d580ab3c11d194f189c362e2ca1225cae224ea921deeaba7eca818","eb9d9891a32ec94425c09735f6ade73f4c171da0091f874d6e9d25247d583990","f66c149de251ffd031bdb34b79abe43a062ba16b815433691e3ec40a77f01d71","bca42dbdcbc0d885aaffb1eeeb027d9f338c2dd68701a05641c1d1c3171a7400"]),cn=new Set([ut,"ton-eqcbzvsfwq",yt.slug]),ln=.875,dn={type:"liquid",id:"liquid",tokenSlug:at.slug,annualYield:3.9,yieldType:"APY",balance:0n,pool:Ve,tokenBalance:0n,unstakeRequestAmount:0n,instantAvailable:0n,start:0,end:0},un={type:"nominators",id:"nominators",tokenSlug:at.slug,annualYield:3.9,yieldType:"APY",balance:0n,pool:"Ef8dgIOIRyCLU0NEvF8TD6Me3wrbrkS1z3Gpjk3ppd8m8-s_",start:0,end:0,pendingDepositAmount:0n},mn=3,pn="https://jvault.xyz",fn={home:{en:"https://help.mytonwallet.io/",ru:"https://help.mytonwallet.io/ru"},domainScam:{en:"https://help.mytonwallet.io/intro/scams/.ton-domain-scams",ru:"https://help.mytonwallet.io/ru/baza-znanii/moshennichestvo-i-skamy/moshennichestvo-s-ispolzovaniem-domenov-.ton"},seedScam:{en:"https://help.mytonwallet.io/intro/scams/leaked-seed-phrases",ru:"https://help.mytonwallet.io/ru/baza-znanii/moshennichestvo-i-skamy/slitye-sid-frazy"},ethenaStaking:{en:"https://help.mytonwallet.io/intro/staking/what-is-usde-how-does-usde-staking-work",ru:"https://help.mytonwallet.io/ru/baza-znanii/steiking/chto-takoe-usde-kak-rabotaet-steiking-usde"}},hn=[{suffixes:["ton"],baseFormat:/^([-\da-z]+\.){0,2}[-\da-z]{4,126}$/i,resolver:"EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",collectionName:"TON DNS Domains"},{suffixes:["t.me"],baseFormat:/^([-\da-z]+\.){0,2}[-_\da-z]{4,32}$/i,resolver:"EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi",isTelemint:!0,collectionName:"Telegram Usernames"},{suffixes:["vip","ton.vip","vip.ton"],baseFormat:/^([-\da-z]+\.){0,2}?[\da-z]{1,24}$/i,resolver:"EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS",collectionName:"VIP DNS Domains",isUnofficial:!0},{suffixes:["gram"],baseFormat:/^([-\da-z]+\.){0,2}[\da-z]{1,127}$/i,resolver:"EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ",collectionName:"GRAM DNS Domains",isUnofficial:!0}],gn=r?hn.filter((e=>{let{isUnofficial:t}=e;return!t})):hn,vn="3",wn=2,yn={symbol:"[Unknown]",decimals:9}},36791:(e,t,n)=>{"use strict";function a(){const{userAgent:e,platform:t}=window.navigator;return/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":void 0}n.d(t,{u:()=>a})},37448:(e,t,n)=>{"use strict";var a,o;n.d(t,{Wi:()=>o,__:()=>a}),function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(a||(a={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(o||(o={}))},37836:(e,t,n)=>{"use strict";n.d(t,{Fe:()=>i,Gf:()=>E,IJ:()=>p,fm:()=>b,kI:()=>w,nF:()=>r,nb:()=>s,sg:()=>o,v7:()=>a,yu:()=>y});const a=e=>new Promise((t=>{setTimeout((()=>t()),e)}));function o(e,t){let n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n?(clearTimeout(n),n=void 0):a&&e(...i),n=self.setTimeout((()=>{o&&e(...i),n=void 0}),t)}}function r(e,t){let n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!1;async function i(){await("function"==typeof t?t():a(t)),s()}async function s(){if(n)try{const t=n;n=void 0,await e(...t)}finally{i()}else r=!1}return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=t,r||(r=!0,o?s():i())}}function i(e){return s(f,e)}function s(e,t){let n,a=!1;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n=r,a||(a=!0,e((()=>{a=!1,t(...n)})))}}const c=35;let l,d,u,m;function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l?l.add(e):(l=new Set([e]),requestAnimationFrame((()=>{const e=l;l=void 0,d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}))),t&&(d?d.add(e):d=new Set([e]),u||(u=window.setTimeout((()=>{const e=d;l&&e.forEach(l.delete,l),d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}),c)))}function f(e){m?m.push(e):(m=[e],Promise.resolve().then((()=>{const e=m;m=void 0,e.forEach((e=>e()))})))}const h=500;let g,v;function w(e){self.requestIdleCallback?g?g.push(e):(g=[e],requestIdleCallback((e=>{const t=g;for(g=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(g?g=t.concat(g):t.forEach(w))}),{timeout:h})):f(e)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v||(v=[],self.addEventListener("beforeunload",(()=>{v.forEach((e=>e()))}))),t?v.push(e):v.unshift(e),()=>{v=v.filter((t=>t!==e))}}async function b(e,t,n){let o=0,r=e();for(;!r&&o<n;)await a(t),o++,r=e();return r}function E(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}},41074:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,M1:()=>c,bP:()=>r});var a=n(31481),o=n(5130);const r=Math.min(navigator.hardwareConcurrency||4,4);let i;function s(){return a.W75?[]:(i||(i=new Array(r).fill(void 0).map((()=>{const e=new Worker(new URL(n.p+n.u(524),n.b));return{worker:e,connector:(0,o.U$)(e)}}))),i)}function c(e,t){return s()[t].connector.request(e)}},48217:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var a=n(31481),o=n(10309);const r=a.hL1&&!["chrome-extension:","moz-extension:"].includes(self.location.protocol);var i=n(55029),s=n(37836);const c=("development"===a.Guj||"staging"===a.Guj)&&"object"==typeof window&&!r,l=(0,s.nF)((e=>window.alert(e)),10*o.Z2);function d(e){e instanceof ErrorEvent&&"ResizeObserver loop limit exceeded"===e.message||(e.preventDefault(),u(e instanceof ErrorEvent?e.error||e.message:e.reason))}function u(e){(0,i.SJ)("handleError",e);const t="string"==typeof e?e:e.message,n="object"==typeof e?e.stack:void 0;t.endsWith("Failed to import rlottie-wasm.js")||c&&l(`${a.FHx}\n\n${t||e}\n${n}`)}self.addEventListener("error",d),self.addEventListener("unhandledrejection",d)},48287:(e,t,n)=>{"use strict";const a=n(67526),o=n(251),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|h(e,t);let a=s(n);const o=a.write(e,t);return o!==n&&(a=a.slice(0,o)),a}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return c.from(a,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Q(e.length)?s(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),s(e<0?0:0|f(e))}function m(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let a=0;a<t;a+=1)n[a]=255&e[a];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let a;return a=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(a,c.prototype),a}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(o)return a?-1:q(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function v(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function w(e,t,n,a,o){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,a)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,a,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,a,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,a,o){let r,i=1,s=e.length,c=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;i=2,s/=2,c/=2,n/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){let a=-1;for(r=n;r<s;r++)if(l(e,r)===l(t,-1===a?0:r-a)){if(-1===a&&(a=r),r-a+1===c)return a*i}else-1!==a&&(r-=r-a),a=-1}else for(n+c>s&&(n=s-c),r=n;r>=0;r--){let n=!0;for(let a=0;a<c;a++)if(l(e,r+a)!==l(t,a)){n=!1;break}if(n)return r}return-1}function b(e,t,n,a){n=Number(n)||0;const o=e.length-n;a?(a=Number(a))>o&&(a=o):a=o;const r=t.length;let i;for(a>r/2&&(a=r/2),i=0;i<a;++i){const a=parseInt(t.substr(2*i,2),16);if(Q(a))return i;e[n+i]=a}return i}function E(e,t,n,a){return Y(q(t,e.length-n),e,n,a)}function k(e,t,n,a){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function C(e,t,n,a){return Y(j(t),e,n,a)}function N(e,t,n,a){return Y(function(e,t){let n,a,o;const r=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),a=n>>8,o=n%256,r.push(o),r.push(a);return r}(t,e.length-n),e,n,a)}function S(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const a=[];let o=t;for(;o<n;){const t=e[o];let r=null,i=t>239?4:t>223?3:t>191?2:1;if(o+i<=n){let n,a,s,c;switch(i){case 1:t<128&&(r=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(r=c));break;case 3:n=e[o+1],a=e[o+2],128==(192&n)&&128==(192&a)&&(c=(15&t)<<12|(63&n)<<6|63&a,c>2047&&(c<55296||c>57343)&&(r=c));break;case 4:n=e[o+1],a=e[o+2],s=e[o+3],128==(192&n)&&128==(192&a)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&a)<<6|63&s,c>65535&&c<1114112&&(r=c))}}null===r?(r=65533,i=1):r>65535&&(r-=65536,a.push(r>>>10&1023|55296),r=56320|1023&r),a.push(r),o+=i}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=T));return n}(a)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return d(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return u(e)},c.allocUnsafeSlow=function(e){return u(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(G(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,a=t.length;for(let o=0,r=Math.min(n,a);o<r;++o)if(e[o]!==t[o]){n=e[o],a=t[o];break}return n<a?-1:a<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const a=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(G(t,Uint8Array))o+t.length>a.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(a,o)):Uint8Array.prototype.set.call(a,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(a,o)}o+=t.length}return a},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(e,t,n,a,o){if(G(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===o&&(o=this.length),t<0||n>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&t>=n)return 0;if(a>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let r=(o>>>=0)-(a>>>=0),i=(n>>>=0)-(t>>>=0);const s=Math.min(r,i),l=this.slice(a,o),d=e.slice(t,n);for(let e=0;e<s;++e)if(l[e]!==d[e]){r=l[e],i=d[e];break}return r<i?-1:i<r?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},c.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let r=!1;for(;;)switch(a){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function I(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(127&e[o]);return a}function B(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(e[o]);return a}function _(e,t,n){const a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);let o="";for(let a=t;a<n;++a)o+=X[e[a]];return o}function x(e,t,n){const a=e.slice(t,n);let o="";for(let e=0;e<a.length-1;e+=2)o+=String.fromCharCode(a[e]+256*a[e+1]);return o}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,a,o,r){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function O(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,n}function M(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n+7]=r,r>>=8,e[n+6]=r,r>>=8,e[n+5]=r,r>>=8,e[n+4]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=i,i>>=8,e[n+2]=i,i>>=8,e[n+1]=i,i>>=8,e[n]=i,n+8}function P(e,t,n,a,o,r){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,a,r){return t=+t,n>>>=0,r||P(e,0,n,4),o.write(e,t,n,a,23,4),n+4}function R(e,t,n,a,r){return t=+t,n>>>=0,r||P(e,0,n,8),o.write(e,t,n,a,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const a=this.subarray(e,t);return Object.setPrototypeOf(a,c.prototype),a},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return a},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=this[e+--t],o=1;for(;t>0&&(o*=256);)a+=this[e+--t]*o;return a},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(a)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(a)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=t,o=1,r=this[e+--a];for(;a>0&&(o*=256);)r+=this[e+--a]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||L(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||L(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);L(this,e,t,n,a-1,-a)}let o=0,r=1,i=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},c.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);L(this,e,t,n,a-1,-a)}let o=n-1,r=1,i=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,a){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);const o=a-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),t),o},c.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!c.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===e.length){const t=e.charCodeAt(0);("utf8"===a&&t<128||"latin1"===a)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const r=c.isBuffer(e)?e:c.from(e,a),i=r.length;if(0===i)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=r[o%i]}return this};const U={};function W(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",n=e.length;const a="-"===e[0]?1:0;for(;n>=a+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,a,o,r){if(e>n||e<t){const a="bigint"==typeof t?"n":"";let o;throw o=r>3?0===t||t===BigInt(0)?`>= 0${a} and < 2${a} ** ${8*(r+1)}${a}`:`>= -(2${a} ** ${8*(r+1)-1}${a}) and < 2 ** ${8*(r+1)-1}${a}`:`>= ${t}${a} and <= ${n}${a}`,new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(a,o,r)}function V(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,n){let a=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=H(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=H(o)),o+="n"),a+=` It must be ${t}. Received ${o}`,a}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const a=e.length;let o=null;const r=[];for(let i=0;i<a;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(i+1===a){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function j(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,a){let o;for(o=0;o<a&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const a=16*n;for(let o=0;o<16;++o)t[a+o]=e[n]+e[o]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},48805:(e,t,n)=>{"use strict";n.d(t,{z:()=>f});var a=1e6,o="[big.js] ",r=o+"Invalid ",i=r+"decimal places",s=r+"rounding mode",c=o+"Division by zero",l={},d=void 0,u=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,n,a){var o=e.c;if(n===d&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(s);if(t<1)a=3===n&&(a||!!o[0])||0===t&&(1===n&&o[0]>=5||2===n&&(o[0]>5||5===o[0]&&(a||o[1]!==d))),o.length=1,a?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(a=1===n&&o[t]>=5||2===n&&(o[t]>5||5===o[t]&&(a||o[t+1]!==d||1&o[t-1]))||3===n&&(a||!!o[0]),o.length=t,a)for(;++o[--t]>9;)if(o[t]=0,0===t){++e.e,o.unshift(1);break}for(t=o.length;!o[--t];)o.pop()}return e}function p(e,t,n){var a=e.e,o=e.c.join(""),r=o.length;if(t)o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(a>0)if(++a>r)for(a-=r;a--;)o+="0";else a<r&&(o=o.slice(0,a)+"."+o.slice(a));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&n?"-"+o:o}l.abs=function(){var e=new this.constructor(this);return e.s=1,e},l.cmp=function(e){var t,n=this,a=n.c,o=(e=new n.constructor(e)).c,r=n.s,i=e.s,s=n.e,c=e.e;if(!a[0]||!o[0])return a[0]?r:o[0]?-i:0;if(r!=i)return r;if(t=r<0,s!=c)return s>c^t?1:-1;for(i=(s=a.length)<(c=o.length)?s:c,r=-1;++r<i;)if(a[r]!=o[r])return a[r]>o[r]^t?1:-1;return s==c?0:s>c^t?1:-1},l.div=function(e){var t=this,n=t.constructor,o=t.c,r=(e=new n(e)).c,s=t.s==e.s?1:-1,l=n.DP;if(l!==~~l||l<0||l>a)throw Error(i);if(!r[0])throw Error(c);if(!o[0])return e.s=s,e.c=[e.e=0],e;var u,p,f,h,g,v=r.slice(),w=u=r.length,y=o.length,b=o.slice(0,u),E=b.length,k=e,C=k.c=[],N=0,S=l+(k.e=t.e-e.e)+1;for(k.s=s,s=S<0?0:S,v.unshift(0);E++<u;)b.push(0);do{for(f=0;f<10;f++){if(u!=(E=b.length))h=u>E?1:-1;else for(g=-1,h=0;++g<u;)if(r[g]!=b[g]){h=r[g]>b[g]?1:-1;break}if(!(h<0))break;for(p=E==u?r:v;E;){if(b[--E]<p[E]){for(g=E;g&&!b[--g];)b[g]=9;--b[g],b[E]+=10}b[E]-=p[E]}for(;!b[0];)b.shift()}C[N++]=h?f:++f,b[0]&&h?b[E]=o[w]||0:b=[o[w]]}while((w++<y||b[0]!==d)&&s--);return C[0]||1==N||(C.shift(),k.e--,S--),N>S&&m(k,S,n.RM,b[0]!==d),k},l.eq=function(e){return 0===this.cmp(e)},l.gt=function(e){return this.cmp(e)>0},l.gte=function(e){return this.cmp(e)>-1},l.lt=function(e){return this.cmp(e)<0},l.lte=function(e){return this.cmp(e)<1},l.minus=l.sub=function(e){var t,n,a,o,r=this,i=r.constructor,s=r.s,c=(e=new i(e)).s;if(s!=c)return e.s=-c,r.plus(e);var l=r.c.slice(),d=r.e,u=e.c,m=e.e;if(!l[0]||!u[0])return u[0]?e.s=-c:l[0]?e=new i(r):e.s=1,e;if(s=d-m){for((o=s<0)?(s=-s,a=l):(m=d,a=u),a.reverse(),c=s;c--;)a.push(0);a.reverse()}else for(n=((o=l.length<u.length)?l:u).length,s=c=0;c<n;c++)if(l[c]!=u[c]){o=l[c]<u[c];break}if(o&&(a=l,l=u,u=a,e.s=-e.s),(c=(n=u.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>s;){if(l[--n]<u[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=u[n]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--m;return l[0]||(e.s=1,l=[m=0]),e.c=l,e.e=m,e},l.mod=function(e){var t,n=this,a=n.constructor,o=n.s,r=(e=new a(e)).s;if(!e.c[0])throw Error(c);return n.s=e.s=1,t=1==e.cmp(n),n.s=o,e.s=r,t?new a(n):(o=a.DP,r=a.RM,a.DP=a.RM=0,n=n.div(e),a.DP=o,a.RM=r,this.minus(n.times(e)))},l.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},l.plus=l.add=function(e){var t,n,a,o=this,r=o.constructor;if(e=new r(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var i=o.e,s=o.c,c=e.e,l=e.c;if(!s[0]||!l[0])return l[0]||(s[0]?e=new r(o):e.s=o.s),e;if(s=s.slice(),t=i-c){for(t>0?(c=i,a=l):(t=-t,a=s),a.reverse();t--;)a.push(0);a.reverse()}for(s.length-l.length<0&&(a=l,l=s,s=a),t=l.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+l[t]+n)/10|0;for(n&&(s.unshift(n),++c),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=c,e},l.pow=function(e){var t=this,n=new t.constructor("1"),a=n,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(r+"exponent");for(o&&(e=-e);1&e&&(a=a.times(t)),e>>=1;)t=t.times(t);return o?n.div(a):a},l.prec=function(e,t){if(e!==~~e||e<1||e>a)throw Error(r+"precision");return m(new this.constructor(this),e,t)},l.round=function(e,t){if(e===d)e=0;else if(e!==~~e||e<-a||e>a)throw Error(i);return m(new this.constructor(this),e+this.e+1,t)},l.sqrt=function(){var e,t,n,a=this,r=a.constructor,i=a.s,s=a.e,c=new r("0.5");if(!a.c[0])return new r(a);if(i<0)throw Error(o+"No square root");0===(i=Math.sqrt(a+""))||i===1/0?((t=a.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new r(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):e=new r(i+""),s=e.e+(r.DP+=4);do{n=e,e=c.times(n.plus(a.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return m(e,(r.DP-=4)+e.e+1,r.RM)},l.times=l.mul=function(e){var t,n=this,a=n.constructor,o=n.c,r=(e=new a(e)).c,i=o.length,s=r.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!o[0]||!r[0])return e.c=[e.e=0],e;for(e.e=c+l,i<s&&(t=o,o=r,r=t,l=i,i=s,s=l),t=new Array(l=i+s);l--;)t[l]=0;for(c=s;c--;){for(s=0,l=i+c;l>c;)s=t[l]+r[c]*o[l-c-1]+s,t[l--]=s%10,s=s/10|0;t[l]=s}for(s?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},l.toExponential=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(n=m(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return p(n,!0,!!o)},l.toFixed=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(e=e+(n=m(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return p(n,!1,!!o)},l[Symbol.for("nodejs.util.inspect.custom")]=l.toJSON=l.toString=function(){var e=this,t=e.constructor;return p(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},l.toNumber=function(){var e=Number(p(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(o+"Imprecise conversion");return e},l.toPrecision=function(e,t){var n=this,o=n.constructor,i=n.c[0];if(e!==d){if(e!==~~e||e<1||e>a)throw Error(r+"precision");for(n=m(new o(n),e,t);n.c.length<e;)n.c.push(0)}return p(n,e<=n.e||n.e<=o.NE||n.e>=o.PE,!!i)},l.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(o+"valueOf disallowed");return p(e,e.e<=t.NE||e.e>=t.PE,!0)};var f=function e(){function t(n){var a=this;if(!(a instanceof t))return n===d?e():new t(n);if(n instanceof t)a.s=n.s,a.e=n.e,a.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(r+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,a,o;if(!u.test(t))throw Error(r+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),o=t.length,a=0;a<o&&"0"==t.charAt(a);)++a;if(a==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=n-a-1,e.c=[],n=0;a<=o;)e.c[n++]=+t.charAt(a++)}}(a,n)}a.constructor=t}return t.prototype=l,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()},50110:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(31481),o=n(48217);const r=!a.MVx;function i(e,t){if(!r)return e();const{rescue:n,always:a,shouldIgnoreError:i}=t??{};try{return e()}catch(e){return null==n||n(e),void(i||(0,o.H)(e))}finally{null==a||a()}}},51915:(e,t,n)=>{"use strict";n.d(t,{i6:()=>c,jT:()=>a,ks:()=>s,nm:()=>r,rt:()=>i});const a="#detached";let o;function r(){return async function(){const e=await chrome.tabs.create({url:`index.html${a}`,active:!0});return await chrome.windows.update(e.windowId,{focused:!0}),o=e.id,o}()}function i(){o&&chrome.tabs.query({active:!0},(()=>{o&&chrome.tabs.remove(o)}))}async function s(){const e=await chrome.tabs.getCurrent();null!=e&&e.id&&await chrome.tabs.remove(e.id)}function c(e,t){const n=a=>{a===e&&(o=void 0,chrome.tabs.onRemoved.removeListener(n),t())};chrome.tabs.onRemoved.addListener(n)}},54218:(e,t,n)=>{"use strict";n.d(t,{kB:()=>i,p:()=>r}),n(24082);var a=n(55029);const o=new Map;function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:self;function o(e,a){e.channel=t,a?n.postMessage(e,a):n.postMessage(e)}function r(n){var a;(null===(a=n.data)||void 0===a?void 0:a.channel)===t&&s(e,n.data,o)}return(arguments.length>3?arguments[3]:void 0)||function(e){self.onerror=t=>{var n,o;const r=(null===(n=t.error)||void 0===n?void 0:n.message)||"Uncaught exception in worker";(0,a.SJ)(r,t.error),e({type:"unhandledError",error:{message:r,stack:null===(o=t.error)||void 0===o?void 0:o.stack}})},self.addEventListener("unhandledrejection",(t=>{var n,o;const r=(null===(n=t.reason)||void 0===n?void 0:n.message)||"Unhandled rejection in worker";(0,a.SJ)(r,t.reason),e({type:"unhandledError",error:{message:r,stack:null===(o=t.reason)||void 0===o?void 0:o.stack}})}))}(o),n.addEventListener("message",r),()=>{n.removeEventListener("message",r)}}function i(e,t,n,a){function o(e,o){if(e.channel=a,o)throw new Error("Cannot send `Transferable` to `Window`");n.postMessage(e,t)}function r(n){var r;t&&n.origin!==t||(null===(r=n.data)||void 0===r?void 0:r.channel)===a&&s(e,n.data,o)}return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}}async function s(e,t,n,r,i){switch(r||(r=e=>{n({type:"update",update:e})}),t.type){case"init":{var s;const{args:n}=t,a="function"==typeof e?e("init",i,r,...n):null===(s=e.init)||void 0===s?void 0:s.call(e,r,...n);await a;break}case"callMethod":{const{messageId:r,name:s,args:c,withCallback:l}=t;try{if("function"!=typeof e&&!e[s])return;if(r&&l){const e=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const o=t[t.length-1];var i;n({type:"methodCallback",messageId:r,callbackArgs:t},(i=o)instanceof ArrayBuffer||i instanceof ImageBitmap?[o]:void 0)};o.set(r,e),c.push(e)}const t="function"==typeof e?await e(s,i,...c):await e[s](...c),{arrayBuffer:a}="object"==typeof t&&t&&"arrayBuffer"in t||{};r&&n({type:"methodResponse",messageId:r,response:t},a?[a]:void 0)}catch(e){(0,a.SJ)(s,e),r&&n({type:"methodResponse",messageId:r,error:{message:e.message}})}r&&o.delete(r);break}case"cancelProgress":{const e=o.get(t.messageId);e&&(e.isCanceled=!0);break}}}},55029:(e,t,n)=>{"use strict";n.d(t,{MD:()=>u,SJ:()=>d,ao:()=>l,ef:()=>p,kJ:()=>m});var a=n(31481),o=n(59288);const r=999,i=[];function s(e,t){return t instanceof Error?{name:t.name,message:t.message,stack:t.stack,metadata:t instanceof o.p?t.metadata:void 0}:t}function c(e){i.length>r&&i.shift(),i.push({...e,args:e.args.map((e=>JSON.stringify(e,s))),time:Date.now()})}function l(){return i}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c({message:e,level:"debugError",args:n}),a.Oig&&console.error(`[DEBUG][${e}]`,...n)}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c({message:e,level:"debug",args:n}),a.Oig&&console.log(`[DEBUG] ${e}`,...n)}function m(e,t,n){a.dlH&&(console.debug(`[DEBUG] ${e}`),t&&console.dir(t),n&&console.dir(n))}function p(){const e={en:"WARNING! This console can be a way for bad people to take over your crypto wallet through something called a Self-XSS attack. So, don't put in or paste code you don't understand. Stay safe!",ru:"ВНИМАНИЕ! Через эту консоль злоумышленники могут захватить ваш криптовалютный кошелёк с помощью так называемой атаки Self-XSS. Поэтому не вводите и не вставляйте код, который вы не понимаете. Берегите себя!",es:"¡ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, no introduzca ni pegue código que no comprenda. ¡Cuídese!",zh:"警告！这个控制台可能成为坏人通过所谓的Self-XSS攻击来接管你的加密货币钱包的方式。因此，请不要输入或粘贴您不理解的代码。请保护自己！"},t=e[navigator.language.split("-")[0]]||e.en;console.log("%c%s","color: red; background: yellow; font-size: 18px;",t)}},56051:(e,t,n)=>{"use strict";n.d(t,{KL:()=>r,Nu:()=>o,QD:()=>a,jc:()=>s,jf:()=>i});let a=function(e){return e.Unexpected="Unexpected",e.ServerError="ServerError",e.DebugError="DebugError",e.UnsupportedVersion="UnsupportedVersion",e.InvalidPassword="InvalidPassword",e}({}),o=function(e){return e.InvalidMnemonic="InvalidMnemonic",e.InvalidAddress="InvalidAddress",e.DomainNotResolved="DomainNotResolved",e}({}),r=function(e){return e.InvalidAmount="InvalidAmount",e.InvalidToAddress="InvalidToAddress",e.InsufficientBalance="InsufficientBalance",e.InvalidStateInit="InvalidStateInit",e.DomainNotResolved="DomainNotResolved",e.WalletNotInitialized="WalletNotInitialized",e.InvalidAddressFormat="InvalidAddressFormat",e.InactiveContract="InactiveContract",e}({}),i=function(e){return e.PartialTransactionFailure="PartialTransactionFailure",e.IncorrectDeviceTime="IncorrectDeviceTime",e.InsufficientBalance="InsufficientBalance",e.UnsuccesfulTransfer="UnsuccesfulTransfer",e.WrongAddress="WrongAddress",e.WrongNetwork="WrongNetwork",e.ConcurrentTransaction="ConcurrentTransaction",e}({}),s=function(e){return e.HardwareOutdated="HardwareOutdated",e.BlindSigningNotEnabled="BlindSigningNotEnabled",e.RejectedByUser="RejectedByUser",e.ProofTooLarge="ProofTooLarge",e}({})},59121:(e,t,n)=>{"use strict";function a(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function o(e){return self.crypto.getRandomValues(new Uint8Array(e))}n.d(t,{po:()=>o,yT:()=>a}),n(48287).Buffer},59288:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});class a extends Error{constructor(e,t){super(e),this.metadata=t}}},59301:(e,t,n)=>{"use strict";n.d(t,{HN:()=>s,L5:()=>i,w6:()=>r});var a=n(3476);const o=new Set(["DisconnectedDeviceDuringOperation","TransportRaceCondition"]);function r(e,t,n){return i(t.index,"mainnet"!==e,n)}function i(e,t){return[44,607,t?1:0,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Zm)===a.li.MasterChain?255:0,e,0]}function s(e){return o.has(e)}},61995:(e,t,n)=>{"use strict";n.d(t,{xT:()=>a});const a={MIN_RESERVE:20000000n,DEPLOY_POOL:340000000n,NOTIFICATION:340000000n,JETTON_TRANSFER:55000000n,BURN_JETTONS:340000000n,STAKE_JETTONS:300000000n,UNSTAKE_JETTONS:340000000n,CANCEL_UNSTAKE:340000000n,SEND_COMMISSIONS:340000000n,SIMPLE_UPDATE_REQUEST:340000000n,ADD_REWARDS:340000000n,APPROVE_TRANSFER:340000000n,SAVE_UPDATED_REWARDS:340000000n,MIN_EXCESS:10000000n,SEND_STAKED_JETTONS:630000000n};BigInt(86400)},65606:e=>{var t,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var s,c=[],l=!1,d=-1;function u(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&m())}function m(){if(!l){var e=i(u);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||i(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},66644:(e,t,n)=>{"use strict";n.d(t,{RK:()=>m,YS:()=>u,gm:()=>p});var a=n(50110),o=n(37836),r=n(75357);let i=[],s=[],c=[];const l=(d=()=>{const e=i;i=[],e.forEach((e=>{(0,a.A)(e)})),Promise.resolve().then((()=>{(0,r.A)("mutate");const e=s;s=[],e.forEach((e=>{(0,a.A)(e)}))})).then((()=>{(0,r.A)("measure");const e=[];for(const t of c)(0,a.A)((()=>{const n=t();n&&e.push(n)}));return c=[],e})).then((e=>{(0,r.A)("mutate");for(const t of e)(0,a.A)(t)})).then((()=>{(0,r.A)("measure")}))},(0,o.nb)((e=>{(0,o.IJ)(e,!0)}),d));var d;function u(e){i.push(e),l()}function m(e){s.push(e),l()}function p(e){c.push(e),l()}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,r=s(e),i=r[0],c=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,c)),d=0,u=c>0?i-4:i;for(n=0;n<u;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===c&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,l[d++]=255&t),1===c&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l},t.fromByteArray=function(e){for(var t,a=e.length,o=a%3,r=[],i=16383,s=0,l=a-o;s<l;s+=i)r.push(c(e,s,s+i>l?l:s+i));return 1===o?(t=e[a-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[a-2]<<8)+e[a-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),r.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)n[i]=r[i],a[r.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,a){for(var o,r,i=[],s=t;s<a;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(r=o)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},75357:(e,t,n)=>{"use strict";n.d(t,{Z3:()=>d,Uj:()=>u,dL:()=>p,A:()=>l,bo:()=>f});const a={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let o=console.error;const r=new Map;let i,s="measure",c=!1;function l(e){s=e}function d(){c||(c=!0,Object.entries(a).forEach((e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach((e=>{var n;const a=null===(n=Object.getOwnPropertyDescriptor(o,e))||void 0===n?void 0:n.get;a&&(r.set(`${t}#${e}`,a),Object.defineProperty(o,e,{get(){return h(e),a.call(this)}}))})),"methods"in n&&n.methods.forEach((e=>{const n=o[e];r.set(`${t}#${e}`,n),o[e]=function(){h(e);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n.apply(this,a)}}))})),i=new MutationObserver((e=>{"mutate"!==s&&e.forEach((e=>{let{target:t,type:n,attributeName:a}=e;document.contains(t)&&(m.has(t)||"childList"===n&&t instanceof HTMLElement&&t.contentEditable||null!=a&&a.startsWith("data-")||o(new Error(`Unexpected mutation detected: \`${"attributes"===n?a:n}\``)))})),m.clear()})),i.observe(document.body,{childList:!0,attributes:!0,subtree:!0,characterData:!1}))}function u(e){if("mutate"!==s)throw new Error("The current phase is 'measure'");s="measure";const t=e();return s="mutate",t}const m=new Set;function p(e,t){if("measure"!==s)throw new Error("The current phase is 'mutate'");return c&&(Array.isArray(t)?t.forEach((e=>{m.add(e)})):m.add(t)),e()}function f(e){if(!c)return e();var t;c&&(null===(t=i)||void 0===t||t.disconnect(),i=void 0,Object.entries(a).forEach((e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach((e=>{const n=r.get(`${t}#${e}`);n&&Object.defineProperty(o,e,{get:n})})),"methods"in n&&n.methods.forEach((e=>{o[e]=r.get(`${t}#${e}`)}))})),r.clear(),c=!1);const n=e();return d(),n}function h(e){"measure"!==s&&o(new Error(`Unexpected measurement detected: \`${e}\``))}},76944:(e,t,n)=>{"use strict";n.d(t,{p:()=>v,R:()=>g});var a=n(55029),o=n(5130),r=n(37836),i=n(82393),s=n(31481),c=n(54218),l=n(95550);const d=150,u=5e3;let m,p,f,h=!1;function g(e,t){m=e,f||(p=new Worker(new URL(n.p+n.u(941),n.b)),f=(0,o.U$)(p,e),function(e){(0,c.p)(l,s.Pcx,e,!0)}(p)),h||(i.pz&&window.addEventListener("focus",(()=>{b(),setTimeout((()=>b()),1e3)})),h=!0);const a="function"==typeof t?t():t;return f.init(a)}async function v(e){if(f)try{for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const r=await f.request({name:e,args:n});return(0,a.kJ)(`callApi: ${e}`,n,r),r}catch(e){return}else(0,a.SJ)("API is not initialized when calling",e)}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return f.request({name:e,args:n})}const y=Date.now();async function b(){let e=!1;try{await Promise.race([w("ping"),(0,r.v7)(d).then((()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT"))))])}catch(e){var t;(0,a.SJ)("ensureWorkerPing",e),Date.now()-y>=u&&(null===(t=p)||void 0===t||t.terminate(),p=void 0,f=void 0,m({type:"requestReconnectApi"}))}finally{e=!0}}},82393:(e,t,n)=>{"use strict";n.d(t,{$:()=>F,$q:()=>S,By:()=>v,ED:()=>L,Et:()=>P,Fe:()=>I,H8:()=>m,KI:()=>x,Kc:()=>U,Lv:()=>A,MP:()=>u,Ni:()=>h,TF:()=>b,XS:()=>R,Yw:()=>g,ZH:()=>O,_7:()=>l,bA:()=>_,bs:()=>D,cp:()=>k,iF:()=>E,ig:()=>p,pr:()=>w,pz:()=>f,sC:()=>T,u2:()=>C,uh:()=>B,v3:()=>W,vj:()=>N,xy:()=>M});var a,o=n(31481),r=n(66644),i=n(51915),s=n(36791);const c=new Set(["android","android_x","ios"]),l=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),d=(0,s.u)(),u="macOS"===d,m="Windows"===d,p="Linux"===d,f="iOS"===d,h="Android"===d,g=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),v=navigator.userAgent.includes(" OPR/"),w=navigator.userAgent.includes(" Edg/"),y=navigator.userAgent.includes("Firefox/"),b=window.matchMedia("(pointer: coarse)").matches,E=Boolean(null===(a=window.chrome)||void 0===a?void 0:a.system),k=Boolean(window.electron),C=!(o.UMQ||k||o.hL1||o.tKX),N="en",S=function(){if(o.TI6)return"en";const{language:e}=navigator,t=e.startsWith("zh")?e.endsWith("TW")||e.endsWith("HK")?"zh-Hant":"zh-Hans":e.substring(0,2);return o.gSB.some((e=>{let{langCode:n}=e;return n===t}))?t:"en"}(),A=window.devicePixelRatio||1,T=o.UMQ||!(o.TI6||f||o.v5B||o.tKX),I=n.g.location.hash.startsWith(i.jT),B=Boolean(!o.UMQ&&!o.tKX&&window.navigator.credentials&&(!k||u)),_=o.UMQ&&n.g.location.search.startsWith("?bottom-sheet"),x=o.UMQ&&f&&!_&&!function(){const{userAgent:e,platform:t}=window.navigator;return"iPad"===t||e.includes("iPad")||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2}(),D="BroadcastChannel"in window&&!I,L=o.hL1||k||o.UMQ,O=f&&o.UMQ,M=h&&o.UMQ,P=!(y||o.v5B||o.tKX),F=parseInt(getComputedStyle(document.documentElement).fontSize,10),R=-3*F;function U(){const e=document.createElement("div");e.style.cssText="overflow-x: hidden; overflow-y: scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e),(0,r.gm)((()=>{const t=e.offsetWidth-e.clientWidth;return()=>{document.documentElement.style.setProperty("--scrollbar-width",`${t}px`),e.remove()}}))}function W(){var e;return o.tKX&&c.has((null===(e=window.Telegram)||void 0===e?void 0:e.WebApp.platform)??"")}},86243:(e,t,n)=>{"use strict";n.d(t,{LG:()=>i,S:()=>s,cK:()=>o,zu:()=>r});var a=n(91049);function o(e){const t=e.split("-"),[n,a="mainnet"]=3===t.length?[t[0],t[2]]:t;return{id:Number(n),network:a}}function r(e){const{id:t,network:n}=e;return`${t}-${n}`}function i(e){return e.ton??Object.values(e).find(Boolean)}function s(e){return e.title||(0,a.W)(i(e.addressByChain)??"")}},87894:(e,t,n)=>{"use strict";function a(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function o(e,t){return e.reduce(((e,n)=>{const a=n[t];return e[a]?e[a].push(n):e[a]=[n],e}),{})}function r(e,t){return Object.keys(e).reduce(((n,a,o)=>(n[a]=t(e[a],a,o,e),n)),{})}function i(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function s(e,t){return t.reduce(((t,n)=>(e[n]&&(t[n]=e[n]),t)),{})}function c(e,t){const n=new Set(t.map(String));return i(e,Object.keys(e).filter((e=>!n.has(e))))}function l(e){return Object.keys(e).reduce(((t,n)=>{const a=n;return void 0!==e[a]&&(t[a]=e[a]),t}),{})}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";function a(e,t,n,a){const o=("function"==typeof n?n(e):e[n])||0,r=("function"==typeof n?n(t):t[n])||0;return o===r?0:(a?o>r:o<r)?1:-1}if(Array.isArray(t)){const[o,r]=Array.isArray(n)?n:[n,n],[i,s]=t,c="asc"===o,l="asc"===r;return e.sort(((e,t)=>a(e,t,i,c)||a(e,t,s,l)))}const o="asc"===n;return e.sort(((e,n)=>a(e,n,t,o)))}function u(e){return Array.from(new Set(e))}function m(e){return e.filter(Boolean)}function p(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}function f(e,t){const n=[];for(let a=0;a<e.length;a+=t)n.push(e.slice(a,a+t));return n}function h(e){return v(e)?Array.isArray(e)?e.map(h):Object.keys(e).reduce(((t,n)=>(t[n]=h(e[n]),t)),{}):e}function g(e){return v(e)&&!Array.isArray(e)}function v(e){return"object"==typeof e&&null!==e}function w(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function y(e,t){return e.map((e=>e[t]))}function b(e,t){const n=new Set(t),a=[];for(const t of e)n.has(t)||a.push(t);return a}function E(e,t){return Object.keys(e).reduce(((n,a,o)=>(t(e[a],a,o,e)&&(n[a]=e[a]),n)),{})}function k(e){const t={};for(const[n,a]of Object.entries(e))t[a]=n;return t}function C(e,t,n,a){let o=0,r=0;const i=[];for(;o<e.length&&r<t.length;){const s=n(e[o],t[r]);0===s?(i.push(e[o]),a||i.push(t[r]),o++,r++):s<0?(i.push(e[o]),o++):(i.push(t[r]),r++)}for(;o<e.length;o++)i.push(e[o]);for(;r<t.length;r++)i.push(t[r]);return i}n.d(t,{$z:()=>o,Am:()=>u,Hl:()=>b,JY:()=>y,LG:()=>r,My:()=>d,Oy:()=>l,Uk:()=>w,Up:()=>i,V6:()=>k,Vh:()=>g,_E:()=>s,cJ:()=>c,dU:()=>a,k:()=>p,lD:()=>f,lk:()=>E,mg:()=>h,oE:()=>m,yQ:()=>C})},91049:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,W:()=>r});var a=n(19314);const o=6,r=(0,a.A)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(e)return e.length<=t+n+3?e:`${e.slice(0,t)}···${e.slice(-n)}`}))},95550:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capacitorStorageClear:()=>u,capacitorStorageGetItem:()=>c,capacitorStorageKeys:()=>m,capacitorStorageRemoveItem:()=>d,capacitorStorageSetItem:()=>l,exchangeWithLedger:()=>f,init:()=>s,localStorageClear:()=>y,localStorageGetAll:()=>b,localStorageGetItem:()=>g,localStorageGetMany:()=>E,localStorageRemoveItem:()=>w,localStorageSetItem:()=>v,localStorageSetMany:()=>k});var a=n(31481);let o,r;const i=new Promise((e=>{r=e}));async function s(){a.UMQ&&!o&&(({SecureStoragePlugin:o}=await n.e(201).then(n.bind(n,5054))),r())}async function c(e){var t;return await i,null===(t=await o.get({key:e}).catch((e=>{if(!("string"==typeof e?e:e.message).includes("key does not exist"))throw e})))||void 0===t?void 0:t.value}async function l(e,t){return await i,o.set({key:e,value:t})}async function d(e){return await i,o.remove({key:e})}async function u(){return await i,o.clear()}async function m(){return await i,o.keys()}var p=n(48287).Buffer;async function f(e){const{getTransport:t}=await Promise.all([n.e(800),n.e(909),n.e(629),n.e(803)]).then(n.bind(n,50243)),a=t();if(!a)throw new Error("Ledger transport is not initialized");const o=p.from(e,"base64");return(await a.exchange(o)).toString("base64")}var h=n(87894);function g(e){return localStorage.getItem(e)}function v(e,t){return localStorage.setItem(e,t)}function w(e){return localStorage.removeItem(e)}function y(){return localStorage.clear()}function b(){return{...localStorage}}function E(e){return(0,h.Up)(localStorage,e)}function k(e){Object.assign(localStorage,e)}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return o[e].call(n.exports,n,n.exports,i),n.exports}i.m=o,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,i.d(o,r),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"."+{88:"624986b76c0ad075690b",104:"d3d0658321759c7a1c20",106:"4f3d72aecd28d192bbee",148:"d4136b6a5ecf56ede3d7",168:"f08bfcfdc8c60a24e8ed",196:"47374b197e148f7562b8",201:"a9df2475054636d04195",215:"02897e46fb157ff77165",283:"8137301fc53480049325",408:"4a5a307a8a814b280078",411:"f3fddccbfc7a4f1d09cc",477:"b487be8764000f2f30c2",513:"ebadc095aa3ee931d37b",524:"e5c9de4cb9bbc141d3fc",542:"8b97033f3a252281472f",564:"652088edade4d9ed67f5",580:"82f879326ce5b9c846f1",629:"d8e60592f4b3a77ef9da",642:"1938687e07080d228ce8",789:"ee1e19d801c1e8bfab4d",800:"ec0c359c4355f20d60bd",803:"e64555837e9884c2e1de",884:"b0155df7dd4719a9838e",895:"91b32485bcc6a9f2cef6",897:"b0aa8daaa0f11c289b24",909:"425f7d2af5d72d1cad8d",941:"108128d2e9c23f251a8e",949:"10c81af08aa931279b35",956:"1c3822f193a3d67e6aa6",988:"5ebba37989fff908c5a9"}[e]+".js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="mytonwallet:",i.l=(e,t,o,r)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+o){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",a+o),s.src=e),n[e]=[t];var m=(t,a)=>{s.onerror=s.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(a))),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b=document.baseURI||self.location.href;var e={792:0,840:0};i.f.j=(t,n)=>{var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise(((n,o)=>a=e[t]=[n,o]));n.push(a[2]=o);var r=i.p+i.u(t),s=new Error;i.l(r,(n=>{if(i.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,o,[r,s,c]=n,l=0;if(r.some((t=>0!==e[t]))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);c&&c(i)}for(t&&t(n);l<r.length;l++)o=r[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkmytonwallet=self.webpackChunkmytonwallet||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=i(31481),t=i(55029),n=i(82393),a=i(76944);function o(e,t){if(e===t)return!0;const n=Object.keys(e),a=n.length;if(a!==Object.keys(t).length)return!1;if(0===a)return!0;for(let o=0;o<a;o++){const a=n[o];if(e[a]!==t[a])return!1}return!0}function r(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const o=Object.keys(e);o.length===Object.keys(t).length?(console.log(n),o.forEach((n=>{e[n]!==t[n]&&console.log(a,n,":",e[n],"=>",t[n])}))):console.log(`${n} LENGTH`)}var s=i(48217),c=i(87894),l=i(37836),d=i(19822);const u=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let m={};const p=(0,l.nF)((function(){f||function(){f=document.createElement("div"),f.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 12px; color: black;",document.body.appendChild(f);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="🔄",e.addEventListener("click",(()=>{m={},p()})),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(m).reduce(((e,t)=>{let[n,{value:a}]=t;return u.has(n)||(n.includes("renders")&&a>e[0]&&(e[0]=a),n.includes("duration")&&a>e[1]&&(e[1]=a)),e}),[0,0]);f.innerHTML="",Object.entries(m).filter((e=>{let[t,{value:n}]=e;return!u.has(t)&&(t.includes("renders")&&n>5||t.includes("duration")&&n>2)})).sort(((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt)).forEach((a=>{let[o,{value:r,lastUpdateAt:i}]=a;const s=document.createElement("span");s.style.background=i>e?"lightgreen":"",s.textContent=`${o}: ${Math.round(r)}`;const c=document.createElement("div");var l;c.style.background=`#ff0000${l=r/(o.includes("renders")?t:n),Math.round(255*l).toString(16).padStart(2,"0")}`,c.append(s),f.append(c)}))}),500,!1);let f;function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=Date.now();m[e]?(m[e].value+=t,m[e].lastUpdateAt=n):m[e]={value:t,lastUpdateAt:n},p()}var g=i(50110);function v(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.forEach((e=>{e(...n)}))},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}const w=Symbol("SIGNAL_MARK");function y(e){return"function"==typeof e&&w in e}const b=new Map;function E(e){const t={value:e,effects:v()};function n(e){const n=t.effects.addCallback(e);return b.has(e)?b.get(e).add(n):b.set(e,new Set([n])),()=>{n();const t=b.get(e);t.delete(n),t.size||b.delete(e)}}return[Object.assign((function(){return t.value}),{[w]:w,subscribe:n,once:function(e){const t=n((()=>{t(),e()}));return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}var k=i(66644);let C=0,N=0;const[S,A]=E(!1),[T,I]=E(!1),B=S;function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];C++,1===C&&A(!0),t&&(N++,1===N&&I(!0));const n=window.setTimeout(o,e);let a=!1;function o(){a||(a=!0,clearTimeout(n),C--,0===C&&A(!1),t&&(N--,0===N&&I(!1)))}return o}function x(e){(0,l.kI)((()=>{S()?(0,k.YS)((()=>{x(e)})):e()}))}let D=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),L=function(e){return e[e.Mounting=0]="Mounting",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const O=Symbol("Fragment"),M=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let P,F=0;function R(e){return e.type===D.Tag||e.type===D.Component||e.type===D.Fragment}function U(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e===O?function(e){return{type:D.Fragment,children:H(e,!0)}}(a):"function"==typeof e?function(e,t,n){null!=n&&n.length&&(t.children=1===n.length?n[0]:n);const a={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:L.Unmounted};return a.$element=W(a),a.$element}(e,t||{},a):function(e,t,n){return{type:D.Tag,tag:e,props:t,children:H(n)}}(e,t||{},a)}function W(e,t){return{type:D.Component,componentInstance:e,props:e.props,children:t?H(t,!0):[]}}function H(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length-1;for(;n>=0&&$(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),a=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];Array.isArray(o)?a.push(...H(o,t)):a.push(V(o))}return a}function $(e){return!e&&0!==e}function V(e){return $(e)?{type:D.Empty}:R(e)?e:{type:D.Text,value:String(e)}}const z={TOTAL:{name:"TOTAL",renders:0}},K={};document.addEventListener("dblclick",(()=>{console.warn("COMPONENTS",(0,c.My)(Object.values(z).map((e=>{let{avgRenderTime:t,...n}=e;return{...n,...void 0!==t&&{avgRenderTime:Number(t.toFixed(2))}}})),"renders","desc")),console.warn("MEMOS",(0,c.My)(Object.values(K).filter((e=>{let{calls:t}=e;return t>=20})).map((e=>({...e,hitRate:Number(e.hitRate.toFixed(2))}))),"hitRate","asc"))}));let q=new Set,j=new Set,Y=new Map,G=new Map,Q=new Map,X=new Map,J=!1;const Z=(0,l.nb)(k.YS,(()=>{if(T())return void T.once(Z);const e=ee();j=new Set;const t=Array.from(q).sort(((e,t)=>e.id-t.id));q=new Set;const n=G;G=new Map,n.forEach((e=>e()));const a=Y;Y=new Map,a.forEach((e=>e())),(0,k.RK)((()=>{t.forEach(re),t.forEach((e=>{j.has(e.id)||function(e){if(e.mountState===L.Unmounted||!e.onUpdate)return;const t=e.$element;ne(e),e.$element!==t&&e.onUpdate()}(e)})),null==e||e()}))}));function ee(){if(!J)return J=!0,te}function te(){const e=X;X=new Map,e.forEach((e=>e()));const t=Q;Q=new Map,t.forEach((e=>e())),J=!1}function ne(t){j.add(t.id);const{Component:n,props:a}=t;let o;if((0,g.A)((()=>{let r;if(P=t,t.hooks&&(t.hooks.state&&(t.hooks.state.cursor=0),t.hooks.effects&&(t.hooks.effects.cursor=0),t.hooks.memos&&(t.hooks.memos.cursor=0),t.hooks.refs&&(t.hooks.refs.cursor=0)),e.Oig){const t=he(n);z[t]||(z[t]={name:t,renders:0,avgRenderTime:0}),e.MVx&&(M.has(t)||console.log(`[Teact] Render ${t}`)),r=performance.now()}if(o=n(a),e.Oig){const t=performance.now()-r,a=he(n);t>7&&console.warn(`[Teact] Slow component render: ${a}, ${Math.round(t)} ms`);const{renders:o,avgRenderTime:i}=z[a];z[a].avgRenderTime=(i*o+t)/(o+1),z[a].renders++,z.TOTAL.renders++,e.MVx&&(h(`${a} renders`),h(`${a} duration`,t))}}),{rescue:()=>{console.error(`[Teact] Error while rendering component ${t.name}`,t),o=t.renderedValue}}),t.mountState===L.Mounted&&o===t.renderedValue)return t.$element;t.renderedValue=o;const r=Array.isArray(o)?o:[o];return t.$element=W(t,r),t.$element}function ae(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===D.Text&&t.type===D.Text?e.value!==t.value:e.type===D.Tag&&t.type===D.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===D.Component&&t.type===D.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function oe(e){var t;if(e.mountState!==L.Unmounted){if(j.add(e.id),null!==(t=e.hooks)&&void 0!==t&&t.effects)for(const t of e.hooks.effects.byCursor){var n;t.cleanup&&(0,g.A)(t.cleanup),t.cleanup=void 0,null===(n=t.releaseSignals)||void 0===n||n.call(t)}e.mountState=L.Unmounted,function(e){const{effects:t,state:n,memos:a,refs:o}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(a)for(const e of a.byCursor)e.value=void 0,e.dependencies=void 0;if(o)for(const e of o.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.onUpdate=void 0}(e)}}function re(e){var t;if(e.mountState!==L.Unmounted&&null!==(t=e.hooks)&&void 0!==t&&t.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function ie(t,n){P.hooks||(P.hooks={}),P.hooks.state||(P.hooks.state={cursor:0,byCursor:[]});const{cursor:a,byCursor:o}=P.hooks.state,r=P;return void 0===o[a]&&(o[a]={value:t,nextValue:t,setter:t=>{r.mountState!==L.Unmounted&&("function"==typeof t&&(t=t(o[a].nextValue)),o[a].nextValue!==t&&(o[a].nextValue=t,q.add(r),Z(),e.MVx&&console.log("[Teact.useState]",he(r.Component),`State update at cursor #${a}${n?` (${n})`:""}, next value: `,o[a].nextValue)))}}),P.hooks.state.cursor++,[o[a].value,o[a].setter]}function se(t,n,a,o){P.hooks||(P.hooks={}),P.hooks.effects||(P.hooks.effects={cursor:0,byCursor:[]});const{cursor:r,byCursor:i}=P.hooks.effects,s=i[r],c=P;function l(){!function(t,n,a,o){var r;const{byCursor:i}=t.hooks.effects,s=null===(r=i[n])||void 0===r?void 0:r.cleanup,c=o?X:G,l=o?Q:Y,d=`${t.id}_${n}`;if(s){const a=()=>(0,g.A)((()=>{if(t.mountState===L.Unmounted)return;let a;if(e.Oig&&(a=performance.now()),s(),e.Oig){const e=performance.now()-a,o=he(t.Component);e>7&&console.warn(`[Teact] Slow cleanup at effect cursor #${n}: ${o}, ${Math.round(e)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect cleanup at cursor #${n} in ${t.name}`,t)},always:()=>{i[n].cleanup=void 0}});c.set(d,a)}l.set(d,(()=>(0,g.A)((()=>{if(t.mountState===L.Unmounted)return;let o;e.Oig&&(o=performance.now());const r=a();if("function"==typeof r&&(i[n].cleanup=r),e.Oig){const e=performance.now()-o,a=he(t.Component);e>7&&console.warn(`[Teact] Slow effect at cursor #${n}: ${a}, ${Math.round(e)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect at cursor #${n} in ${t.name}`,t)}}))),Z()}(c,r,n,t)}if(a&&null!=s&&s.dependencies){if(a.some(((e,t)=>e!==s.dependencies[t]))){if(e.Oig&&o){const e=a.reduce(((e,t,n)=>{const a=s.dependencies[n];return t!==a&&e.push(`${n}: ${String(a)} => ${String(t)}`),e}),[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}l()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),l();s&&(s.schedule=void 0),i[r]={...s,dependencies:a,schedule:l},s||(i[r].releaseSignals=function(){const e=null==a?void 0:a.filter(y).map(((e,t)=>e.subscribe((()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),i[r].schedule()}))));if(null!=e&&e.length)return()=>{for(const t of e)t()}}()),P.hooks.effects.cursor++}function ce(e,t,n){return se(!1,e,t,n)}function le(e,t,n){return se(!0,e,t,n)}function de(t,n,a,o){P.hooks||(P.hooks={}),P.hooks.memos||(P.hooks.memos={cursor:0,byCursor:[]});const{cursor:i,byCursor:s}=P.hooks.memos;let c,{value:l}=s[i]||{};if(e.Oig&&o){const e=`${o}#${P.id}`;c=K[e],c||(c={key:e,calls:0,misses:0,hitRate:0},K[e]=c),c.calls++,c.hitRate=(c.calls-c.misses)/c.calls}if(void 0===s[i]||n.length!==s[i].dependencies.length||n.some(((e,t)=>e!==s[i].dependencies[t]))){if(e.Oig){if(a){const e=`[Teact.useMemo] ${P.name} (${a}): Update is caused by:`;s[i]?r(s[i].dependencies,n,e,a):console.log(`${e} [first render]`)}c&&(c.misses++,c.hitRate=(c.calls-c.misses)/c.calls,c.calls%10==0&&c.calls>=20&&c.hitRate<.25&&console.warn(`[Teact] ${c.key}: Hit rate is ${c.hitRate.toFixed(2)} for ${c.calls} calls`))}l=t()}return s[i]={value:l,dependencies:n},P.hooks.memos.cursor++,l}function ue(e,t,n){return de((()=>e),t,n)}function me(e){P.hooks||(P.hooks={}),P.hooks.refs||(P.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=P.hooks.refs;return n[t]||(n[t]={current:e}),P.hooks.refs.cursor++,n[t]}function pe(e){const t=me();return t.current??=E(e),t.current}function fe(t,n){function a(a){return de((()=>U(t,a)),Object.values(a),n,e.MVx?he(P.Component):void 0)}return a.DEBUG_contentComponentName=he(t),a}function he(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const ge={createElement:U,Fragment:O},ve=()=>{const[,e]=ie(!1);return ue((()=>{e((e=>!e))}),[])};var we=i(14235);const ye=function(e){ce(e,[])},be=function(e,t){const n=me(),{current:a}=n;return t&&void 0===e||(n.current=e),a};function Ee(e,t){const n=be(t),a=me();var o;n&&!t.some(((e,t)=>e!==n[t]))||(null===(o=a.current)||void 0===o||o.call(a),a.current=e(n||[])??void 0),ye((()=>()=>{var e;null===(e=a.current)||void 0===e||e.call(a)}))}function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=me();return Ee((()=>{t.current=e+(0,we.A)()}),[e]),t.current}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ce.apply(null,arguments)}const Ne=ge;let Se,Ae={isInited:!1};const Te=(0,l.Fe)((()=>{Se=Math.random()})),Ie={},Be=[function(){let t;e.Oig&&(t=performance.now());for(const t of xe.values()){const{mapStateToProps:n,ownProps:a,mappedProps:i,forceUpdate:c}=t;if(!He(t,Ae,a))continue;let l;try{l=n(Ae,a)}catch(e){return void(0,s.H)(e)}e.Oig&&Object.values(l).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${t.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(l).length&&!o(i,l)&&(e.MVx&&r(i,l,`[TeactN] Will update ${t.DEBUG_componentName} caused by:`),t.mappedProps=l,t.DEBUG_updates++,c())}if(e.Oig){const e=performance.now()-t;e>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(e)} ms`)}}],_e={},xe=new Map,De=(0,l.Fe)(Oe);let Le=!0;function Oe(){if(Le)Le=!1;else if(B())return void B.once(De);Be.forEach((e=>e(Ae)))}function Me(t,n){if("object"==typeof t&&t!==Ae){if(e.Oig){if((null==n||!n.forceOutdated)&&t.DEBUG_randomId&&t.DEBUG_randomId!==Se)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");Se=Math.random()}Ae=t,null!=n&&n.forceSyncOnIOs?(Le=!0,Oe()):(null!=n&&n.forceOnHeavyAnimation&&(Le=!0),De())}}function Pe(){return e.Oig&&(Ae={...Ae,DEBUG_randomId:Se},Te()),Ae}function Fe(){return _e}function Re(){Le=!0}let Ue=[];function We(e){Be.push(e)}function He(e,t,n){const{activationFn:a,stuckTo:o}=e;return!a||a(t,n,(t=>o?o===t:(void 0!==t&&(e.stuckTo=t),!0)))}e.Oig&&(window.getGlobal=Pe,window.setGlobal=Me,window.getActions=Fe,document.addEventListener("dblclick",(()=>{console.warn("GLOBAL CONTAINERS",(0,c.My)(Array.from(xe.values()).map((e=>{let{DEBUG_componentName:t,DEBUG_updates:n}=e;return{DEBUG_componentName:t,DEBUG_updates:n}})),"DEBUG_updates","desc"))})));const $e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>({}),t=arguments.length>1?arguments[1]:void 0;return n=>{function a(a){const r=ke(),i=ve();!function(){P.hooks||(P.hooks={}),P.hooks.effects||(P.hooks.effects={cursor:0,byCursor:[]});const{cursor:e,byCursor:t}=P.hooks.effects;t[e]||(t[e]={cleanup:()=>{xe.delete(r)}}),P.hooks.effects.cursor++}();let c=xe.get(r);if(c||(c={mapStateToProps:e,activationFn:t,ownProps:a,forceUpdate:i,DEBUG_updates:0,DEBUG_componentName:n.name},xe.set(r,c)),(!c.mappedProps||!o(c.ownProps,a))&&He(c,Ae,a))try{c.mappedProps=e(Ae,a)}catch(e){(0,s.H)(e)}return c.ownProps=a,ge.createElement(n,Ce({},c.mappedProps,a))}return a.DEBUG_contentComponentName=he(n),a}},Ve=Pe,ze=Me,Ke=Fe,qe=function(t,n){Ie[t]||(Ie[t]=[],_e[t]=(n,a)=>{!function(t,n,a){if(Ue.push((()=>{var o;null===(o=Ie[t])||void 0===o||o.forEach((t=>{const o=t(e.Oig?Pe():Ae,_e,n);o&&"function"!=typeof o.then&&Me(o,a)}))})),1===Ue.length)try{for(;Ue.length;)Ue[0](),Ue.shift()}finally{Ue=[]}}(t,n,a)}),Ie[t].push(n)},je=$e;var Ye=i(86243);function Ge(e){return!Qe(e,0)}function Qe(e,t){if(t<0)return!0;let n=0;for(const a in e)if(e.hasOwnProperty(a)&&(n++,n>t))return!0;return!1}function Xe(t){return!e.twH&&"view"===t}const Je=new WeakMap;function Ze(e,t){const n=function(){const n=Je.get(e),a=Date.now();for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if(n){const e=n.isDisabledUntil&&n.isDisabledUntil>a,o=t&&n.lastTime+1e3*t<a;if(!e&&!o&&(0,c.k)(n.lastArgs,r))return n.lastResult}const s=e(...r);return Je.set(e,{...n,lastArgs:r,lastResult:s,lastTime:a}),s};return n.disableCache=t=>{const n=Je.get(e);n&&(n.isDisabledUntil=Date.now()+1e3*t)},n}var et=i(19314);function tt(e){var t;return null===(t=e.accounts)||void 0===t?void 0:t.byId}const nt=Ze(((e,t)=>{if(t)return Object.fromEntries(Object.entries(t).filter((t=>{let[n]=t;return(0,Ye.cK)(n).network===e})))}));function at(e){var t;return nt(ot(e),null===(t=e.accounts)||void 0===t?void 0:t.byId)}function ot(e){return e.settings.isTestnet?"testnet":"mainnet"}function rt(e){return it(e,e.currentAccountId)}function it(e,t){var n;return null===(n=tt(e))||void 0===n?void 0:n[t]}function st(e,t){const n=it(e,t);if(n)return n;for(const n of[e.auth.firstNetworkAccount,e.auth.secondNetworkAccount])if((null==n?void 0:n.accountId)===t)return n}function ct(e){return lt(e,e.currentAccountId)}function lt(e,t){return e.byAccountId[t]}function dt(e,t){return e.settings.byAccountId[t]}function ut(e){return dt(e,e.currentAccountId)}function mt(e){return"hardware"===e.type}function pt(e,t){const n=it(e,t??e.currentAccountId);return Boolean(n)&&mt(n)}function ft(e,t){const n=tt(e);return Object.entries(n??{}).reduce(((e,n)=>{let[a,o]=n;return mt(o)&&(0,Ye.cK)(a).network===t&&e.push(o),e}),[])}function ht(e){return 1===Object.keys(tt(e)||{}).length}const gt=(0,et.A)((e=>Ze((e=>(e??[]).filter((e=>{let{isDisabled:t}=e;return!t})).length))));function vt(e){return"mnemonic"===e.type}function wt(e){const t=rt(e);return Boolean(t)&&vt(t)}const yt=Ze((e=>Object.values(e??{}).some(vt)));function bt(e){return yt(tt(e))}function Et(e,t){var n;return((null===(n=lt(e,t))||void 0===n||null===(n=n.vesting)||void 0===n?void 0:n.info)||[]).reduce(((e,t)=>(t.parts.forEach((n=>{"ready"===n.status&&e.push({id:t.id,partId:n.id})})),e)),[])}function kt(e,t,n){var a;return null===(a=lt(e,t))||void 0===a||null===(a=a.nfts)||void 0===a||null===(a=a.byAddress)||void 0===a?void 0:a[n]}function Ct(e,t){var n;const a=null===(n=it(e,t))||void 0===n?void 0:n.addressByChain;return Boolean(a)&&Qe(a,1)}function Nt(e,t,n){var a;const o=it(e,t);return Boolean(null==o||null===(a=o.isMultisigByChain)||void 0===a?void 0:a[n])}function St(e){const{authConfig:t}=e.settings;return!!t&&"password"!==t.kind}function At(e){const{authConfig:t}=e.settings;return!!t&&"native-biometrics"===t.kind}function Tt(e,t){const n=dt(e,t);return(null==n?void 0:n.isAllowSuspiciousActions)??!1}function It(e){const{type:t}=rt(e)||{};return Xe(t)}var Bt=i(3476);function _t(e){return"nft:transfer"===(null==e?void 0:e.type)}function xt(e){return"tokens:transfer"===(null==e?void 0:e.type)||"tokens:transfer-non-standard"===(null==e?void 0:e.type)}const Dt=Ze((t=>{const n={},a=(e,t)=>{n[e]=(n[e]??0n)+t};let o=!1,r=!1,i=0;for(const n of t??[])n.isScam&&(o=!0),n.isDangerous&&(r=!0),a(e.Tu9.slug,n.amount+n.networkFee),xt(n.payload)?a(n.payload.slug,n.payload.amount):_t(n.payload)&&i++;return{amountsBySlug:n,isScam:o,isDangerous:r,nftCount:i}})),Lt=Ze(((t,n,a)=>{if(!n||!a)return;const o=[];for(const[r,i]of Object.entries(t)){const t=a[r]??e.Bx3;if((n[r===e.Fmr?e.Tu9.slug:r]??0n)<i){const n=r===e.Fmr?e.Tu9.symbol:t.symbol;o.push(n)}}return o.length>0?o.join(", "):void 0}));function Ot(e){const{transactions:t}=e.currentDappTransfer;return Dt(t)}function Mt(e){var t;const n=ct(e),a=null==n||null===(t=n.balances)||void 0===t?void 0:t.bySlug,o=e.tokenInfo.bySlug,{amountsBySlug:r}=Ot(e);return Lt(r,a,o)}var Pt=i(398),Ft=i(48805);function Rt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ft.z.roundHalfUp;return new Ft.z(e).round(t,n).toNumber()}const Ut=(0,et.A)((t=>Ze((function(t,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=function(t,n){return Object.keys(t).length===e._bq&&Object.entries(t).every((t=>{let[a,o]=t;const{decimals:r,priceUsd:i}=n.bySlug[a];return(0,Pt.CF)(o,r).mul(i??0).lt(e.Wvq)}))}(t,n);return Object.entries(t).filter((e=>{var t;let[o]=e;return o in n.bySlug&&!(null!==(t=a.deletedSlugs)&&void 0!==t&&t.includes(o))})).map((t=>{var o,s;let[c,l]=t;const{symbol:d,name:u,image:m,decimals:p,cmcSlug:f,color:h,chain:g,tokenAddress:v,codeHash:w,type:y,price:b=0,percentChange24h:E=0,priceUsd:k}=n.bySlug[c],C=(0,Pt.CF)(l,p),N=C.mul(b).round(p).toString(),S=C.mul(k??0).gte(e.Wvq),A=e.kuH.has(w)&&l>0n,T=!(i&&e.Fgn.includes(c)||!r||r&&S||A||(null===(o=a.alwaysShownSlugs)||void 0===o?void 0:o.includes(c)))||(null===(s=a.alwaysHiddenSlugs)||void 0===s?void 0:s.includes(c));return{chain:g,symbol:d,slug:c,amount:l,name:u,image:m,price:b,priceUsd:k,decimals:p,change24h:Rt(E/100,4),isDisabled:T,cmcSlug:f,totalValue:N,color:h,tokenAddress:v,codeHash:w,type:y}})).sort(((t,n)=>{if(o||!a.orderedSlugs){const a=e.oR5.indexOf(t.slug),o=e.oR5.indexOf(n.slug);return-1!==a&&-1!==o&&t.totalValue===n.totalValue?a-o:-1!==a&&-1===o?-1:-1!==o&&-1===a?1:Number(n.totalValue)-Number(t.totalValue)}return a.orderedSlugs.indexOf(t.slug)-a.orderedSlugs.indexOf(n.slug)}))}))));function Wt(e){return Vt(e,e.currentAccountId)}function Ht(e,t){var n;return(null===(n=ct(e))||void 0===n||null===(n=n.balances)||void 0===n?void 0:n.bySlug[t])??0n}function $t(t){return Ht(t,e.Tu9.slug)}function Vt(e,t){var n;const a=null===(n=lt(e,t))||void 0===n||null===(n=n.balances)||void 0===n?void 0:n.bySlug;if(!a||!e.tokenInfo)return;const o=dt(e,t),{areTokensWithNoCostHidden:r,isSortByValueEnabled:i}=e.settings;return Ut(t)(a,e.tokenInfo,o,i,r)}function zt(e,t){return e.tokenInfo.bySlug[t]}function Kt(t){const{isTestnet:n}=t.settings;return zt(t,n?e.GX2.slug:e.oUU.slug)}function qt(e,t){return(Wt(e)??[]).filter((e=>e.chain===t)).reduce(((e,t)=>t.priceUsd*Number(t.amount)>(e?e.priceUsd*Number(e.amount):0)?t:e))}var jt=i(91049);const Yt=new Map;function Gt(t){return(0,jt.W)(t,e.bOf)}function Qt(e){const t=Gt(e);return Yt.get(t)}function Xt(e){const{fromAddress:t,amount:n,timestamp:a}=e,o=Qt(t);(!o||o.timestamp<a||o.timestamp===a&&o.amount>n)&&function(e,t,n){const a=Gt(e);Yt.set(a,{address:e,amount:t,timestamp:n})}(t,n,a)}function Jt(e){const{fromAddress:t}=e,n=Qt(t);return n&&n.address!==t}function Zt(){Yt.clear()}const en={stake:["Staked","Staking","$stake_action"],unstake:["Unstaked","Unstaking","$unstake_action"],unstakeRequest:["Requested Unstake","Requesting Unstake","$request_unstake_action"],callContract:["Called Contract","Calling Contract","$call_contract_action"],excess:["Excess","Excess","Excess"],contractDeploy:["Deployed Contract","Deploying Contract","$deploy_contract_action"],bounced:["Bounced","Bouncing","$bounce_action"],mint:["Minted","Minting","$mint_action"],burn:["Burned","Burning","$burn_action"],auctionBid:["NFT Auction Bid","Bidding at NFT Auction","NFT Auction Bid "],dnsChangeAddress:["Updated Address","Updating Address","$update_address_action"],dnsChangeSite:["Updated Site","Updating Site","$update_site_action"],dnsChangeSubdomains:["Updated Subdomains","Updating Subdomains","$update_subdomains_action"],dnsChangeStorage:["Updated Storage","Updating Storage","$update_storage_action"],dnsDelete:["Deleted Domain Record","Deleting Domain Record","$delete_domain_record_action"],dnsRenew:["Renewed Domain","Renewing Domain","$renew_domain_action"],liquidityDeposit:["Provided Liquidity","Providing Liquidity","$provide_liquidity_action"],liquidityWithdraw:["Withdrawn Liquidity","Withdrawing Liquidity","$withdraw_liquidity_action"]},tn=new Set(["stake","unstake","unstakeRequest"]),nn=new Set(["dnsChangeAddress","dnsChangeSite","dnsChangeStorage","dnsChangeSubdomains","dnsDelete","dnsRenew"]);function an(e){const[t,n,a]=e.split(":");return{hash:t,type:a,subId:n}}function on(e){return e.endsWith(":local")}function rn(e){return e.endsWith(":backend-swap")}function sn(e){switch(e.kind){case"transaction":return e.nft?[]:[e.slug];case"swap":return[e.from,e.to]}}function cn(e){return!(!e||on(e.id)||rn(e.id)||gn(e))}function ln(e,t,n){let a,{type:o,isIncoming:r,nft:i}=e;a="nftTrade"===o?r?["Sold NFT","Selling NFT","$sell_nft_action"]:["Bought NFT","Buying NFT","$buy_nft_action"]:o&&en[o]?en[o]:r?["Received","Receiving","$receive_action"]:["Sent","Sending","$send_action"];let s=n(a["past"===t?0:"present"===t?1:2]);return!i||o&&"mint"!==o&&"burn"!==o||(s+=" NFT"),s}function dn(e){var t;return Boolean(null===(t=e.metadata)||void 0===t?void 0:t.isScam)||e.isIncoming&&Jt(e)}function un(e){return Boolean(e.comment||e.encryptedComment)&&!tn.has(e.type)&&!dn(e)}function mn(e){let{type:t,amount:n,nft:a}=e;return n||void 0===t&&!a?"stake"===t||"unstake"===t?"noSign":"normal":"hide"}function pn(t){const{type:n,isIncoming:a,nft:o,toAddress:r,fromAddress:i,extra:s}=t;return"nftTrade"===n?null!=s&&s.marketplace?["list"]:[]:fn(t)||"burn"===n||!a&&o&&r===o.address||a&&"excess"===n&&i===e.pV9?[]:["list","modal"]}function fn(t){let{type:n,isIncoming:a,toAddress:o,fromAddress:r}=t;return tn.has(n)&&e.uPU.includes(a?r:o)}function hn(e){return"stake"===e.type&&fn(e)}function gn(e){return("pending"===e.status||"pendingTrusted"===e.status)&&!rn(e.id)}function vn(e,t){const n=[],a=[];for(const t of e)(on(t.id)?n:a).push(t);return{...wn(n,t),...yn(a,t)}}function wn(e,t){const n={};if(!e.length)return n;const a=new Set((0,c.JY)(t,"id")),o=t.filter((e=>!on(e.id)));for(const t of e){const{id:e}=t;if(a.has(e)){n[e]=e;continue}const r=o.find((e=>bn(t,e)));r&&(n[e]=r.id)}return n}function yn(e,t){const n={};if(!e.length)return n;const a=new Set((0,c.JY)(t,"id")),o=(0,c.$z)(t,"externalMsgHashNorm");for(const{id:t,externalMsgHashNorm:r}of e)if(a.has(t))n[t]=t;else if(r){const e=o[r];null!=e&&e.length&&(n[t]=e[0].id,e.length>1&&e.shift())}return n}function bn(e,t){var n;if(null!==(n=e.extra)&&void 0!==n&&n.withW5Gasless){if("transaction"===e.kind&&"transaction"===t.kind)return!t.isIncoming&&e.normalizedAddress===t.normalizedAddress&&e.amount===t.amount&&e.slug===t.slug;if("swap"===e.kind&&"swap"===t.kind)return e.from===t.from&&e.to===t.to&&e.fromAmount===t.fromAmount}return e.externalMsgHashNorm?e.externalMsgHashNorm===t.externalMsgHashNorm&&!t.shouldHide:an(e.id).hash===an(t.id).hash}function En(e,t){var n;return(0,c.LG)((null===(n=lt(e,t))||void 0===n||null===(n=n.activities)||void 0===n?void 0:n.newestActivitiesBySlug)||{},(e=>{let{timestamp:t}=e;return t}))}function kn(e,t){var n;const{byId:a={},localActivityIds:o=[]}=(null===(n=e.byAccountId[t])||void 0===n?void 0:n.activities)??{};return(0,c.oE)(o.map((e=>a[e])))}function Cn(e,t,n){var a;const{byId:o={},pendingActivityIds:r={}}=(null===(a=e.byAccountId[t])||void 0===a?void 0:a.activities)??{},i=r[n]??[];return(0,c.oE)(i.map((e=>o[e])))}function Nn(e,t,n){const a=lt(e,t),{isMainHistoryEndReached:o,isHistoryEndReachedBySlug:r}=(null==a?void 0:a.activities)??{};return n?!(null==r||!r[n]):!!o}let Sn=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Explore=2]="Explore",e[e.Settings=3]="Settings",e[e.Ledger=4]="Ledger",e[e.Inactive=5]="Inactive",e}({}),An=function(e){return e[e.none=0]="none",e[e.createWallet=1]="createWallet",e[e.checkPassword=2]="checkPassword",e[e.createPin=3]="createPin",e[e.confirmPin=4]="confirmPin",e[e.createBiometrics=5]="createBiometrics",e[e.confirmBiometrics=6]="confirmBiometrics",e[e.createNativeBiometrics=7]="createNativeBiometrics",e[e.createPassword=8]="createPassword",e[e.createBackup=9]="createBackup",e[e.disclaimerAndBackup=10]="disclaimerAndBackup",e[e.importWalletCheckPassword=11]="importWalletCheckPassword",e[e.importWallet=12]="importWallet",e[e.importWalletCreatePin=13]="importWalletCreatePin",e[e.importWalletConfirmPin=14]="importWalletConfirmPin",e[e.importWalletCreateNativeBiometrics=15]="importWalletCreateNativeBiometrics",e[e.importWalletCreateBiometrics=16]="importWalletCreateBiometrics",e[e.importWalletConfirmBiometrics=17]="importWalletConfirmBiometrics",e[e.importWalletCreatePassword=18]="importWalletCreatePassword",e[e.disclaimer=19]="disclaimer",e[e.ready=20]="ready",e[e.about=21]="about",e[e.safetyRules=22]="safetyRules",e[e.mnemonicPage=23]="mnemonicPage",e[e.checkWords=24]="checkWords",e[e.importViewAccount=25]="importViewAccount",e}({}),Tn=function(e){return e[e.None=0]="None",e[e.TurnOnPasswordConfirmation=1]="TurnOnPasswordConfirmation",e[e.TurnOnRegistration=2]="TurnOnRegistration",e[e.TurnOnVerification=3]="TurnOnVerification",e[e.TurnOnComplete=4]="TurnOnComplete",e[e.TurnOffWarning=5]="TurnOffWarning",e[e.TurnOffBiometricConfirmation=6]="TurnOffBiometricConfirmation",e[e.TurnOffCreatePassword=7]="TurnOffCreatePassword",e[e.TurnOffComplete=8]="TurnOffComplete",e}({}),In=function(e){return e[e.None=0]="None",e[e.WarningHardware=1]="WarningHardware",e[e.Initial=2]="Initial",e[e.Confirm=3]="Confirm",e[e.Password=4]="Password",e[e.ConnectHardware=5]="ConnectHardware",e[e.ConfirmHardware=6]="ConfirmHardware",e[e.Complete=7]="Complete",e}({}),Bn=function(e){return e[e.SeedPhrase=1]="SeedPhrase",e[e.DomainLike=2]="DomainLike",e}({}),_n=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.Complete=3]="Complete",e}({}),xn=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.ConnectHardware=3]="ConnectHardware",e[e.ConfirmHardware=4]="ConfirmHardware",e[e.Complete=5]="Complete",e}({}),Dn=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.ConnectHardware=3]="ConnectHardware",e[e.ConfirmHardware=4]="ConfirmHardware",e[e.Complete=5]="Complete",e}({}),Ln=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Blockchain=2]="Blockchain",e[e.Password=3]="Password",e[e.WaitTokens=4]="WaitTokens",e[e.Complete=5]="Complete",e[e.SelectTokenFrom=6]="SelectTokenFrom",e[e.SelectTokenTo=7]="SelectTokenTo",e}({}),On=function(e){return e[e.In=0]="In",e[e.Out=1]="Out",e}({}),Mn=function(e){return e[e.UnexpectedError=0]="UnexpectedError",e[e.InvalidPair=1]="InvalidPair",e[e.NotEnoughLiquidity=2]="NotEnoughLiquidity",e[e.ChangellyMinSwap=3]="ChangellyMinSwap",e[e.ChangellyMaxSwap=4]="ChangellyMaxSwap",e[e.NotEnoughForFee=5]="NotEnoughForFee",e[e.TooSmallAmount=6]="TooSmallAmount",e}({}),Pn=function(e){return e[e.OnChain=0]="OnChain",e[e.CrosschainFromWallet=1]="CrosschainFromWallet",e[e.CrosschainToWallet=2]="CrosschainToWallet",e}({}),Fn=function(e){return e[e.Info=0]="Info",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e}({}),Rn=function(e){return e[e.Connect=0]="Connect",e[e.Connecting=1]="Connecting",e[e.Failed=2]="Failed",e[e.ConnectedWithSeveralWallets=3]="ConnectedWithSeveralWallets",e[e.ConnectedWithSingleWallet=4]="ConnectedWithSingleWallet",e[e.WaitingForRemoteTab=5]="WaitingForRemoteTab",e}({}),Un=function(e){return e[e.None=0]="None",e[e.StakeInitial=1]="StakeInitial",e[e.StakePassword=2]="StakePassword",e[e.StakeConnectHardware=3]="StakeConnectHardware",e[e.StakeConfirmHardware=4]="StakeConfirmHardware",e[e.StakeComplete=5]="StakeComplete",e[e.UnstakeInitial=6]="UnstakeInitial",e[e.UnstakePassword=7]="UnstakePassword",e[e.UnstakeConnectHardware=8]="UnstakeConnectHardware",e[e.UnstakeConfirmHardware=9]="UnstakeConfirmHardware",e[e.UnstakeComplete=10]="UnstakeComplete",e[e.ClaimPassword=11]="ClaimPassword",e[e.ClaimConnectHardware=12]="ClaimConnectHardware",e[e.ClaimConfirmHardware=13]="ClaimConfirmHardware",e[e.ClaimComplete=14]="ClaimComplete",e}({}),Wn=function(e){return e[e.Password=0]="Password",e[e.ConnectHardware=1]="ConnectHardware",e[e.ConfirmHardware=2]="ConfirmHardware",e}({}),Hn=function(e){return e[e.Initial=0]="Initial",e[e.PushNotifications=1]="PushNotifications",e[e.Appearance=2]="Appearance",e[e.Assets=3]="Assets",e[e.Security=4]="Security",e[e.Dapps=5]="Dapps",e[e.Language=6]="Language",e[e.About=7]="About",e[e.Disclaimer=8]="Disclaimer",e[e.NativeBiometricsTurnOn=9]="NativeBiometricsTurnOn",e[e.SelectTokenList=10]="SelectTokenList",e[e.WalletVersion=11]="WalletVersion",e[e.LedgerConnectHardware=12]="LedgerConnectHardware",e[e.LedgerSelectWallets=13]="LedgerSelectWallets",e[e.HiddenNfts=14]="HiddenNfts",e[e.BackupWallet=15]="BackupWallet",e}({}),$n=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e[e.Done=4]="Done",e}({}),Vn=function(e){return e[e.Receive=0]="Receive",e[e.Transfer=1]="Transfer",e[e.Swap=2]="Swap",e[e.Stake=3]="Stake",e}({}),zn=function(e){return e[e.Assets=0]="Assets",e[e.Activity=1]="Activity",e[e.Explore=2]="Explore",e[e.Nft=3]="Nft",e}({}),Kn=function(e){return e[e.Nft=0]="Nft",e}({}),qn=function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}({});function jn(t){return e.zll[t]}function Yn(t){return t in e.zll?e.zll[t]:void 0}const Gn=Object.fromEntries(Object.entries(e.zll).map((e=>{let[t,{nativeToken:n}]=e;return[n.slug,t]})));function Qn(e){return!!e&&e in Gn}function Xn(t,n){return Boolean(t.startsWith("ton-")||n&&t===e.Tu9.slug)}function Jn(e){return jn(e).nativeToken}function Zn(e){const t=e.split("-");return t.length>1?t[0]:Gn[e]}function ea(t){const{type:n,codeHash:a="",slug:o=""}=t??{};return"lp_token"===n||e.Svl.has(o)||e.kuH.has(a)}function ta(e){return{...(0,c.Up)(e,["symbol","slug","name","image","decimals","keywords","chain","tokenAddress","type"]),amount:0n,totalValue:"0",price:0,priceUsd:0,change24h:0}}function na(e,t,n,a){return Object.entries(e.bySlug).filter((e=>{let[,t]=e;return!a||a(t)})).map((e=>{let[n,{symbol:a,name:o,image:r,decimals:i,keywords:s,chain:c,tokenAddress:l,isPopular:d,color:u,price:m=0,priceUsd:p=0}]=e;const f=t[n]??0n;return{symbol:a,slug:n,amount:f,price:m,priceUsd:p,name:o,image:r,decimals:i,isDisabled:!1,canSwap:!0,isPopular:d,keywords:s,totalValue:(0,Pt.CF)(f,i).mul(m).toString(),color:u,chain:c,tokenAddress:l}})).sort(n)}const aa=(0,et.A)((e=>Ze(((e,t)=>{const n=["TON","USD₮","USDT","BTC","ETH","jUSDT","jWBTC"],a=new Map(n.map(((e,t)=>[e,t])));return na(t,e,((e,t)=>(a.has(e.symbol)?a.get(e.symbol):n.length)-(a.has(t.symbol)?a.get(t.symbol):n.length)),(e=>e.isPopular))})))),oa=(0,et.A)((e=>Ze(((e,t)=>na(t,e,((e,t)=>e.name.trim().toLowerCase().localeCompare(t.name.trim().toLowerCase()))))))),ra=(0,et.A)((e=>Ze((function(t,n,a,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return Ut(e)(t,n,o,r,i).filter((e=>e.slug in a.bySlug&&!e.isDisabled))}))));function ia(e){var t;const n=null===(t=ct(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return oa(e.currentAccountId)(n,e.swapTokenInfo)}function sa(e){const{tokenInSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function ca(e){const{tokenOutSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function la(t){const{tokenInSlug:n=e.JhS,tokenOutSlug:a=e.rKC}=t.currentSwap,o=Zn(n),r=Zn(a);if("ton"===o&&"ton"===r)return Pn.OnChain;const{addressByChain:i}=rt(t)??{addressByChain:{}};return o in i?Pn.CrosschainFromWallet:Pn.CrosschainToWallet}function da(t){return e.TI6||t.restrictions.isSwapDisabled||t.settings.isTestnet||pt(t)}var ua=i(809);function ma(t){return function(e){return void 0!==e.diesel&&("not-available"!==(t=e.diesel).status&&void 0!==t.amount);var t}(t)?function(e){let{diesel:t}=e;const n="stars-fee"===t.status?"stars":"token",a=function(e,t,n){const a=(0,Ft.z)(n.toString()).div(t.toString());return BigInt((0,Ft.z)(e.toString()).mul(a).round().toString())}(t.realFee,t.nativeAmount,t.amount),o=(0,ua.UA)(t.amount,a),r=(0,ua._O)(0n,t.realFee-t.nativeAmount);return{isGasless:!0,canTransferFullBalance:!1,fullFee:{precision:"lessThan",terms:{[n]:t.amount,native:t.remainingFee},nativeSum:t.nativeAmount+t.remainingFee},realFee:{precision:"approximate",terms:{[n]:o,native:r},nativeSum:t.realFee},excessFee:t.nativeAmount+t.remainingFee-t.realFee}}(t):function(t){const n={isGasless:!1,canTransferFullBalance:t.tokenSlug===e.Tu9.slug};return void 0!==t.fee&&(n.fullFee={precision:t.realFee===t.fee?"exact":"lessThan",terms:{native:t.fee},nativeSum:t.fee},n.realFee=n.fullFee),void 0!==t.realFee&&(n.realFee={precision:t.realFee===t.fee?"exact":"approximate",terms:{native:t.realFee},nativeSum:t.realFee}),void 0!==t.fee&&void 0!==t.realFee&&(n.excessFee=t.fee-t.realFee),n}(t)}function pa(e){let{tokenBalance:t,tokenSlug:n,fullFee:a,canTransferFullBalance:o}=e;if(void 0===t)return;if(o||!a)return t;let r=a.token??0n;return Qn(n)&&(r+=a.native??0n),(0,ua._O)(t-r,0n)}function fa(e){return"stars-fee"===e.status?0n:e.amount??0n}var ha=i(10309);function ga(e){return void 0!==va(e)}function va(t){for(const n of e.gs5){const{suffixes:e,baseFormat:a}=n;for(let o=e.length-1;o>=0;o--){const r=e[o];if(!t.endsWith(`.${r}`))continue;const i=t.slice(0,-r.length-1);if(a.test(i))return{base:i,zone:n}}}}function wa(t){return(null==t?void 0:t.collectionAddress)===e.nQN}function ya(e,t){return wa(e)?null==t?void 0:t[e.address]:void 0}function ba(e,t,n){if(n)return e.reduce(((e,a)=>{const o=ya("string"==typeof a?null==t?void 0:t[a]:a,n);return o?Math.min(o,e??1/0):e}),void 0)}function Ea(e,t,n){const a=jn(t);return e&&(a[n?"addressPrefixRegex":"addressRegex"].test(e)||a.isDnsSupported&&ga(e))}function ka(e){const{currentTransfer:t}=e,n=Ht(e,t.tokenSlug),{fullFee:a,canTransferFullBalance:o}=ma(t);return pa({tokenBalance:n,tokenSlug:t.tokenSlug,fullFee:null==a?void 0:a.terms,canTransferFullBalance:o})}function Ca(e){const{tokenSlug:t,toAddress:n}=e.currentTransfer,a=Zn(t);if(!n)return t;for(const r of[!1,!0]){var o;if(!n||Ea(n,a,r))return t;const i=null===(o=rt(e))||void 0===o?void 0:o.addressByChain;if(i)for(const t of Object.keys(i)){if(!Ea(n,t,r))continue;const a=qt(e,t);if(a)return a.slug}}return t}const Na=(0,et.A)((e=>Ze(((e,t)=>{const n=t?Object.values(t):void 0;return null!=n&&n.length?n:[e]}))));function Sa(e,t){var n;const{stateById:a}=(null===(n=lt(e,t))||void 0===n?void 0:n.staking)??{};return Na(t)(e.stakingDefault,a)}const Aa=(0,et.A)((e=>Ze((e=>(0,c.dU)(e,"tokenSlug")))));function Ta(e,t){return Aa(t)(Sa(e,t))}function Ia(t,n){var a;const{stateById:o,stakingId:r,shouldUseNominators:i}=(null===(a=lt(t,n))||void 0===a?void 0:a.staking)??{};return o&&r&&r in o?o[r]:i?e.Ba4:t.stakingDefault}function Ba(t,n){const a=lt(t,n);return Ia(t,n).tokenSlug===e.Tu9.slug?null==a?void 0:a.stakingHistory:void 0}function _a(t){return Boolean(e.OuE||t.settings.isTestnet)}function xa(e,t){var n;const{linkedAddressByAddress:a}=(null===(n=ct(e))||void 0===n?void 0:n.nfts)||{};return wa(t)?null==a?void 0:a[t.address]:void 0}qe("initApi",(async(e,o)=>{var r;(0,t.MD)("initApi action called");const i=null!==(r=e.accounts)&&void 0!==r&&r.byId?Object.keys(e.accounts.byId):[];(0,a.R)(o.apiUpdate,{isElectron:n.cp,isNativeBottomSheet:n.bA,isIosApp:n.ZH,isAndroidApp:n.xy,referrer:new URLSearchParams(window.location.search).get("r")??void 0,accountIds:i}),await(0,a.p)("waitDataPreload");const{currentAccountId:s}=Ve();if(!s)return;const c=En(e,s);(0,a.p)("activateAccount",s,c)})),qe("resetApiSettings",((t,a,o)=>{const r=!(null!=o&&o.areAllDisabled);e.hL1&&(a.toggleTonMagic({isEnabled:!1}),a.toggleTonProxy({isEnabled:!1})),(e.hL1||n.cp)&&a.toggleDeeplinkHook({isEnabled:r}),a.changeBaseCurrency({currency:e.wOb})}));var Da,La,Oa=i(16546);!function(e){e[e.NONE=0]="NONE",e[e.TOUCH_ID=1]="TOUCH_ID",e[e.FACE_ID=2]="FACE_ID",e[e.FINGERPRINT=3]="FINGERPRINT",e[e.FACE_AUTHENTICATION=4]="FACE_AUTHENTICATION",e[e.IRIS_AUTHENTICATION=5]="IRIS_AUTHENTICATION",e[e.MULTIPLE=6]="MULTIPLE"}(Da||(Da={})),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BIOMETRICS_UNAVAILABLE=1]="BIOMETRICS_UNAVAILABLE",e[e.USER_LOCKOUT=2]="USER_LOCKOUT",e[e.BIOMETRICS_NOT_ENROLLED=3]="BIOMETRICS_NOT_ENROLLED",e[e.USER_TEMPORARY_LOCKOUT=4]="USER_TEMPORARY_LOCKOUT",e[e.AUTHENTICATION_FAILED=10]="AUTHENTICATION_FAILED",e[e.APP_CANCEL=11]="APP_CANCEL",e[e.INVALID_CONTEXT=12]="INVALID_CONTEXT",e[e.NOT_INTERACTIVE=13]="NOT_INTERACTIVE",e[e.PASSCODE_NOT_SET=14]="PASSCODE_NOT_SET",e[e.SYSTEM_CANCEL=15]="SYSTEM_CANCEL",e[e.USER_CANCEL=16]="USER_CANCEL",e[e.USER_FALLBACK=17]="USER_FALLBACK"}(La||(La={}));const Ma=(0,Oa.F3)("NativeBiometric",{web:()=>i.e(542).then(i.bind(i,35542)).then((e=>new e.NativeBiometricWeb))});var Pa=i(23174),Fa=i(59121);const Ra=e.tKX?25:250,Ua=n.pz?350:250,Wa=ha.Z2,Ha=window.innerHeight,$a=[];let Va=za();function za(){return ja(),Xa(),setTimeout((()=>{Xa(),function(){const{safeAreaTop:e,safeAreaBottom:t}=Ka();Va={...Va,safeAreaTop:e,safeAreaBottom:t}}()}),Wa),Ka()}function Ka(){return{width:window.innerWidth,height:window.innerHeight,screenHeight:window.screen.height,safeAreaTop:Ga(),safeAreaBottom:Qa()}}window.addEventListener("orientationchange",(0,l.nF)((()=>{Va=za()}),Ua,!1)),n.pz||window.addEventListener("resize",(0,l.nF)((()=>{Va=za()}),Ra,!0)),e.UMQ&&i.e(408).then(i.bind(i,408)).then((e=>{let{Keyboard:t}=e;t.addListener("keyboardDidShow",(async e=>{await Ya(e.keyboardHeight);for(const e of $a)(0,g.A)(e)})),t.addListener("keyboardWillHide",(()=>{Ya(0)}))})),"visualViewport"in window&&(n.pz||n.Ni)&&window.visualViewport.addEventListener("resize",(0,l.nF)((t=>{const a=t.target;if(n.pz&&e.tKX){const e=Ha-a.height;Ya(e>40?e:0).finally((()=>{(0,k.YS)((()=>{Va={...Ka(),height:a.height}}))}))}else ja(),Va={...Ka(),height:a.height}}),Ra,!0));const qa=()=>Va;function ja(){if(!n.pz&&!n.Ni||e.UMQ||n.pz&&e.tKX)return;const t=n.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight;(0,k.RK)((()=>{const e=.01*t;document.documentElement.style.setProperty("--vh",`${e}px`)}))}function Ya(e){return new Promise((t=>{(0,k.RK)((()=>{(0,d.ZM)(document.body,{paddingBottom:e?`${e}px`:""}),t()}))}))}function Ga(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top-value"),10);return Number.isNaN(e)?0:e}function Qa(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom-value"),10);return Number.isNaN(e)?0:e}function Xa(){const{safeAreaTop:e,safeAreaBottom:t}=Ka(),{documentElement:n}=document;(0,k.RK)((()=>{n.classList.toggle("with-safe-area-top",!Number.isNaN(e)&&e>0),n.classList.toggle("with-safe-area-bottom",!Number.isNaN(t)&&t>0)}))}let Ja,Za=!1,eo=!1,to=!1,no=!1,ao=0;function oo(){var e;const t=null===(e=Ja)||void 0===e?void 0:e.BiometricManager;if(!t)return;const{isBiometricAvailable:n,isAccessGranted:a,isAccessRequested:o}=t;return n&&o&&!a}function ro(){return Ja}function io(){return new Promise((e=>{window.addEventListener("DOMContentLoaded",(()=>{e(ro())}))}))}function so(){const{top:e,left:t,right:n,bottom:a}=Ja.safeAreaInset,{top:o,left:r,right:i,bottom:s}=Ja.contentSafeAreaInset;document.documentElement.style.setProperty("--safe-area-top",`${e+o}px`),document.documentElement.style.setProperty("--safe-area-left",`${t+r}px`),document.documentElement.style.setProperty("--safe-area-right",`${n+i}px`),document.documentElement.style.setProperty("--safe-area-bottom",`${a+s}px`)}function co(){Ja.isFullscreen?(Ke().openFullscreen(),uo()):(Ke().closeFullscreen(),mo())}function lo(e){mo(),"ALREADY_FULLSCREEN"===e.error&&(Ke().openFullscreen(),uo())}function uo(){var e;ao+=1,1===ao&&(null===(e=Ja)||void 0===e||e.disableVerticalSwipes())}function mo(){var e;ao=Math.max(0,ao-1),0===ao&&(null===(e=Ja)||void 0===e||e.enableVerticalSwipes())}function po(e){return new Promise(((t,n)=>{ro().BiometricManager.requestAccess(e,(e=>{e?t(e):n(new Error("Access denied"))}))}))}async function fo(t){const n=ro().BiometricManager;if(!n.isAccessGranted&&!await po({reason:e.C39}))throw new Error("Access to biometric data has not been granted");return new Promise(((e,a)=>{n.updateBiometricToken(t,(n=>{n?e(t):a(new Error("Failed to update or save the biometric token"))}))}))}async function ho(){const t=ro().BiometricManager;if(!t.isAccessGranted&&!await po({reason:e.C39}))throw new Error("Biometric access was denied. Please grant access to proceed.");return new Promise(((e,n)=>{t.authenticate({reason:""},((t,a)=>{t?e({success:t,token:a}):n(new Error("Biometric authentication failed. Please try again."))}))}))}var go=i(48287).Buffer,vo=function(e){return e[e.Ed25519=-8]="Ed25519",e[e.ES256=-7]="ES256",e[e.RS256=-257]="RS256",e}(vo||{});const wo=e.C39,yo=e.C39,bo={createCredential:async function(){const e=window.location.hostname,t=(0,Fa.po)(32),n=(0,Fa.po)(32),a={publicKey:{challenge:(0,Fa.po)(32),rp:{name:wo,id:e},user:{id:t,name:yo,displayName:wo},pubKeyCredParams:[{type:"public-key",alg:vo.ES256},{type:"public-key",alg:vo.RS256},{type:"public-key",alg:vo.Ed25519}],authenticatorSelection:{requireResidentKey:!0,userVerification:"preferred"},extensions:{credBlob:n,hmacCreateSecret:!0},timeout:12e4,excludeCredentials:[]}},o=await navigator.credentials.create(a);if(!o)throw new Error("Missing credential");return{type:o.getClientExtensionResults().credBlob?"credBlob":"userHandle",password:{credBlob:go.from(n).toString("hex"),userHandle:go.from(t).toString("hex")},credential:o}},verify:async function(e){let{credential:t,password:n,type:a}=e;await(0,l.v7)(300);const o=t.response&&t.response.getTransports&&t.response.getTransports(),r=go.from(t.rawId).toString("hex"),i={publicKey:{challenge:(0,Fa.po)(32),allowCredentials:[{id:t.rawId,type:"public-key",transports:o}],userVerification:"required",extensions:{getCredBlob:!0}}},s=await navigator.credentials.get(i);if(!s)throw new Error("Missing authentication");const c=s.response;let d;if("userHandle"===a){if(!c.userHandle)throw new Error("Missing stored userHandle");if(!go.from(n.userHandle,"hex").equals(go.from(c.userHandle)))throw new Error("Stored blob not equals passed blob");d=n.userHandle}if(!d)throw new Error("Missing stored blob");return{config:{kind:"webauthn",type:a,credentialId:r,transports:o},password:d}},getPassword:async function(e){if("webauthn"!==e.kind)throw new Error("Unexpected auth kind");const{credentialId:t,transports:n,type:a}=e,o=(new AbortController).signal,r={publicKey:{challenge:(0,Fa.po)(32),allowCredentials:[{id:go.from(t,"hex"),type:"public-key",transports:n}],userVerification:"required",extensions:{getCredBlob:!0}},signal:o},i=await navigator.credentials.get(r);if(o.aborted)throw new Error("Verification canceled");const s=i.response,c=i.getClientExtensionResults();if("userHandle"===a){if(!s.userHandle)throw new Error("missing userHandle");return go.from(s.userHandle).toString("hex")}return go.from(c.getCredBlob??"").toString("hex")}};var Eo=i(48287).Buffer;const ko=async function(e){let n,{credential:a}=e;try{if(a)n=await bo.verify(a);else{var o;const e=Eo.from((0,Fa.po)(32)).toString("hex"),t=await(null===(o=window.electron)||void 0===o?void 0:o.encryptPassword(e));if(!t)return n;n={password:e,config:{kind:"electron-safe-storage",encryptedPassword:t}}}}catch(e){(0,t.SJ)("setupBiometrics",e)}return n},Co=async function(t){return e.tKX?(await fo(t),{password:t,config:{kind:"native-biometrics"}}):(await Ma.setCredentials({username:e.hkI,password:t,server:e.aD4}),{password:t,config:{kind:"native-biometrics"}})},No=function(){return e.tKX?fo(""):Ma.deleteCredentials({server:e.aD4})},So=async function(n){let a;try{if("webauthn"===n.kind)a=await bo.getPassword(n);else if("electron-safe-storage"===n.kind){var o;a=await(null===(o=window.electron)||void 0===o?void 0:o.decryptPassword(n.encryptedPassword))}else if(e.tKX&&"native-biometrics"===n.kind){const{success:e,token:t}=await ho();if(!e)return;a=t}else{if("native-biometrics"!==n.kind)throw new Error("Unexpected auth kind");if(!await Ma.verifyIdentity({title:e.C39,subtitle:"",isWeakAuthenticatorAllowed:!0,maxAttempts:1}).then((()=>!0)).catch((()=>!1)))return;a=(await Ma.getCredentials({server:e.aD4})).password}}catch(e){(0,t.SJ)("getPassword",e)}return a},Ao=(0,Oa.F3)("App",{web:()=>i.e(168).then(i.bind(i,41168)).then((e=>new e.AppWeb))}),To=(0,Oa.F3)("SplashScreen",{web:()=>i.e(411).then(i.bind(i,7411)).then((e=>new e.SplashScreenWeb))}),Io=(0,Oa.F3)("AirAppLauncher"),Bo=(0,Oa.F3)("SafeArea",{web:()=>i.e(88).then(i.bind(i,28088)).then((e=>new e.SafeAreaWeb))}),_o=(0,Oa.F3)("AppLauncher",{web:()=>i.e(895).then(i.bind(i,73895)).then((e=>new e.AppLauncherWeb))}),xo=(0,Oa.F3)("BottomSheet"),Do=e=>{e.stopPropagation(),e.preventDefault()};function Lo(e,t,n){const a=o=>{e.removeEventListener(t,a),n(o)};e.addEventListener(t,a)}function Oo(){var t;const{userAgent:n}=navigator,a=navigator.platform||(null===(t=navigator)||void 0===t||null===(t=t.userAgentData)||void 0===t?void 0:t.platform)||"";let o;return o=e.hL1||e.tKX?"browser":/Android/.test(n)?"android":-1!==["iPhone"].indexOf(a)?"iphone":-1!==["iPad","iPod"].indexOf(a)?"ipad":-1!==["macOS","Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(a)?"mac":-1!==["Win32","Win64","Windows","WinCE"].indexOf(a)?"windows":/Linux/.test(a)?"linux":"browser",o}const Mo=function(e,t,n,a){if(window[e])return;const o=["connect","restoreConnection","disconnect","send"],r=new Map,i=new Set;function s(e){const a=Date.now().toString(36)+Math.random().toString(36).slice(2),o=new Promise(((e,t)=>{r.set(a,{resolve:e,reject:t})}));for(var i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];const l={channel:t,messageId:a,type:"callMethod",name:e,args:s};return"parent"in n?n.postMessage(l,"*"):n.postMessage(JSON.stringify(l)),o}function c(e){if(e)return(e=String(e).trim().replace(/[\x00-\x1F\x7F]/g,"")).startsWith("//")?`https:${e}`:![/^\s*javascript\s*:/i,/^\s*data\s*:/i,/^\s*vbscript\s*:/i,/^\s*file\s*:/i,/^\s*about\s*:/i,/^\s*blob\s*:/i,/^\s*filesystem\s*:/i,/^\s*chrome(-extension)?\s*:/i,/^\s*moz-extension\s*:/i,/^\s*ms-browser-extension\s*:/i].some((t=>t.test(e)))&&/^[a-z][a-z0-9+.-]*:/i.test(e)?e:void 0}window.addEventListener("message",(e=>{let{data:n}=e;const a=n;if(a.channel===t)if("methodResponse"===a.type){const e=r.get(a.messageId);if(!e)return;r.delete(a.messageId),a.error?e.reject(a.error):e.resolve(a.response)}else"update"===a.type&&i.forEach((e=>e(a.update)))})),window.open=e=>((e=c(e))&&s("window:open",{url:e}),null),window.close=()=>{s("window:close")},window.addEventListener("click",(e=>{if(!(e.target instanceof HTMLElement))return;const{href:t,target:n}=e.target.closest("a")||{};if(t&&("_blank"===n||!t.startsWith("http"))){e.preventDefault();const n=c(t);n&&s("window:open",{url:n})}}),!1),function(){const t=Object.fromEntries(o.map((e=>[e,function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return s(`tonConnect:${e}`,...n)}])));window[e]={tonconnect:{...a,...t,listen:function(e){return i.add(e),()=>{i.delete(e)}}}}}()}.toString();var Po=i(54218);let Fo=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",e[e.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({}),Ro=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({}),Uo=0;function Wo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown error.";return{event:"connect_error",id:e,payload:{code:(arguments.length>2?arguments[2]:void 0)||Fo.UNKNOWN_ERROR,message:t}}}function Ho(e){return{url:e,isUrlEnsured:!0,accountId:Ve().currentAccountId}}function $o(o){const{closeBrowser:r}=Ke(),i=function(o){const{openLoadingOverlay:r,closeLoadingOverlay:i}=Ke(),s=new URL(o).origin.toLowerCase();return{connect:async(n,o)=>{try{if(n>e.gY_)return Wo(Uo,"Unsupported protocol version",Fo.BAD_REQUEST_ERROR);!function(e){var t;if(!(e&&e.manifestUrl&&null!==(t=e.items)&&void 0!==t&&t.length))throw new Error("Wrong request data")}(o),r();const t=await(0,a.p)("tonConnect_connect",Ho(s),o,Uo);return i(),Uo++,t}catch(e){return(0,t.SJ)("useDAppBridge:connect",e),"event"in e&&"id"in e&&"payload"in e?e:Wo(Uo,null==e?void 0:e.message,Fo.UNKNOWN_ERROR)}},restoreConnection:async()=>{try{const e=await(0,a.p)("tonConnect_reconnect",Ho(s),Uo);return Uo++,e}catch(e){return(0,t.SJ)("useDAppBridge:reconnect",e),"event"in e&&"id"in e&&"payload"in e?e:Wo(Uo,null==e?void 0:e.message,Fo.UNKNOWN_ERROR)}},disconnect:async()=>{Uo=0,await(0,a.p)("tonConnect_disconnect",Ho(s),{id:Uo.toString(),method:"disconnect",params:[]})},send:async e=>{var o;Uo++;const r=Ve();if(!(null===(o=r.byAccountId[r.currentAccountId].dapps)||void 0===o?void 0:o.some((e=>e.url===s))))return{error:{code:Ro.UNKNOWN_APP_ERROR,message:"Unknown app"},id:e.id.toString()};const i=Ho(s);try{switch(e.method){case"disconnect":return await(0,a.p)("tonConnect_disconnect",i,e);case"sendTransaction":{const t=await(0,a.p)("tonConnect_sendTransaction",i,e);return n.bA&&xo.applyScrollPatch(),t}case"signData":return await(0,a.p)("tonConnect_signData",i,e);default:{const t=e;return{id:String(t.id),error:{code:Ro.BAD_REQUEST_ERROR,message:`Method "${t.method}" is not supported`}}}}}catch(n){return(0,t.SJ)("useDAppBridge:send",n),{id:String(e.id),error:{code:Ro.UNKNOWN_ERROR,message:null==n?void 0:n.message}}}}}}(o),s=i?function(e){const t=Object.entries(e).map((e=>{let[t,n]=e;return[`tonConnect:${t}`,n]}));return Object.fromEntries(t)}(i):void 0;return{"window:open"(e){let{url:t}=e;Nc(t,{isExternal:!0,isFromInAppBrowser:!0})},"window:close"(){r()},...s}}function Vo(e){const t=me(e);return t.current=e,t}function zo(e){const t=Vo(e);return ue((function(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call(t,...a)}),[])}class Ko{constructor(e){this.inAppBrowser=e}addEventListener(e,t){this.inAppBrowser.addEventListener(e,t)}removeEventListener(e,t){this.inAppBrowser.removeEventListener(e,t)}postMessage(e){this.inAppBrowser.executeScript({code:`window.dispatchEvent(new MessageEvent('message', { data: ${JSON.stringify(e)} }));`})}}var qo=i(48287).Buffer;const jo=/[-a-z0-9@:%._+~#=]{1,256}\.[a-z0-9()]{1,6}\b([-a-z0-9()@:%_+.~#?&/=]*)/gi,Yo=new Set(["http:","https:"]),Go={ton:{name:"Tonscan",base:{mainnet:"https://tonscan.org/",testnet:"https://testnet.tonscan.org/"},address:"{base}address/{address}",explorer:"{base}jetton/{address}",transaction:"{base}tx/{hash}"},tron:{name:"Tronscan",base:{mainnet:"https://tronscan.org/#/",testnet:"https://shasta.tronscan.org/#/"},address:"{base}address/{address}",explorer:"{base}token20/{address}",transaction:"{base}transaction/{hash}"}};function Qo(e){try{return new URL(e).hostname}catch(n){return(0,t.SJ)("getHostnameFromUrl",n),e}}function Xo(e){return Go[e].name}function Jo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Go[e].base[t?"testnet":"mainnet"]}function Zo(t,n,a){var o;if(n&&n!==e.n3s)return Go[t].transaction.replace("{base}",Jo(t,a)).replace("{hash}","ton"===t?(o=n,qo.from(o,"base64").toString("hex")):n)}function er(e,t,n){if(t)return Go[e].address.replace("{base}",Jo(e,n)).replace("{address}",t)}function tr(e,t){if(e)return`${Jo("ton",t)}nft/${e}`}function nr(e){return e.startsWith("https://t.me/")}function ar(t){return`${e.dmC}${t.metadata.mtwCardId}.webp`}const or=/(\*\*|__).+?\1/g;function rr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["simple_markdown","br"];return"string"!=typeof e?[e]:(0,c.oE)(t.reduce(((e,t)=>{switch(t){case"simple_markdown":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(or),a=t.match(or)||[];return e.push(n[0]),a.reduce(((e,t,a)=>{e.push(t.startsWith("**")?ge.createElement("b",null,t.replace(/\*\*/g,"")):ge.createElement("i",null,t.replace(/__/g,"")));const o=2*a+2;return n[o]&&e.push(n[o]),e}),e)}),[]);case"br":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(/\r\n|\r|\n/g).reduce(((e,t,n,a)=>{const o=t.trimStart(),r=t.length-o.length;return e.push(String.fromCharCode(160).repeat(r)+o),n!==a.length-1&&e.push(ge.createElement("br",null)),e}),[]);return[...e,...n]}),[])}return e}),[e]))}const ir=JSON.parse('{"$auth_intro":"**Securely** store crypto\\nand make blockchain payments\\nat the **speed of light**.\\n","Create New Wallet":"Create New Wallet","Import From %1$d Secret Words":"Import From %1$d Secret Words","More about %app_name%":"More about %app_name%","Creating Wallet...":"Creating Wallet...","On the count of three...":"On the count of three...","$back_up_auth":"Back Up","$back_up_security":"Back Up","Passwords must be equal.":"Passwords must be equal.","To protect your wallet as much as possible, use a password with":"To protect your wallet as much as possible, use a password with","$auth_password_rule_8chars":"at least 8 characters","$auth_password_rule_one_small_char":"one small letter","$auth_password_rule_one_capital_char":"one capital letter","$auth_password_rule_one_digit":"one digit","$auth_password_rule_one_special_char":"and one special character","The wallet is imported":"The wallet is imported","The wallet is ready":"The wallet is ready","Create a password to protect it.":"Create a password to protect it.","Enter your password":"Enter your password","Enter your password...":"Enter your password...","...and repeat it":"...and repeat it","Cancel":"Cancel","Insecure Password":"Insecure Password","Your have entered an insecure password, which can be easily guessed by scammers.":"Your have entered an insecure password, which can be easily guessed by scammers.","Continue or change password to something more secure?":"Continue or change password to something more secure?","Change":"Change","%1$d Secret Words":"%1$d Secret Words","Secret Words":"Secret Words","$auth_import_mnemonic_description":"You can restore access to your wallet by entering the **12 or 24 secret words** that you wrote down when creating the wallet.\\n","Let’s make sure your secrets words are recorded correctly.":"Let’s make sure your secrets words are recorded correctly.","$mnemonic_check_words_list":"Please enter the words **%1$s** below.","$mnemonic_check_error":"The secret words you have entered do not match the ones in the list. Please try again.","$check_words_description":"Now let’s check that you wrote\\nyour secret words correctly.\\n","$mnemonic_list_description":"Write down these words in the **correct order** and store them in a **secure place**.","$private_key_description":"Save this private key **correctly** and store it in a **secure place**.","$mnemonic_warning":"**Do not** send or show it to anyone,\\n**do not** enter it anywhere.\\n","View Secret Words":"View Secret Words","View TON Private Key":"View TON Private Key","Can be imported to non-multichain wallets for TON.":"Can be imported to non-multichain wallets for TON.","Can be imported to any multichain wallet supporting TON.":"Can be imported to any multichain wallet supporting TON.","Let\'s Check":"Let\'s Check","Let\'s Check!":"Let\'s Check!","Safety Rules":"Safety Rules","$safety_rules_private_key_one":"On the next screen you will see the **TON private key**. Save it correctly and **store in a secure place**.\\n","$safety_rules_private_key_two":"It allows to **open your wallet** if you lose your password or access to this device.","$safety_rules_private_key_three":"If anybody else sees this private key, your funds **may be stolen**. **Do not send or show it to anyone**, not even developers or technical support.","$safety_rules_one":"On the next screen you will see the **secret words**. Write them down in the correct order and **store in a secure place**.\\n","$safety_rules_two":"They allow to **open your wallet** if you lose your password or access to this device.","$safety_rules_three":"If anybody else sees these words your funds **may be stolen**. **Do not send it to anyone**, not even developers or technical support.","Understood":"Understood","Congratulations!":"Congratulations!","Continue":"Continue","Close":"Close","Back":"Back","Search...":"Search...","Main menu":"Main menu","TON Proxy":"TON Proxy","Toggle TON Proxy":"Toggle TON Proxy","TON Magic":"TON Magic","Toggle TON Magic":"Toggle TON Magic","Open Telegram Web":"Open Telegram Web","Back Up Secret Words":"Back Up Secret Words","Settings":"Settings","About %app_name%":"About %app_name%","Exit":"Exit","Remove Wallet":"Remove Wallet","Something went wrong.":"Something went wrong.","Something went wrong":"Something went wrong","Logo":"Logo","$about_description1":"Securely store crypto, explore decentralized apps, and make blockchain payments at the **speed of light**.","$about_description2":"The wallet is **non-custodial and safe**. The developers **do not** have access to your funds, browser history or any other information.","What is TON Proxy?":"What is TON Proxy?","$about_extension_description1":"TON Proxy opens a way to **decentralized internet** by allowing to anonymously access TON Sites.","More info and demo.":"More info and demo.","$about_extension_description2":"TON Magic provides native **Telegram integration** by patching the official Telegram Web app.","$about_extension_description3":"Turn it on to send and receive Toncoins from any Telegram user.","$about_proxy_magic_title":"What about %ninja% TON Proxy and %unicorn% TON Magic?","$about_proxy_magic_description":"To enjoy **decentralized internet**, access **TON Sites**, and leverage native **Telegram integration**, feel free to install the %extension_link%.","$about_extension_link_text":"**%app_name% extension**","Is it open source?":"Is it open source?","$about_wallet_github":"Yes, it is. Feel free to explore our %github_link%.","$about_github_link_text":"**GitHub repository**","Is there a community?":"Is there a community?","$about_wallet_community":"Sure, welcome to our %community_link%.","$about_community_link_text":"**Telegram channel**","Currency History":"Currency History","Enter Password":"Enter Password","Send":"Send","Add Wallet":"Add Wallet","Done":"Done","Delete":"Delete","Delete Saved Address":"Delete Saved Address","Are you sure you want to remove this address from your saved ones?":"Are you sure you want to remove this address from your saved ones?","You will be able to save it again via Transaction Info with this address.":"You will be able to save it again via Transaction Info with this address.","Address removed from saved":"Address removed from saved","Warning!":"Warning!","Log Out":"Log Out","$logout_without_backup_warning":"You have not backed up this wallet. If you remove it now, you will lose access to your tokens and NFTs.","$logout_accounts_without_backup_warning":"You have not backed up %links%. If you proceed, you will lose access to your tokens and NFTs.","$logout_warning":"This will remove the current wallet from the app. Make sure you have your **secret words** backed up.","Your address was copied!":"Your address was copied!","Create Deposit Link":"Create Deposit Link","$receive_invoice_description":"You can specify the amount and purpose of\\nthe payment to save the sender some time.\\n","Amount":"Amount","Comment":"Comment","Comment or Memo":"Comment or Memo","Share this URL to receive %token%":"Share this URL to receive %token%","Invoice link was copied!":"Invoice link was copied!","Theme":"Theme","Language":"Language","Enable Animations":"Enable Animations","Base Currency":"Base Currency","Investor View":"Investor View","Toggle Investor View":"Toggle Investor View","Hide Tiny Transfers":"Hide Tiny Transfers","Toggle Hide Tiny Transfers":"Toggle Hide Tiny Transfers","Network":"Network","Developer Options":"Developer Options","All Wallet Versions":"All Wallet Versions","Add TON-Only Wallet":"Add TON-Only Wallet","Confirmation":"Confirmation","Signing Data":"Signing Data","Contract Initialization Data":"Contract Initialization Data","$dont_have_required_token":"You don’t have the required token to send, but it can be swapped.","$unknown_token_address":"Unknown token address.","$dont_have_required_nft":"You don’t have the required NFT to send.","$state_init_invalid":"Invalid contract initialization data.","$signature_warning":"Signing custom data is very dangerous. Use it only if you trust the source of it.","Sign":"Sign","Done!":"Done!","Signing was confirmed!":"Signing was confirmed!","Transaction Info":"Transaction Info","Transaction in progress":"Transaction in progress","Comment was copied!":"Comment was copied!","Sender":"Sender","Recipient":"Recipient","Address was copied!":"Address was copied!","Repeat":"Repeat","Switch Account":"Switch Account","Copy wallet address":"Copy wallet address","View address on %ton_explorer_name%":"View address on %ton_explorer_name%","You have just created a new wallet":"You have just created a new wallet","You can now transfer your tokens from another wallet or exchange.":"You can now transfer your tokens from another wallet or exchange.","Assets":"Assets","Activity":"Activity","NFT":"NFT","No NFTs yet":"No NFTs yet","$nft_explore_offer":"Explore a marketplace to discover\\nexisting NFT collections.\\n","Received":"Received","Sent":"Sent","$transaction_from":"from %address%","$transaction_to":"to %address%","$transaction_on":"on %address%","Wallet is not backed up":"Wallet is not backed up","Testnet Version":"Testnet Version","Error reading clipboard":"Error reading clipboard","$fee_value":"Fee %fee%","$fee_value_with_colon":"Fee: %fee%","Pay fee with %stars_symbol%":"Pay fee with %stars_symbol%","Loading...":"Loading...","Recipient Address":"Recipient Address","Wallet address or domain":"Wallet address or domain","Incorrect address":"Incorrect address","Incorrect address.":"Incorrect address.","Paste":"Paste","Insufficient balance":"Insufficient balance","Insufficient Balance":"Insufficient Balance","$seed_phrase_scam_warning":"This wallet does not have enough funds to cover the fees for token withdrawal.\\n\\nThis seems to be a common **SCAM** where you\'re encouraged to deposit your own funds to cover fees.\\n\\n**Do not deposit** your own funds, as you may lose them! Learn more about this and other scams in our %help_center_link%.\\n","$help_center_prepositional":"Help Center","Optional":"Optional","$send_token_symbol":"Send %1$s","Is it all ok?":"Is it all ok?","Receiving Address":"Receiving Address","Fee":"Fee","Edit":"Edit","Confirm":"Confirm","Coins have been sent!":"Coins have been sent!","Transaction Sent!":"Transaction Sent!","Data Signed!":"Data Signed!","Details":"Details","Change password visibility":"Change password visibility","Amount value":"Amount value","Save Address":"Save Address","Name":"Name","Save":"Save","Copy":"Copy","Remove From Saved":"Remove From Saved","View on Explorer":"View on Explorer","No suggestions, you\'re on your own!":"No suggestions, you\'re on your own!","Play Sounds":"Play Sounds","Focus on asset value rather than current balance":"Focus on asset value rather than current balance","$logout_confirm":"Remove **all** wallets","$logout_warning2":"Wallets are located in the decentralized TON Blockchain. If you want the wallet to be deleted simply transfer all the TON from it and leave it empty.","$tiny_transfers_help":"Hide transfers worth less than $%value%. Keep in mind: small amounts are often sent by spammers and scammers.","Today":"Today","Yesterday":"Yesterday","Now":"Now","$receive_ton_description":"Scan this QR or share your address to top up your wallet balance.","Wrong password, please try again.":"Wrong password, please try again.","Appearance":"Appearance","Light":"Light","Dark":"Dark","System":"System","$stake_asset":"Stake %symbol%","Earn from your tokens while holding them":"Earn from your tokens while holding them","Why this is safe":"Why this is safe","Why is staking safe?":"Why is staking safe?","$safe_staking_description1":"Staking is **fully decentralized** and operated by the **official TON Liquid Staking** smart contracts.","$safe_staking_description2":"The deposited stake will be used for the TON network validation as part of its **proof-of-stake** essence.","$safe_staking_description3":"You can withdraw your stake at **any time** and it will be deposited back to your account within **two days**.","$safe_staking_description_jetton1":"Token staking is **fully decentralized** and operated by the **open-source** smart contracts developed by %jvault_link% and passed **security audits**.","$safe_staking_description_jetton2":"You can withdraw your stake at **any time** and it will be deposited back to your account **instantly**.","$min_value":"Min %value%","Est. balance in a year":"Est. balance in a year","Confirm Staking":"Confirm Staking","Confirm operation with your password":"Confirm operation with your password","Coins have been staked!":"Coins have been staked!","View":"View","Stake More":"Stake More","Staking":"Staking","Currently Staked":"Currently Staked","Unstake":"Unstake","Earning History":"Earning History","$total":"Total: %value%","$unstake_asset":"Unstake %symbol%","Amount to unstake":"Amount to unstake","Confirm Unstaking":"Confirm Unstaking","Request for unstaking is sent!":"Request for unstaking is sent!","$unstaking_when_receive":"You will receive your unstaked deposit in %time%.","$unstaking_when_receive_with_amount":"You will receive your unstaked %amount% in %time%.","$unstaking_when_receive_with_amount_ethena":"You will be able to receive your unstaked %amount% in %time%.","$unstake_insufficient_balance":"You need to have %balance% on your main balance to proceed with unstaking.","at %annual_yield%":"at %annual_yield%","Est. %annual_yield%":"Est. %annual_yield%","Staked":"Staked","$stake_action":"Stake","Unstaked":"Unstaked","Unstaking":"Unstaking","$unstake_action":"Unstake","The network fee has slightly changed, try sending again.":"The network fee has slightly changed, try sending again.","Transfer was unsuccessful. Try again later.":"Transfer was unsuccessful. Try again later.","Invalid amount":"Invalid amount","Invalid address":"Invalid address","Domain is not connected to a wallet":"Domain is not connected to a wallet","Unexpected error":"Unexpected error","Unexpected Error":"Unexpected Error","Earn":"Earn","Earning":"Earning","Unexpected":"Unexpected error","You can save this address for quick access while sending.":"You can save this address for quick access while sending.","Stake Again":"Stake Again","Earned":"Earned","Connect Dapp":"Connect Dapp","Select wallet to use on this dapp":"Select wallet to use on this dapp","Connect":"Connect","Dapp Permissions":"Dapp Permissions","$dapp_can_view_balance":"%dappname% will be able to view wallet address and balance.","Send Transaction":"Send Transaction","Payload":"Payload","$many_transactions":{"zeroValue":"No Transactions","oneValue":"%1$d Transaction","otherValue":"%1$d Transactions"},"Total Amount":"Total Amount","$unstaking_short":"Unstaking","Handle ton:// links":"Handle ton:// links","Back up wallet to have full access to it":"Back up wallet to have full access to it","Consider More Secure Version":"Consider More Secure Version","Install our native app or browser extension.":"Install our native app or browser extension.","Scam":"Scam","Scam comment is hidden.":"Scam comment is hidden.","Display":"Display","Connected Dapps":"Connected Dapps","Disconnect All Dapps":"Disconnect All Dapps","Disconnect":"Disconnect","Disconnect Dapp":"Disconnect Dapp","Disconnect Dapps":"Disconnect Dapps","Are you sure you want to disconnect?":"Are you sure you want to disconnect %dappname%?","Are you sure you want to disconnect all websites?":"Are you sure you want to disconnect all websites?","$dapps-description":"You can log in on dapps that support %app_name%. They can view wallet address, balance, and request operations.","Logged in with %app_name%":"Logged in with %app_name%","No active connections":"No active connections","Other":"Other","Assets & Activity":"Assets & Activity","Token Settings":"Token Settings","My Tokens":"My Tokens","Add Token":"Add Token","Delete Token":"Delete Token","Are you sure you want to delete?":"Are you sure you want to delete %token%?","Hide Tokens With No Cost":"Hide Tokens With No Cost","Sort By Cost":"Sort By Cost","Update %app_name%":"Update %app_name%","Connect Ledger":"Connect Ledger","Connecting to your Ledger...":"Connecting to your Ledger...","Failed to connect":"Failed to connect","Ledger Connected!":"Ledger Connected!","Select Ledger Wallets":"Select Ledger Wallets","%1$d Selected":"%1$d Selected","Add":"Add","Try Again":"Try Again","Driver":"Driver","Unlock it and open the TON App":"Unlock it and open the TON App","Maybe you need to check the password or change the driver.":"Maybe you need to check the password or change the driver.","Confirm via Ledger":"Confirm via Ledger","Please confirm transaction on your Ledger":"Please confirm transaction on your Ledger","Declined":"Declined","Create Wallet":"Create Wallet","Switch to the newly opened tab to connect Ledger.":"Switch to the newly opened tab to connect Ledger.","Once connected, switch back to this window to proceed.":"Once connected, switch back to this window to proceed.","Not all transactions were sent successfully":"Not all transactions were sent successfully","The time on your device is incorrect, sync it and try again":"The time on your device is incorrect, sync it and try again","Name or Address...":"Name or Address...","Such error, many tabs":"Such error, many tabs","$many_tabs_error_description":"%app_name% supports only one active tab with the app.\\nPlease reload this page to continue using this tab or close it.\\n","Reload App":"Reload App","Please confirm operation on your Ledger":"Please confirm operation on your Ledger","Token Not Found":"Token Not Found","Try another keyword or address.":"Try another keyword or address.","Decrypt":"Decrypt","Encrypted Message":"Encrypted Message","Message is encrypted.":"Message is encrypted.","$dapp_ledger_warning1":"You are about to send a multi-way transaction using your **Ledger** wallet. You will need to sign each underlying transaction **one by one manually**.","$dapp_ledger_warning2":"Please take your time and do not interrupt the process.","Agree":"Agree","$swap_action":"Swap","Swap":"Swap","You sell":"You sell","You buy":"You buy","Swap Details":"Swap Details","Blockchain Fee":"Blockchain Fee","Aggregator Fee":"Aggregator Fee","Included":"Included","Price Impact":"Price Impact","Minimum Received":"Minimum Received","Slippage":"Slippage","$swap_from_to":"Swap %from% %icon% %to%","The exchange rate is below market value!":"The exchange rate is %value% below market value!","Invalid Pair":"Invalid Pair","We do not recommend to perform an exchange, try to specify a lower amount.":"We do not recommend to perform an exchange, try to specify a lower amount.","$swap_minimum_received_tooltip1":"This is the least amount of new tokens you\'ll get from this swap, considering current market conditions, slippage tolerance, and potential price impact.","$swap_minimum_received_tooltip2":"It\'s an expected minimum, but if the conditions change a lot while your swap is being processed, the final amount could be less.","$swap_price_impact_tooltip1":"This shows how much your trade might change the token\'s price.","$swap_price_impact_tooltip2":"Big trades can make the price go up or down more. Lower is usually better.","$swap_slippage_tooltip1":"This sets how much the price is allowed to change before your swap is processed.","$swap_slippage_tooltip2":"If during the processing of your swap, the price changes more than this value, your order will be canceled.","Coins have been swapped!":"Coins have been swapped!","Slippage not specified":"Slippage not specified","Slippage too high":"Slippage too high","Not Enough %symbol%":"Not Enough %symbol%","Use Responsibly":"Use Responsibly","$auth_responsibly_description1":"%app_name% is a **self-custodial** wallet, which means that **only you** have full control and, most importantly, **full responsibility** for your funds.\\n","$auth_responsibly_description2":"Your private keys are stored on your device and are subject to **hacker attacks**. If your computer is infected with **malware**, your funds are likely to be stolen.\\n","$auth_responsibly_description3":"The %app_name% team is **not responsible** for the safety of your funds, just as your computer manufacturer or internet provider is not responsible.\\n","$auth_responsibly_description4":"**Never** store all your funds in one place. **Diversify** and use various software and hardware. Always **do your own research** and learn more about crypto security.\\n","Start Wallet":"Start Wallet","$auth_backup_warning_notice":"Now you need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Later":"Later","Back Up Now":"Back Up Now","I have read and accept this information":"I have read and accept this information.","$ledger_verify_address":"Always verify pasted address using your Ledger device.","$ledger_not_ready":"Ledger is not connected or TON app is not open.","Verify now":"Verify now","Invalid address format. Only URL Safe Base64 format is allowed.":"Invalid address format. Only URL Safe Base64 format is allowed.","$auth_backup_description1":"This is a **secure wallet**\\nand is only **controlled by you**.\\n","$auth_backup_description2":"And with great power comes **great responsibility**.","$auth_backup_description3":"You need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Swap Placed":"Swap Placed","Swapping":"Swapping","Swapped":"Swapped","Swap Again":"Swap Again","Terms of Use":"Terms of Use","Privacy Policy":"Privacy Policy","Insufficient liquidity":"Insufficient liquidity","This address is new and never received transfers before.":"This address is new and never received transfers before.","Create Backup":"Create Backup","Sending":"Sending","$send_action":"Send","Failed":"Failed","Refunded":"Refunded","On Hold":"On Hold","Expired":"Expired","In Progress":"In Progress","Waiting for Payment":"Waiting for Payment","Blockchain":"Blockchain","Your address on another blockchain":"Your address on another blockchain","Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.":"Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.","The time for sending coins is over.":"The time for sending coins is over.","You have not sent the coins to the specified address.":"You have not sent the coins to the specified address.","$swap_changelly_to_ton_description1":"Send %value% to this address in %blockchain% blockchain within %time%","Exchange failed and coins were refunded to your wallet.":"Exchange failed and coins were refunded to your wallet.","$swap_changelly_kyc_security":"Please contact **%email%** and provide **Transaction ID** to pass the KYC procedure:","Swap Expired":"Swap Expired","Address for %blockchain% transfer":"Address for %blockchain% transfer","Cross-chain exchange provided by Changelly":"Cross-chain exchange provided by Changelly","$swap_changelly_agreement_message":"By continuing, you agree to the %terms% and %policy% and understand that the transaction may trigger verification according to %kyc%.","$swap_changelly_terms_of_use":"terms of use","$swap_changelly_privacy_policy":"privacy policy","Password must contain %length% digits.":"Password must contain %length% digits.","Deposit Link":"Deposit Link","$swap_changelly_from_ton_description":"Tokens will be sent to your address in %blockchain% blockchain soon:","Please note that it may take up to a few hours for tokens to appear in your wallet.":"Please note that it may take up to a few hours for tokens to appear in your wallet.","Minimum amount":"Minimum %value%","Maximum amount":"Maximum %value%","Display Tray Icon":"Display Tray Icon","Auto-Updates":"Auto-Updates","Biometric Authentication":"Biometric Authentication","If you turn off biometric protection, you will need to create a password.":"If you turn off biometric protection, you will need to create a password.","Enter your current password":"Enter your current password","Turn On Biometrics":"Turn On Biometrics","Please confirm transaction using biometrics":"Please confirm transaction using biometrics","Enabling biometric confirmation will reset the password.":"Enabling biometric confirmation will reset the password.","Biometric Registration":"Biometric Registration","Step 1 of 2. Registration":"Step 1 of 2. Registration","Step 2 of 2. Verification":"Step 2 of 2. Verification","Download Logs":"Download Logs","Copy Logs":"Copy Logs","Logs were copied!":"Logs were copied!","Biometric setup failed.":"Biometric setup failed.","Biometric confirmation failed.":"Biometric confirmation failed.","Failed to disable biometrics.":"Failed to disable biometrics.","Biometric Confirmation":"Biometric Confirmation","Please verify the operation.":"Please verify the operation.","Create Password":"Create Password","Complete":"Complete","Verification":"Verification","Create a password or use biometric authentication to protect it.":"Create a password or use biometric authentication to protect it.","Connect Biometrics":"Connect Biometrics","Use Password":"Use Password","Biometrics Disabled":"Biometrics Disabled","Biometrics Enabled":"Biometrics Enabled","A request is already pending":"A request is already pending","Please confirm operation using biometrics":"Please confirm operation using biometrics","Scan QR Code":"Scan QR Code","Permission denied. Please grant camera permission to use the QR code scanner.":"Permission denied. Please grant camera permission to use the QR code scanner.","This QR Code is not supported":"This QR Code is not supported","An error on the server side. Please try again.":"An error on the server side. Please try again.","Address was saved!":"Address was saved!","US Dollar":"US Dollar","Euro":"Euro","Ruble":"Ruble","Yuan":"Yuan","Bitcoin":"Bitcoin","Toncoin":"Toncoin","$max_balance":"Max: %balance%","$unstake_information_instantly":"You will get your deposit instantly","Select Token":"Select Token","MY":"MY","POPULAR":"POPULAR","Not Found":"Not Found","Wallet is ready!":"Wallet is ready!","Wallet is imported!":"Wallet is imported!","Create a code to protect it":"Create a code to protect it","Enter your code again":"Enter your code again","Codes don\'t match":"Codes don’t match","Code set successfully":"Code set successfully","Use Biometrics":"Use Biometrics","Use Touch ID":"Use Touch ID","Use Face ID":"Use Face ID","You can connect your biometric data for more convenience":"You can connect your biometric data for more convenience","Connect Touch ID":"Connect Touch ID","Connect Face ID":"Connect Face ID","Not Now":"Not Now","Touch ID":"Touch ID","Face ID":"Face ID","Turn Off Touch ID":"Turn Off Touch ID","Turn Off Face ID":"Turn Off Face ID","Turn Off Biometrics":"Turn Off Biometrics","Enter code":"Enter code","Enter code or use Face ID":"Enter code or use Face ID","Enter code or use Touch ID":"Enter code or use Touch ID","Enter code or use biometrics":"Enter code or use biometrics","Wrong code, please try again":"Wrong code, please try again","Scan your fingerprint":"Scan your fingerprint","Incorrect code, please try again.":"Incorrect code, please try again.","Correct":"Correct","Confirm Action":"Confirm Action","Confirm Swap":"Confirm Swap","Confirm Rewards Claim":"Confirm Rewards Claim","%amount% to %address%":"%amount% to %address%","%amount_from% to %amount_to%":"%amount_from% to %amount_to%","Failed to enable biometrics.":"Failed to enable biometrics.","Please try to confirm your biometrics again":"Please try to confirm your biometrics again","Unknown error":"Unknown error","Are you sure you want to disable Face ID?":"Are you sure you want to disable Face ID?","Are you sure you want to disable Touch ID?":"Are you sure you want to disable Touch ID?","Are you sure you want to disable biometrics?":"Are you sure you want to disable biometrics?","Yes":"Yes","Biometric confirmation failed":"Biometric confirmation failed","No Activity":"No Activity","Add / Buy":"Add / Buy","Buy with Card":"Buy with Card","Buy with Crypto":"Buy with Crypto","Cannot load widget":"Cannot load widget","Explore":"Explore","No partners yet":"No partners yet","Clear":"Clear","Get TON":"Get TON","$unstake_up_to_information":"Instantly – up to %value%","$all_balance":"All: %balance%","$unstaking_not_enough_balance":"You need to have %value% on your main balance to proceed with unstaking.","$ledger_verify_address_on_device":"Please, verify the address on your Ledger.","Wallet Versions":"Wallet Versions","$read_more_about_wallet_version":"Read more about types of wallet contracts on %ton_link%.","$current_wallet_version":"Your current wallet version is %version%.","You have tokens on other versions of your wallet. You can import them from here.":"You have tokens on other versions of your wallet. You can import them from here.","$wallet_switch_version_1":"You can also %action%.","$wallet_switch_version_2":"switch to another wallet version","or import from":"or import from","Insufficient fee":"Insufficient fee","$insufficient_fee":"Insufficient fee: %fee%","Required":"Required","Comment is too long.":"Comment is too long.","Memo":"Memo","Memo was copied!":"Memo was copied!","$hide_tokens_no_cost_help":"Hide tokens worth less than $%value%. Keep in mind: worthless tokens are often sent by spammers and scammers. On the same screen below, you can hide individual tokens.","No internet connection. Please check your connection and try again.":"No internet connection. Please check your connection and try again.","To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable Face ID in your phone settings.","To use this feature, first enable biometrics in your phone settings.":"To use this feature, first enable biometrics in your phone settings.","Open Settings":"Open Settings","$service_token_transfer_warning":"You are about to transfer an important service token required to withdraw your deposit or complete service operations. Please ensure this is the action you intend to take.","No Price":"No Price","$ledger_outdated":"This operation is not supported by your version of the Ledger TON App. Please update it using Ledger Live.","$ledger_unsupported_ton_connect":"TonConnect is not supported by version of your Ledger TON App. Please update it using Ledger Live.","$dapp_transfer_tokens_burn":"Burning %amount%","$dapp_dns_set_wallet_payload":"Changing linked wallet of domain %domain% to %address%","$dapp_dns_delete_wallet_payload":"Deleting linked wallet of domain %domain%","$dapp_dns_change_record_payload":"Changing \\"%category%\\" record of domain %domain% to %value%","$dapp_dns_delete_record_payload":"Deleting \\"%category%\\" record of domain %domain%","$dapp_token_bridge_pay_swap_payload":"Confirmation of exchange via cross-chain bridge","$dapp_liquid_staking_deposit_payload":"Deposit to liquid staking","$dapp_liquid_staking_vote_payload":"Voting \\"%vote%\\" for proposal %votingAddress%","$dapp_single_nominator_change_validator_payload":"Changing address of SingleNominator staking contract validator to %address%","$dapp_single_nominator_withdraw_payload":"Withdrawal of %amount% TON from SingleNominator staking contract","$dapp_vesting_add_whitelist_payload":"Adding %address% to vesting wallet whitelist","Search or enter address":"Search or enter address","Connecting dapps is not yet supported by Ledger.":"Connecting dapps is not yet supported by Ledger.","Time synchronization issue. Please ensure your device\'s time settings are correct.":"Time synchronization issue. Please ensure your device\'s time settings are correct.","Data was copied!":"Data was copied!","Open NFT Collection":"Open NFT Collection","Previous":"Previous","Next":"Next","Insufficient TON for fee.":"Insufficient TON for fee.","Send NFT":"Send NFT","NFT has been sent!":"NFT has been sent!","Cannot be sent":"Cannot be sent","NFT is for sale":"NFT is for sale","More actions":"More actions","Open on %ton_explorer_name%":"Open on %ton_explorer_name%","Swap is not supported in Testnet.":"Swap is not supported in Testnet.","Swap is not yet supported by Ledger.":"Swap is not yet supported by Ledger.","Buying with card is not supported in Testnet.":"Buying with card is not supported in Testnet.","Staking is not supported in Testnet.":"Staking is not supported in Testnet.","Get Support":"Get Support","$transfer_inactive_contract_error":"You entered an address in the \\"EQ...\\" format, but the address is not active, so the transaction will not be completed.\\nIf you definitely want to send to this address, then enter the address in the \\"UQ...\\" format.\\n","$transfer_link_expired":"Transfer link has expired","$transfer_text_and_bin_exclusive":"Cannot use both text and bin parameters together","$unsupported_deeplink_parameter":"This deeplink contains unsupported parameters","Successfully":"Successfully","Unstake More":"Unstake More","WrongAddress":"The dapp requested a transaction from another wallet.","Are you sure you want to burn this NFT? It will be lost forever.":"Are you sure you want to burn this NFT?\\nIt will be lost forever.\\n","$multi_burn_nft_warning":"You are going to burn %amount% NFTs.","$multi_send_nft_warning":"The process may take ~%duration% minute(s). Please do not close the app and do not switch accounts until it is finished.","Burn NFT":"Burn NFT","Burn":"Burn","Private Key":"Private Key","%amount% NFTs":"%amount% NFTs","1 NFT":"1 NFT","1 NFT Selected":"1 NFT Selected","%amount% NFTs Selected":"%amount% NFTs Selected","For sale. Cannot be sent and burned":"For sale. Cannot be sent and burned","Select":"Select","Send All":"Send All","Burn All":"Burn All","Select All":"Select All","Collection":"Collection","Transaction ID was copied!":"Transaction ID was copied!","$swap_changelly_support":"If there are any problems, please contact %livechat% or %email% and provide **Transaction ID**:","Changelly Live Chat":"Changelly Live Chat","Your %blockchain% Address":"Your %blockchain% Address","Vesting":"Vesting","Vesting Balance":"Vesting Balance","Ready to Unfreeze":"Ready to Unfreeze","You will receive your unfrozen coins in a few minutes.":"You will receive your unfrozen coins in a few minutes.","Vesting Schedule":"Vesting Schedule","Loyal User Airdrop":"Loyal User Airdrop","Unfrozen":"Unfrozen","Missed":"Missed","Frozen":"Frozen","until %date%":"until %date%","Until %date%":"Until %date%","%volume% in %amount% parts":"%volume% in %amount% parts","Unfreeze":"Unfreeze","Claim":"Claim","Confirm Unfreezing":"Confirm Unfreezing","Insufficient Balance for Fee":"Insufficient Balance for Fee","$fee_value_bold":"**Fee:** %fee%","%app_name% Features":"%app_name% Features","Security":"Security","To avoid entering the passcode every time, you can use biometrics.":"To avoid entering the passcode every time, you can use biometrics.","Change Passcode":"Change Passcode","Change Password":"Change Password","Confirm Password":"Confirm Password","The passcode will be changed for all your wallets.":"The passcode will be changed for all your wallets.","Password Changed!":"Password Changed!","Passcode Changed!":"Passcode Changed!","New code set successfully":"New code set successfully","Codes don’t match":"Codes don’t match","Enter your new code":"Enter your new code","Re-enter your new code":"Re-enter your new code","Install on Desktop":"Install on Desktop","Install on Mobile":"Install on Mobile","Install App":"Install App","WrongNetwork":"The dapp requested a transaction from another network.","Hide":"Hide","Hidden NFTs":"Hidden NFTs","Hidden By Me":"Hidden By Me","Probably Scam":"Probably Scam","$settings_nft_probably_scam_description":"These NFTs were automatically disabled by Anti-Scam Protection. You can return the necessary ones to Home if you think they were included in this list by mistake.","Unhide":"Unhide","Hide All":"Hide All","Hide NFT":"Hide NFT","Reload Page":"Reload Page","Open in Safari":"Open in Safari","Open in Browser":"Open in browser","CopyURL":"Copy URL","Share":"Share","Unhide NFT":"Unhide NFT","$unhide_nft_warning":"Are you sure you want to unhide %name%? This NFT looks suspicious and may not match its name and description.","Hide NFTs":"Hide NFTs","Are you sure you want to hide this NFT collection containing %number% NFTs?":"Are you sure you want to hide this NFT collection containing %number% NFTs?","Are you sure you want to hide these %number% NFTs?":"Are you sure you want to hide these %number% NFTs?","Show":"Show","Confirm Sending":"Confirm Sending","Confirm Burning":"Confirm Burning","Confirm Passcode":"Confirm Passcode","Enter your code":"Enter your code","$hardware_payload_warning":"**A third-party service is requesting access to your wallet.** This could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.","$hardware_blind_sign_not_enabled":"**A third-party service is requesting access to your wallet.** This could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.\\n\\nTo continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.\\n","$hardware_blind_sign_not_enabled_internal":"To continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.","Switch to W5":"Switch to W5","Not Scam":"Not Scam","Untitled":"Untitled","Multichain":"Multichain","$swap_too_small_amount":"Too small amount","Not enough %symbol%":"Not enough %symbol%","$receive_tron_description":"Scan this QR or share your address to top up your wallet balance.","You have just created a new multichain wallet":"You have just created a new multichain wallet","Now you can transfer tokens from your TON and TRON wallets.":"Now you can transfer tokens from your TON and TRON wallets.","Enter Secret Words":"Enter Secret Words","Turn this off so you can manually download updates and verify signatures.":"Turn this off so you can manually download updates and verify signatures.","InvalidMnemonic":"Your mnemonic words are invalid","NFT Menu":"NFT Menu","Connection Type":"Connection Type","Ledger is not supported on this device":"Ledger is not supported on this device","Connect your Ledger":"Connect your Ledger","$app_lock_description":"When app lock is enabled, a lock icon appears on the card on the main page. Use it to lock %app_name%.","App Lock":"App Lock","Auto-Lock":"Auto-Lock","Disabled":"Disabled","30 seconds":"30 seconds","3 minutes":"3 minutes","10 minutes":"10 minutes","If away for 30 sec":"If away for 30 sec","If away for 3 min":"If away for 3 min","If away for 10 min":"If away for 10 min","Unlock":"Unlock","This address mimics another address that you previously interacted with.":"This address mimics another address that you previously interacted with.","Biometric authentication failed":"Biometric authentication failed","Reset biometrics in security settings, or use a passcode.":"Reset biometrics in security settings, or use a passcode.","Best Rate":"Best Rate","via %dex_name%":"via %dex_name%","$swap_dex_chooser_rate_title":"Analyzed actual rates on **DeDust** and **STON.fi** to use the **best rate**.","You will receive %amount% **more**.":"You will receive %amount% **more**.","You will spend %amount% **less**.":"You will spend %amount% **less**.","Best":"Best","Use Best Rate":"Use Best Rate","Switch to %dex_name%":"Switch to %dex_name%","Built-in DEX Aggregator":"Built-in DEX Aggregator","Add Tokens":"Add Tokens","No tokens yet":"No tokens yet","$no_tokens_description":"Receive tokens from another wallet, or simply enable preferred tokens in the settings for monitoring.","Exchange Rate":"Exchange Rate","Install Card":"Install Card","Reset Card":"Reset Card","Apply Palette":"Install Palette","Reset Palette":"Reset Palette","Notifications & Sounds":"Notifications & Sounds","Sounds":"Sounds","Push Notifications":"Push Notifications","Select up to %count% wallets for notifications":"Select up to %count% wallets for notifications","$swap_aggregator_fee_tooltip":"A built-in **DEX aggregator** finds the **best rate** across available DEXes. Service fee is %percent%.","Accumulated Rewards":"Accumulated Rewards","$swap_reverse_prohibited":"Setting the buy amount is impossible for this pair of tokens","Blockchain Fee Details":"Blockchain Fee Details","Final Fee":"Final Fee","Excess":"Excess","$fee_details":"%full_fee% need to be immediately debited from your wallet to pay the fee. Part of this will be returned **in **%excess_symbol% to you as excess within a few minutes.\\n\\nThis is how %chain_name% Blockchain works.\\n","Got It":"Got It","Wallet":"Wallet","Connected":"Connected","All Dapps":"All Dapps","Trending":"Trending","No Data":"No Data","Toggle fullscreen":"Toggle fullscreen","Request is sent!":"Request is sent!","Transaction ID":"Transaction ID","Help Center":"Help Center","MyTonWallet Tips":"MyTonWallet Tips","$auth_import_24_mnemonic_description":"You can restore access to your wallet by entering the **24 secret words** that you wrote down when creating the wallet.\\n","Open %nft_marketplace%":"Open %nft_marketplace%","Link was copied!":"Link was copied!","Share Link":"Share Link","$dapp_return_details":"%fee_amount% will be immediately debited from your wallet to pay the fee.\\n\\n%received_amount% will be returned to you within a few minutes.\\n","Additional Amount Sent":"Additional Amount Sent","Show Sensitive Data":"Show Sensitive Data","Hide Sensitive Data":"Hide Sensitive Data","Copy Address":"Copy Address","Copy Transaction ID":"Copy Transaction ID","Requesting Unstake":"Requesting Unstake","Requested Unstake":"Requested Unstake","$request_unstake_action":"Request Unstake","Calling Contract":"Calling Contract","Called Contract":"Called Contract","$call_contract_action":"Call Contract","Deploying Contract":"Deploying Contract","Deployed Contract":"Deployed Contract","$deploy_contract_action":"Deploy Contract","Minting":"Minting","Minted":"Minted","$mint_action":"Mint","Burning":"Burning","Burned":"Burned","$burn_action":"Burn","Updating Address":"Updating Address","Updated Address":"Updated Address","$update_address_action":"Update Address","Updating Site":"Updating Site","Updated Site":"Updated Site","$update_site_action":"Update Site","Updating Subdomains":"Updating Subdomains","Updated Subdomains":"Updated Subdomains","$update_subdomains_action":"Update Subdomains","Updating Storage":"Updating Storage","Updated Storage":"Updated Storage","$update_storage_action":"Update Storage","Deleting Domain Record":"Deleting Domain Record","Deleted Domain Record":"Deleted Domain Record","$delete_domain_record_action":"Delete Domain Record","Renewing Domain":"Renewing Domain","Renewed Domain":"Renewed Domain","$renew_domain_action":"Renew Domain","Providing Liquidity":"Providing Liquidity","Provided Liquidity":"Provided Liquidity","$provide_liquidity_action":"Provide Liquidity","Withdrawing Liquidity":"Withdrawing Liquidity","Withdrawn Liquidity":"Withdrawn Liquidity","$withdraw_liquidity_action":"Withdraw Liquidity","Bounced":"Bounced","Bouncing":"Bouncing","$bounce_action":"Bounce","NFT Auction Bid":"NFT Auction Bid","Bidding at NFT Auction":"Bidding at NFT Auction","Buying NFT":"Buying NFT","Bought NFT":"Bought NFT","$buy_nft_action":"Buy NFT","Sold NFT":"Sold NFT","Selling NFT":"Selling NFT","$sell_nft_action":"Sell NFT","Receiving":"Receiving","$receive_action":"Receive","Change Palette":"Change Palette","Palette":"Palette","Unlock New Palettes":"Unlock New Palettes","Get a unique MyTonWallet Card to unlock new palettes.":"Get a unique MyTonWallet Card to unlock new palettes.","Mint Cards":"Mint Cards","Card has been upgraded!":"Card has been upgraded!","$mint_card_result":"NFT Card will be **minted** and **installed automatically** within a minute.","Unique":"Unique","Get a card with unique background and personalized palette for wallet interface.":"Get a card with unique background and personalized palette for wallet interface.","Transferable":"Transferable","Easily send your upgraded card to any of your friends.":"Easily send your upgraded card to any of your friends.","Tradable":"Tradable","Sell or auction your card on third-party NFT marketplaces.":"Sell or auction your card on third-party NFT marketplaces.","Upgrade for %currency% %amount%":"Upgrade for %currency% %amount%","%amount% left":"%amount% left","%amount% sold":"%amount% sold","This card has been sold out":"This card has been sold out","Import Existing Wallet":"Import Existing Wallet","View Any Address":"View Any Address","12/24 Secret Words":"12/24 Secret Words","24 Secret Words":"24 Secret Words","Wallet Address or Domain":"Wallet Address or Domain","$import_view_account_note":"Enter **any address** on TON or TRON network to open it in **View Mode**.","$view_mode":"View","Import Wallet":"Import Wallet","Please top up your TON balance.":"Please top up your TON balance.","Remember Passcode":"Remember Passcode","Remember Password":"Remember Password","Not available with biometrics.":"Not available with biometrics.","App will not ask for signature for %1$d minutes after last entry.":"The app will not ask for a signature for %1$d minutes after the last entry.","Remember for %1$d minutes":"Remember for %1$d minutes","Preview":"Preview","$preview_not_guaranteed":"Preview result **is not guaranteed **and **can be forged **by the service.","Unverified Source":"Unverified Source","$reopen_in_iab":"For your safety, please re-open this dapp in %browserButton%.","MyTonWallet Browser":"MyTonWallet Browser","Exit all wallets":"Exit all wallets","Can\'t confirm?":"Can\'t confirm?","$safe_staking_ethena_description1":"Staking is fully decentralized and operated by **Ethena’s official** audited liquid staking **smart contracts**.","$safe_staking_ethena_description2":"The deposited USDe stake is used in Ethena’s **trading and investment strategies** to yield rewards automatically and transparently.","$safe_staking_ethena_description3":"You can **withdraw** your stake with rewards at any time, and it will be returned to your account **in 7 days**, according to Ethena’s standard withdrawal period.","Unstake %amount%":"Unstake %amount%","Request Unstaking":"Request Unstaking","$unstaking_when_receive_ethena":"You will be able to receive your unstaked deposit in **7 days**.","Coins have been unstaked!":"Coins have been unstaked!","Confirm Upgrading":"Confirm Upgrading","How does it work?":"How does it work?","Multisend":"Multisend","Renew All":"Renew All","Renew":"Renew","Renew Domain":"Renew Domain","Renew Domains":"Renew Domains","Some domains are about to expire":"Some domains are about to expire","$domain_expire":"**%domain%** expires %days%","%token% Staking":"%token% Staking","Add Tab":"Add Tab","Remove Tab":"Remove Tab","$domains_amount %1$d":{"zeroValue":"No domains","oneValue":"%1$d domain","otherValue":"%1$d domains"},"Stake":"Stake","Manage Tokens":"Manage Tokens","Claim Rewards":"Claim Rewards","Configure DNS":"Configure DNS","Link to Wallet":"Link to Wallet","Change Wallet":"Change Wallet","Change Linked Wallet":"Change Linked Wallet","Domain has been renewed!":"Domain has been renewed!","Domains have been renewed!":"Domains have been renewed!","Linked Wallet":"Linked Wallet","Domain has been linked!":"Domain has been linked!","Link":"Link","Confirm Renewing":"Confirm Renewing","Confirm Linking":"Confirm Linking","$domains_expire":{"zeroValue":"No domains expires %days%","oneValue":"**%domain% domain** expires %days%","otherValue":"**%domain% domains** expire %days%"},"$in_days":{"zeroValue":"today","oneValue":"tomorrow","otherValue":"in %1$d days"},"$domain_was_expired":"**%domain%** is expired","$domains_was_expired":{"zeroValue":"No domains is expired","oneValue":"**%domain% domain** is expired","otherValue":"**%domain% domains** are expired"},"Reload":"Reload","Copy Link":"Copy Link","Check eligibility for max APY":"Check eligibility for max APY","Check eligibility":"Check eligibility","$expired_many":"Expired","$expires_in %days%":"Expires %days%","Message":"Message","Binary Data":"Binary Data","The binary data content is unclear. Sign it only if you trust the service.":"The binary data content is unclear. Sign it only if you trust the service.","Cell Schema":"Cell Schema","Cell Data":"Cell Data","Sign Data":"Sign Data","Please confirm signature on your Ledger":"Please confirm signature on your Ledger","Utilities":"Utilities","Games":"Games","Entertainment":"Entertainment","Toggle to landscape layout":"Toggle to landscape layout","Toggle to portrait layout":"Toggle to portrait layout","Attributes":"Attributes","Show All":"Show All","Description":"Description","No additional data.":"No additional data.","Domain was copied!":"Domain was copied!","$in_currency":"in %currency%","Rename Wallet":"Rename Wallet","You can rename this wallet for easier identification.":"You can rename this wallet for easier identification.","$storage_cleared_title":"Application Storage Cleared","$storage_cleared_message":"Your wallet data has been cleared due to browser-related or disk space issues. Please log out from all wallets and then re-import them manually using your secret words.\\n\\nIf you need assistance, please contact %support_link%.\\n","Telegram Gifts":"Telegram Gifts","Collectibles":"Collectibles","Bluetooth unavailable":"Bluetooth unavailable","$bluetooth_enable_guide":"Turn on Bluetooth in the device settings and allow the app to access Bluetooth.","Another transaction was sent from this wallet simultaneously. Please try again.":"Another transaction was sent from this wallet simultaneously. Please try again.","Canceled by the user":"Canceled by the user","The proof for signing provided by the Dapp is too large":"The proof for signing provided by the Dapp is too large","$domain_like_scam_warning":"The entered address is likely a **SCAM**. This is **NOT** an address of any exchange or your token wallet.\\n\\nThis is a long **domain** that **scammers** use to convince people they are sending tokens to a known address.\\n\\n**Cancel** this transfer and **never** trust strangers. Learn more about this and other scams in our %help_center_link%.\\n","Allow Suspicious Actions":"Allow Suspicious Actions","$allow_suspicious_actions_description":"Allow sending to suspicious addresses and interacting with potentially unsafe contracts.","Multisig Wallet Detected":"Multisig Wallet Detected","$multisig_warning_text":"This wallet requires multiple signatures to make transfers. You **cannot withdraw** any funds here using MyTonWallet. Make sure it’s yours — otherwise, it may be part of a scam. %multisig_warning_link%","$multisig_warning_link":"Tap to learn more","Multisig sending disabled":"Multisig sending disabled","$try_new_air_version":"Try the native app experience — lighter, faster, and built for your device. You can switch back anytime."}'),sr=self.caches;async function cr(e){try{if(!sr)return;return await sr.delete(e)}catch(e){return void console.warn(e)}}const lr=new Set(Object.values(e.yR2).map((e=>e.shortSymbol)).filter(Boolean)),dr=(0,et.A)((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2?arguments[2]:void 0,o=new Ft.z(t);if(o.eq(0))return"0";const r=o.lt(0);r&&(o=o.neg());const i=o.lt(1)?"toPrecision":"round";let s=o[i](n,a?Ft.z.roundHalfUp:Ft.z.roundDown).toString().replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"");return s=function(t){const[n,a=""]=t.split(".");return[n.replace(/\B(?=(\d{3})+(?!\d))/g,`$&${e.MS3}`),a].filter(Boolean).join(".")}(s),r&&(s=`-${s}`),s}));function ur(e,t,n,a){return fr(dr(e,n,a),t)}function mr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const r=Number(e),i=n?"":(0===r?o:r<0)?"− ":"+ ";return e=e.toString(),i+ur(n?e:e.replace(/^-/,""),t,a)}function pr(e,t,n){return"string"!=typeof e&&(e=(0,Pt.nI)(e,n)),fr(e,t)}function fr(e,t){return lr.has(t)?`${t}${e}`.replace(`${t}-`,`-${t}`):`${e} ${t}`}function hr(t){return t||(t=e.wOb),e.yR2[t].shortSymbol??t}function gr(e,t,n){return ur((0,Ft.z)((0,Pt.nI)((0,ua.wg)(e),n.decimals,!0)).mul(n.price),hr(t))}const vr=ir,{addCallback:wr,removeCallback:yr,runCallbacks:br}=v(),Er=/%\d?\$?[sdf@]/g,kr=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],Cr={de:e=>0===e?1:1!==e?6:2,en:e=>0===e?1:1!==e?6:2,es:e=>0===e?1:1!==e?6:2,pl:e=>0===e?1:1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,ru:e=>0===e?1:e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,th:e=>0===e?1:6,tr:e=>0===e?1:e>1?6:2,uk:e=>0===e?1:e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"zh-Hans":e=>0===e?1:6,"zh-Hant":e=>0===e?1:6},Nr=new Map;let Sr,Ar;function Tr(){return(e,t,a,o)=>{var r;if(void 0!==t&&("object"!=typeof t||Array.isArray(t))){const n=Array.isArray(t)?JSON.stringify(t):t,r=Nr.get(`${e}_${n}_${a}${o?`_${o}`:""}`);if(r)return r}return Sr||vr?function(e,t,a,o,r){const i="number"==typeof a||void 0!==r?function(e){const t=Ar||n.vj,a=Cr[t]?Cr[t](e):0;return kr[a]}(r??a):"value",s="string"==typeof e?e:"value"===i?"object"==typeof e?e.value:e:"object"==typeof e?(null==e?void 0:e[i])||e.otherValue:void 0;if(!s||!s.trim()||void 0===a)return s;const c="i"===o?dr(a):a,l="object"!=typeof a||Array.isArray(a)?function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(Er),a=n.shift();return n.reduce(((e,n,a)=>`${e}${String(t[a]??"")}${n}`),a||"")}(s,c):function(e,t){let n=e;Object.entries(t).forEach((e=>{let[t,a]=e;var o;"string"!=typeof a&&"number"!=typeof a||(n=n.replace(new RegExp(`%${o=t,o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}%`,"g"),String(a)))}));if(!Object.values(t).some((e=>"string"!=typeof e&&"number"!=typeof e)))return rr(n);const a=n.split(/%(\w+)%/),o=[];for(let e=0;e<a.length;e++)if(e%2==0)a[e]&&o.push(...rr(a[e]));else{const n=t[a[e]];void 0!==n&&o.push(n)}return o}(s,c);if("object"!=typeof a&&"string"==typeof l){const e=Array.isArray(a)?JSON.stringify(a):a;Nr.set(`${t}_${e}_${o}${r?`_${r}`:""}`,l)}return l}((null===(r=Sr)||void 0===r?void 0:r[e])||(null==vr?void 0:vr[e])||e,e,t,a,o):e}}let Ir=Tr();async function Br(t,a){if(Sr&&t===Ar)return void(a&&a());let o=await async function(t,n){if(sr)try{const a=e.jht?`${e.uyj}/${n.replace(/:/g,"_")}`:new Request(n.replace(/:/g,"_")),o=await sr.open(t),r=await o.match(a);if(!r)return;return await r.json()}catch(e){return void console.warn(e)}}(e.CV,t);if(!o&&(o=await async function(t){if(t===n.vj)return vr;const a=await fetch(`${e.jht?".":".."}/i18n/${t}.json`);if(!a.ok){const e=`An error has occured: ${a.status}`;throw new Error(e)}const o=await a.json();return o?(await async function(t,n,a){if(sr)try{const o="string"==typeof a||a instanceof Blob||a instanceof ArrayBuffer?a:JSON.stringify(a),r=e.jht?`${e.uyj}/${n.replace(/:/g,"_")}`:new Request(n.replace(/:/g,"_")),i=new Response(o);if(r instanceof Request&&0===r.url.indexOf("chrome-extension"))return;const s=await sr.open(t);return await s.put(r,i)}catch(e){return void console.warn(e)}}(e.CV,t,o),o):void 0}(t),!o))return;Nr.clear(),Ar=t,Sr=o,document.documentElement.lang=t;const r=null===e.gSB||void 0===e.gSB?void 0:e.gSB.find((e=>e.langCode===t));Ir=Tr(),Ir.isRtl=Boolean(null==r?void 0:r.rtl),Ir.code=t.replace("-raw",""),Ir.langName=null==r?void 0:r.nativeName,a&&a(),br()}const _r=()=>{const e=ve();return ye((()=>wr(e))),Ir};function xr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var Dr=i(75357);const Lr=(e,t,n)=>Math.min(n,Math.max(t,e)),Or=(e,t,n)=>e>=t&&e<=n,Mr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(e*10**t)/10**t};let Pr=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});function Fr(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function Rr(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let Ur=0;const Wr=new class{constructor(){let{stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:a=150}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=a,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),a=t.slice(this.stability,2*this.stability),o=n.reduce(((e,t)=>e+t)),r=a.reduce(((e,t)=>e+t)),i=o/n.length,s=r/a.length;return Math.abs(i)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)}}({stability:5,sensitivity:25,tolerance:n.H8?1:.6,delay:150});function Hr(e,t){let a,o=!1,r=!1,i=!1,s=0,c=t.initialZoom??1,d={x:0,y:0},u={x:!1,y:!1};const m=qa();let p,f={x:m.width/2,y:m.height/2};const h=t.minZoom??1,g=t.maxZoom??4;function v(n){var o;const r=n.target,{excludedClosestSelector:i,includedClosestSelector:c,withNativeDrag:l,withCursor:d,onDrag:u}=t;(e===r||e.contains(r))&&"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&(i&&(r.matches(i)||r.closest(i))||c&&!r.matches(c)&&!r.closest(c)||(a=n,"mousedown"===n.type?(!l&&u&&n.preventDefault(),document.addEventListener("mousemove",y),document.addEventListener("mouseup",w)):"touchstart"===n.type&&(r.addEventListener("touchmove",y,{passive:!0}),r.addEventListener("touchend",w,{passive:!0}),r.addEventListener("touchcancel",w,{passive:!0}),"touches"in n&&(void 0===n.pageX&&(n.pageX=n.touches[0].pageX),void 0===n.pageY&&(n.pageY=n.touches[0].pageY),2===n.touches.length&&(s=Fr(n.touches[0],n.touches[1]),f=Rr(n.touches[0],n.touches[1])))),d&&document.body.classList.add("cursor-grabbing"),null===(o=t.onCapture)||void 0===o||o.call(t,n)))}function w(e){if(a){if(t.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",y),a.target.removeEventListener("touchcancel",w),a.target.removeEventListener("touchend",w),a.target.removeEventListener("touchmove",y),n.pz&&t.selectorToPreventScroll){const e=Array.from(document.querySelectorAll(t.selectorToPreventScroll));(0,Dr.dL)((()=>{e.forEach((e=>{e.style.overflow=""}))}),e)}e&&(o?t.onRelease&&t.onRelease(e):"mouseup"===e.type&&(t.onDoubleClick&&Date.now()-Ur<300?t.onDoubleClick(e,{centerX:a.pageX,centerY:a.pageY}):!t.onClick||"button"in e&&0!==e.button||t.onClick(e),Ur=Date.now()))}o=!1,r=!1,i=!1,s=0,c=Lr(c,h,g),p=void 0,d={x:0,y:0},u={x:!1,y:!1};const l=qa();f={x:l.width/2,y:l.height/2},a=void 0}function y(e){if(a){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),t.onZoom&&s>0&&2===e.touches.length)){const n=Fr(e.touches[0],e.touches[1]),a=Rr(e.touches[0],e.touches[1]),r=a.x-f.x,i=a.y-f.y,c=n/s;t.onZoom(e,{zoomFactor:c,initialCenterX:f.x,initialCenterY:f.y,dragOffsetX:r,dragOffsetY:i,currentCenterX:a.x,currentCenterY:a.y}),1!==c&&(o=!0)}const i=e.pageX-a.pageX,c=e.pageY-a.pageY;(Math.abs(i)>=15||Math.abs(c)>=15)&&(o=!0);let l=!1;if(t.onDrag&&(t.onDrag(e,a,{dragOffsetX:i,dragOffsetY:c}),l=!0),t.onSwipe&&!r&&(r=function(e,a,o){if(n.pz){const t="touches"in e?e.touches[0].pageX:e.pageX;if(t<=20||t>=qa().width-20)return!1}const r=Math.abs(a),i=Math.abs(o),s=t.swipeThreshold??20;let c;if(r>i&&r>=s?c="x":i>r&&i>=s&&(c="y"),!c)return!1;if(p){if(p!==c)return!1}else p=c;return function(e,t,n,a,o){const r={dragOffsetX:n,dragOffsetY:a};return"x"===t?o(e,n<0?Pr.Left:Pr.Right,r):"y"===t&&o(e,a<0?Pr.Up:Pr.Down,r)}(e,c,a,o,t.onSwipe)}(e,i,c),l=r),n.pz&&l&&t.selectorToPreventScroll){const e=Array.from(document.querySelectorAll(t.selectorToPreventScroll));(0,Dr.dL)((()=>{e.forEach((e=>{e.style.overflow="hidden"}))}),e)}}}const b=(0,l.sg)(w,150,!1),E=(0,l.sg)(w,150,!1);function k(e){o||(v(e),o=!0,f={x:e.x,y:e.y})}function C(e){if(!t.onZoom&&!t.onDrag)return;if(t.excludedClosestSelector&&(e.target.matches(t.excludedClosestSelector)||e.target.closest(t.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:n=3}=t;if(t.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return k(e),c=c>1?1:n,t.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(o=!1);const r=e.metaKey||e.ctrlKey||e.shiftKey;if(r&&function(e){if(!t.onZoom)return;k(e);const n=e.x-f.x,a=e.y-f.y,o=Lr(e.deltaY,-25,25);c-=.01*o,c=Lr(c,.5*h,3*g),i=!0,t.onZoom(e,{zoom:Mr(c,2),initialCenterX:f.x,initialCenterY:f.y,dragOffsetX:n,dragOffsetY:a,currentCenterX:e.x,currentCenterY:e.y}),E(e)}(e),!r&&!i){const n=Wr.check(e);(1!==c||n)&&function(e){if(!t.onDrag)return;k(e),u.x&&Math.sign(d.x)!==Math.sign(e.deltaX)||(d.x-=e.deltaX),u.y&&Math.sign(d.y)!==Math.sign(e.deltaY)||(d.y-=e.deltaY);const{x:n,y:o}=d;t.onDrag(e,a,{dragOffsetX:n,dragOffsetY:o},((e,t)=>{u={x:e,y:t}})),b(e)}(e)}}return t.withWheelDrag&&e.addEventListener("wheel",C),e.addEventListener("mousedown",v),document.body.addEventListener("touchstart",v,{passive:!t.isNotPassive}),()=>{w(),document.body.removeEventListener("touchstart",v),e.removeEventListener("mousedown",v),e.removeEventListener("wheel",C)}}const $r={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},Vr={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function zr(e){return Kr()||document.addEventListener("keydown",qr,!0),Object.keys(e).forEach((t=>{const n=e[t];if(!n)return;const a=Vr[t];a&&a.push(n)})),()=>{!function(e){Object.keys(e).forEach((t=>{const n=e[t],a=Vr[t];if(a){const e=a.findIndex((e=>"function"==typeof e?e===n:n&&"handler"in n&&e.handler===n.handler));-1!==e&&a.splice(e,1)}})),Kr()||document.removeEventListener("keydown",qr,!1)}(e)}}function Kr(){return Object.values(Vr).some((e=>Boolean(e.length)))}function qr(e){const t=$r[e.key];if(!t)return;const{length:n}=Vr[t];if(!n)return;const a=Vr[t][n-1];if("function"==typeof a)a(e),e.stopPropagation();else{const{handler:t,noStopPropagation:n,shouldPreventDefault:o}=a;n||e.stopPropagation(),o&&e.preventDefault(),t(e)}}let jr=0;function Yr(){jr+=1}function Gr(){jr-=1}function Qr(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const n=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!n.length)return;const a=n.findIndex((e=>e.isSameNode(document.activeElement)));let o=0;a>=0&&(o=t.shiftKey?a>0?a-1:n.length-1:a<n.length-1?a+1:0),n[o].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}function Xr(e){return/^#[0-9A-F]{6}$/i.test(e)?e:`#${e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map(((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN",""))).join("")}`}var Jr,Zr;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(Jr||(Jr={})),function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"}(Zr||(Zr={}));const ei=(0,Oa.F3)("StatusBar");var ti;!function(e){e.SHOW="onShow",e.HIDE="onHide",e.COLOR_CHANGE="onColorChange"}(ti||(ti={}));const ni=(0,Oa.F3)("NavigationBar",{web:()=>i.e(884).then(i.bind(i,15884)).then((e=>new e.NavigationBarWeb))}),ai=window.matchMedia("(prefers-color-scheme: dark)");let oi,ri;function ii(e,t){oi=e,si(),li({isInModal:t}),(0,k.YS)((()=>{var e;const t=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content",t)}))}function si(){var t;const n="dark"===oi||"system"===oi&&(e.tKX?"dark"===(null===(t=ro())||void 0===t?void 0:t.colorScheme):ai.matches);document.documentElement.classList.toggle("theme-dark",n)}function ci(){si(),li()}function li(t){e.tKX?(0,k.YS)((()=>{var e,t,n;const a=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");if(!a)return;const o=Xr(a);null===(e=ro())||void 0===e||e.setHeaderColor(o),null===(t=ro())||void 0===t||t.setBackgroundColor(o),null===(n=ro())||void 0===n||n.setBottomBarColor(o)})):e.UMQ&&(void 0!==(null==t?void 0:t.forceDarkBackground)&&(ri=t.forceDarkBackground),function(e,t,a,o){const r=a||"dark"===e||t&&"system"===e?Jr.Dark:Jr.Light;ei.setStyle({style:r,isModalOpen:o}),n.xy&&ni.setColor({color:"#00000000",darkButtons:"light"===e||!t&&"system"===e})}(oi,ai.matches,ri,null==t?void 0:t.isInModal))}function di(){"system"===Ve().settings.theme&&ci()}ai.addEventListener("change",ci),e.tKX&&io().then((e=>{e.onEvent("themeChanged",di)}));const ui=new Map,mi=e=>{const t=matchMedia(e),n=new Set,a=()=>{n.forEach((e=>e(t.matches)))};return t.addEventListener?t.addEventListener("change",a,{passive:!0}):t.addListener(a),{mql:t,dispatchers:n,listener:a}};function pi(e,t){const[n,a]=ie(function(){if((null==t?void 0:t.initializeWithValue)??1){let t=ui.get(e);return t||(t=mi(e),ui.set(e,t)),t.mql.matches}}());return ce((()=>(((e,t)=>{let n=ui.get(e);n||(n=mi(e),ui.set(e,n)),n.dispatchers.add(t),t(n.mql.matches)})(e,a),()=>((e,t)=>{const n=ui.get(e);if(!n)return;const{mql:a,dispatchers:o,listener:r}=n;o.delete(t),o.size||(ui.delete(e),a.removeEventListener?a.removeEventListener("change",r):a.removeListener(r))})(e,a))),[e]),n}let fi;function hi(){fi=pi(`(max-width: ${e.c2m-.02}px)`);const t=pi("(max-height: 43.5rem)");return{isPortrait:Boolean(fi),isSmallHeight:t,isLandscape:!fi,screenHeight:window.screen.height}}function gi(){return fi}const vi=(e,t,n)=>{const a=me();return ce((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)},wi=new Map,yi=new Set(["color","date","datetime-local","email","month","number","password","search","tel","text","time","url","week"]);let bi;const Ei=Bo.getSafeAreaInsets().then((e=>{let{insets:t}=e;return bi=t,bi}));let ki,Ci;function Ni(e,t){ce((()=>{if(n.bA)return wi.set(e,t),ki===e&&t(),()=>{wi.get(e)===t&&wi.delete(e)}}),[e,t])}function Si(e){return!!(e&&e instanceof HTMLElement)&&("INPUT"===e.tagName&&yi.has(e.type)||"TEXTAREA"===e.tagName||"DIV"===e.tagName&&e.isContentEditable)}n.bA&&(xo.addListener("delegate",(e=>{var t;let{key:n,globalJson:a}=e;ki=n,null===(t=wi.get(n))||void 0===t||t(),ze(JSON.parse(a,ua.bk),{forceOutdated:!0,forceSyncOnIOs:!0})})),xo.addListener("move",(()=>{window.dispatchEvent(new Event("viewportmove"))})));const Ai=new Map;n.KI&&(xo.prepare(),xo.addListener("openInMain",(e=>{var t;let{key:n}=e;null===(t=Ai.get(n))||void 0===t||t()})));let Ti,Ii=Promise.resolve();const Bi=(0,l.sg)((e=>e()),300,!1),_i=[];let xi=!1,Di=0;function Li(){const e=ro().BackButton;_i.length>0&&!xi?(e.show(),e.onClick(Oi),xi=!0):!_i.length&&xi&&(e.hide(),e.offClick(Oi),xi=!1)}function Oi(){if(_i.length>0){const e=_i.pop();try{e.callback()}catch(e){(0,t.SJ)("[handleBackButtonClick]",e)}}Bi(Li)}const Mi=`${window.location.pathname}${window.location.search}`,Pi=Number(new Date);let Fi,Ri,Ui=!1,Wi=[],Hi=[];function $i(){const e=Wi.filter((e=>"go"===e.type)),t=Wi.filter((e=>"go"!==e.type)),n=e.reduce(((e,t)=>e+t.delta),0);Wi=[],n&&(window.history.go(n),t.length)?Hi.push(...t):Vi(t)}function Vi(e){e.forEach((e=>window.history[e.type](e.data,"")))}function zi(e){Wi.length||(0,k.YS)($i),Wi.push(e)}function Ki(){Ri=0,Fi=[{index:0,onBack:()=>window.history.back()}],n.Fe||window.history.replaceState({index:0,historyUniqueSessionId:Pi},"",Mi)}function qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t=Ri-1;t>0&&Fi[t].isClosed;t--)e++;return e&&(Ui=!0,zi({type:"go",delta:-e})),e}function ji(){for(let n=Fi.length-1;n>0;n--){var e,t;Fi[n].isClosed||null===(e=(t=Fi[n]).onBack)||void 0===e||e.call(t)}Ki()}function Yi(t){let{isActive:a,shouldBeReplaced:o,shouldIgnoreForTelegram:r,onBack:i}=t;const s=zo(i),c=me(),l=me(),d=me(!1),u=me(!0),m=ue((function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]||Fi[Ri].shouldBeReplaced;c.current=e?Ri:++Ri,Ri=c.current;const t=Fi[c.current];var n;t&&!t.isClosed&&(null===(n=t.markReplaced)||void 0===n||n.call(t)),Fi[c.current]={index:c.current,onBack:s,shouldBeReplaced:o,markReplaced:()=>{d.current=!0}},zi({type:e?"replaceState":"pushState",data:{index:c.current,historyUniqueSessionId:Pi}})}),[s,o]),p=ue((()=>{c.current&&Fi[c.current]&&!d.current&&(Fi[c.current].isClosed=!0,d.current=!0,c.current!==Ri||o||(Ri-=qi()))}),[o]);ye((()=>{if(!n.pz)return u.current=!1,()=>{a&&!d.current&&p()}})),Ee((e=>{let[t]=e;n.pz||t!==a&&(u.current&&!a||(a?m():p()))}),[a,p,m]),ce((()=>{if(e.tKX&&!r&&a)return l.current=function(e){const t=(Di+=1,Di);return _i.push({id:t,callback:e}),Bi(Li),t}(s),()=>{void 0!==l.current&&(function(e){const t=_i.findIndex((t=>t.id===e));-1!==t&&(_i.splice(t,1),Bi(Li))}(l.current),l.current=void 0)}}),[a,r,i])}e.W75&&(window.TEST_getHistoryState=()=>Fi,window.TEST_getHistoryCursor=()=>Ri),Ki(),window.addEventListener("popstate",(e=>{let{state:t}=e;if(Ui)return Ui=!1,void(Hi.length&&(Vi(Hi),Hi=[]));if(!t)return void ji();const{index:n,historyUniqueSessionId:a}=t;if(a===Pi){if(n!==Ri)if(n<Ri){let e=0;for(let t=Ri;t>n-e;t--){var o,r;Fi[t].isClosed?e++:null===(o=(r=Fi[t]).onBack)||void 0===o||o.call(r)}const t=qi(e);Ri+=n-Ri-t,Ri<0&&(Ri=0)}else n>Ri&&(Ui=!0,zi({type:"go",delta:-(n-Ri)}))}else ji()}));const Gi=new Set(["scroll","mouseenter","mouseleave","load","error"]),Qi={},Xi={},Ji=new Map;function Zi(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function es(e,t,n){return!n&&!Gi.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function ts(e,t){Qi[e]--,Qi[e]||document.removeEventListener(e,ns),Xi[e].delete(t),Ji.get(t).delete(e)}function ns(e){const t=Xi[e.type];if(t){let n=!1,a=e.target;const o=()=>{n=!0},r=()=>{e.preventDefault()},i=new Proxy(e,{get:(e,t)=>"currentTarget"===t?a:"stopPropagation"===t||"stopImmediatePropagation"===t?o:"preventDefault"===t?r:Reflect.get(e,t)});for(;a&&a!==document.body;){const e=t.get(a);if(e&&(e(i),n))return;a=a.parentNode}}}e.Oig&&document.addEventListener("dblclick",(()=>{const e=Object.keys(Qi).length,t=Object.values(Qi).reduce(((e,t)=>e+t),0),n=Object.keys(Xi).length,a=Object.values(Xi).reduce(((e,t)=>e+t.size),0),o=Ji.size,r=Array.from(Ji.values()).reduce(((e,t)=>e+t.size),0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:a,delegatedEventTypesCount:r,delegationRegistriesCount:n,delegationElementsCount:o,documentListenersCount:e})}));const as="http://www.w3.org/2000/svg",os=new Set(["key","ref","teactFastList","teactOrderKey"]),rs=new Set(["dir","role","form"]),is=["INPUT","TEXTAREA","SELECT"],ss={autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoPlay:"autoplay",spellCheck:"spellcheck"},cs="__indexKey#",ls="__teactSelectionState",ds=new WeakMap,us=new WeakMap,ms=new WeakMap;function ps(t,n,a,o,r,i){var s,c,l;let d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};const{skipComponentUpdate:u,fragment:m}=d;let{nextSibling:p,namespace:f}=d;const h=(null==n?void 0:n.type)===D.Component,g=(null===(s=a)||void 0===s?void 0:s.type)===D.Component,v=a,w=!h&&(null==n?void 0:n.type)===D.Fragment,y=!g&&(null===(c=a)||void 0===c?void 0:c.type)===D.Fragment;if((null===(l=a)||void 0===l?void 0:l.type)===D.Tag&&("svg"===a.tag&&(f=as),a.props.xmlns&&(f=a.props.xmlns)),!u&&h&&g&&!ae(n,a)&&(a=function(e,t){return e.componentInstance.props=t.componentInstance.props,ne(e.componentInstance)}(n,a)),!u&&g&&a.componentInstance.mountState===L.Mounted&&hs(t,a,o,r,i),n===a)return a;if(e.Oig&&a){const e="target"in a&&a.target;if(e&&(!n||"target"in n&&e!==n.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!n&&a)if(g||y)g&&(r=(a=fs(t,a,o,r,i)).componentInstance.context??r),gs(t,a,r,{nextSibling:p,fragment:m,namespace:f});else if(m||p||v.type!==D.Text||1!==o.children.length||t.firstChild){const e=vs(v,r,f);v.target=e,bs(m||t,e,p),v.type===D.Tag&&Ns(v,e)}else t.textContent=v.value,v.target=t.firstChild;else if(n&&!a)ws(t,n,r,void 0);else if(n&&a)if(ae(n,a))if(p||(p=Es(n)),g||y)g&&(r=(a=fs(t,a,o,r,i)).componentInstance.context??r),ws(t,n,r,void 0),gs(t,a,r,{nextSibling:p,fragment:m,namespace:f});else{const e=vs(v,r,f);v.target=e,ws(t,n,r,e,p),v.type===D.Tag&&Ns(v,e)}else if(h&&g||w&&y)ks(n,a,r,t,p,d.forceMoveToEnd);else{const e=n,o=e.target;if(v.target=o,e.target=void 0,n.type===D.Tag){const e=a;Ns(n,void 0),Ns(e,o),(p||d.forceMoveToEnd)&&bs(t,o,p),function(e,t,n,a){Ss(n.tagName,t.props);const o=Object.entries(e.props),r=Object.entries(t.props);for(const[e,a]of o){const o=t.props[e];void 0!==a&&(void 0===o||a!==o&&e.startsWith("on"))&&Ts(n,e,a)}for(const[t,o]of r){const r=e.props[t];void 0!==o&&o!==r&&As(n,t,o,a)}}(n,e,o,f),ks(n,e,r,o,void 0,void 0,f)}}return a}function fs(e,t,n,a,o){const{componentInstance:r}=t;return t.componentInstance.context=a,r.mountState===L.Unmounted&&(t=function(e){return e.id=++F,e.mountState=L.Mounting,ne(e),e.mountState=L.Mounted,e.$element}(r),hs(e,t,n,a,o)),t}function hs(e,t,n,a,o){const{componentInstance:r}=t;r.onUpdate=()=>{n.children[o]=ps(e,n.children[o],r.$element,n,a,o,{skipComponentUpdate:!0})}}function gs(e,t,n,a){const{children:o}=t;if(t.type===D.Fragment&&0===o.length){const n=t;return n.placeholderTarget=document.createComment("empty-fragment"),void bs(a.fragment||e,n.placeholderTarget,a.nextSibling)}for(let r=0,i=o.length;r<i;r++){const i=o[r],s=ps(e,void 0,i,t,n,r,a);s!==i&&(o[r]=s)}}function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"http://www.w3.org/1999/xhtml";if(e.type===D.Empty)return document.createTextNode("");if(e.type===D.Text)return document.createTextNode(e.value);const{tag:a,props:o,children:r}=e,i=document.createElementNS(n,a);Ss(a,o);for(const e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&As(i,e,o[e],n);!function(e,t){is.includes(e.tagName)&&(t.defaultValue&&As(e,"value",t.defaultValue),t.defaultChecked&&As(e,"checked",t.defaultChecked))}(i,o);for(let a=0,o=r.length;a<o;a++){const o=r[a],s=ps(i,void 0,o,e,t,a,{namespace:n});s!==o&&(r[a]=s)}return i}function ws(e,t,n,a,o){const r=t.type===D.Component,i=!r&&t.type===D.Fragment;r||i?(r&&oe(t.componentInstance),function(e,t,n){for(const a of t.children)ps(e,a,void 0,t,n,-1)}(e,t,n),a&&bs(e,a,o)):(a?e.replaceChild(a,t.target):e.removeChild(t.target),ys(t))}function ys(e){if(e.type===D.Component)oe(e.componentInstance);else if(e.type===D.Fragment){const n=e;var t;n.placeholderTarget&&0===n.children.length&&(null===(t=n.placeholderTarget.parentNode)||void 0===t||t.removeChild(n.placeholderTarget),n.placeholderTarget=void 0)}else if(e.type===D.Tag&&(us.delete(e.target),Ns(e,void 0),function(e){const t=Ji.get(e);t&&(t.forEach((t=>ts(t,e))),Ji.delete(e))}(e.target)),e.target=void 0,e.type!==D.Tag)return;for(const t of e.children)ys(t)}function bs(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function Es(e){if(e.type===D.Component||e.type===D.Fragment){if(0===e.children.length){const t=e;return t.placeholderTarget&&t.placeholderTarget.nextSibling||void 0}return Es(e.children[e.children.length-1])}return e.target.nextSibling||void 0}function ks(t,n,a,o,r){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0;if(e.Oig&&function(e){const t=e[0];if(t&&"props"in t&&void 0!==t.props.key){const t=e.reduce(((e,t)=>("props"in t&&t.props.key&&e.push(t.props.key),e)),[]);if(t.length!==(0,c.Am)(t).length)throw console.warn("[Teact] Duplicated keys:",t.filter(((e,t,n)=>n.indexOf(e)!==t)),e),new Error("[Teact] Children keys are not unique")}}(n.children),"props"in n&&n.props.teactFastList)return void function(t,n,a,o){const r=t.children,i=n.children,s=new Set;for(const t of i){const n="props"in t?t.props.key:void 0;if(e.Oig&&R(t)&&(null==n&&console.warn("Missing `key` in `teactFastList`"),t.type===D.Fragment))throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");s.add(n)}let c=0;const l={};for(let e=0,t=r.length;e<t;e++){const t=r[e];let d="props"in t?t.props.key:void 0;const u=null!=d;if(!u||s.has(d)){if(!u){const r=i[e],s=r&&"props"in r?r.props.key:void 0;if(!r||s){ps(o,t,void 0,n,a,-1);continue}d=`${cs}${e}`}l[d]={$element:t,index:c++,orderKey:"props"in t?t.props.teactOrderKey:void 0}}else ps(o,t,void 0,n,a,-1)}let d,u,m=0;for(let e=0,t=i.length;e<t;e++){const t=i[e],r=l["props"in t?t.props.key:`${cs}${e}`];if(!r){void 0===u&&(d=e,u=0),u++;continue}u&&(Cs(d,u,o,n,a),u=void 0,d=void 0);const s="props"in t?t.props.teactOrderKey:void 0,c=r.index!==m&&(!s||r.orderKey!==s),p=c&&m>r.index;c&&!p||m++;const f=o.childNodes[p?e+1:e],h=c?f?{nextSibling:f}:{forceMoveToEnd:!0}:void 0,g=ps(o,r.$element,t,n,a,e,h);g!==t&&(i[e]=g)}u&&Cs(d,u,o,n,a)}(t,n,a,o);if(t.type===D.Fragment&&n.type===D.Fragment){const e=t,a=n;var l;if(0===e.children.length&&a.children.length>0&&e.placeholderTarget&&(r=e.placeholderTarget.nextSibling||void 0,null===(l=e.placeholderTarget.parentNode)||void 0===l||l.removeChild(e.placeholderTarget),e.placeholderTarget=void 0),e.children.length>0&&0===a.children.length){const t=Es(e.children[e.children.length-1]);a.placeholderTarget=document.createComment("empty-fragment"),bs(o,a.placeholderTarget,t)}}const d=t.children,u=n.children,m=d.length,p=u.length,f=Math.max(m,p),h=p>m?document.createDocumentFragment():void 0,g=t.children[m-1],v=h&&(r||(g?Es(g):void 0));for(let e=0;e<f;e++){const t=ps(o,d[e],u[e],n,a,e,e>=m?{fragment:h,namespace:s}:{nextSibling:r,forceMoveToEnd:i,namespace:s});t&&t!==u[e]&&(u[e]=t)}h&&bs(o,h,v)}function Cs(e,t,n,a,o){const r=n.childNodes[e];if(1===t){const t=a.children[e],i=ps(n,void 0,t,a,o,e,{nextSibling:r});return void(i!==t&&(a.children[e]=i))}const i=document.createDocumentFragment();for(let r=e;r<e+t;r++){const e=a.children[r],t=ps(n,void 0,e,a,o,r,{fragment:i});t!==e&&(a.children[r]=t)}bs(n,i,r)}function Ns(e,t){const{ref:n}=e.props;var a;"object"==typeof n?(n.current=t,null===(a=n.onChange)||void 0===a||a.call(n)):"function"==typeof n&&n(t)}function Ss(e,t){const n=void 0!==t.value,a=void 0!==t.checked;if(!n&&!a||!is.includes(e.toUpperCase()))return;const{value:o,checked:r,onInput:i,onChange:s,onBlur:c}=t;t.onChange=void 0,t.onInput=e=>{if(null==i||i(e),null==s||s(e),void 0!==o&&o!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,a=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=o,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const o={selectionStart:t,selectionEnd:n,isCaretAtEnd:a};e.currentTarget.dataset[ls]=JSON.stringify(o)}}void 0!==r&&(e.currentTarget.checked=r)},t.onBlur=e=>{delete e.currentTarget.dataset[ls],null==c||c(e)}}function As(e,t,n,a){if("className"===t)Is(e,n,a);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset[ls];if(e){const{selectionStart:n,selectionEnd:a,isCaretAtEnd:o}=JSON.parse(e);if(o){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof a&&t.setSelectionRange(n,a)}}}else"style"===t?Bs(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Zi(t,e);es(o,e,a)?function(e,t,n){Qi[e]||(Qi[e]=0,document.addEventListener(e,ns)),function(e){return Xi[e]||(Xi[e]=new Map),Xi[e]}(e).set(t,n),function(e){const t=Ji.get(e);if(t)return t;const n=new Set;return Ji.set(e,n),n}(t).add(e),Qi[e]++}(o,e,n):e.addEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):a===as||t.startsWith("data-")||t.startsWith("aria-")||rs.has(t)?e.setAttribute(t,n):os.has(t)||(e[ss[t]||t]=n)}function Ts(e,t,n){"className"===t?Is(e,""):"value"===t?e.value="":"style"===t?Bs(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Zi(t,e);es(o,e,a)?ts(o,e):e.removeEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):os.has(t)||e.removeAttribute(t)}function Is(e,t,n){if(n===as)return void e.setAttribute("class",t);const a=e,o=us.get(e);if(!o)return void(a.className=t);const r=Array.from(o);t&&r.push(t),a.className=r.join(" ")}function Bs(e,t){e.style.cssText=t,ms.get(e)&&Os(e)}function _s(e,t){e.classList.add(t);const n=us.get(e);n?n.add(t):us.set(e,new Set([t]))}function xs(e,t){e.classList.remove(t);const n=us.get(e);n&&(n.delete(t),n.size||us.delete(e))}function Ds(e,t,n){var a;!0===n?_s(e,t):!1===n||null!==(a=us.get(e))&&void 0!==a&&a.has(t)?xs(e,t):_s(e,t)}function Ls(e,t){ms.set(e,t),Os(e)}function Os(e){const t=Object.entries(ms.get(e)).reduce(((t,n)=>{let[a,o]=n;return a.startsWith("--")?e.style.setProperty(a,o):t[a]=o,t}),{});Object.assign(e.style,t)}const Ms=function(e,t){ds.has(t)||ds.set(t,{children:[]});const n=ee(),a=ds.get(t),o=ps(t,a.children[0],e,a,{},0);null==n||n(),a.children=o?[o]:[]};function Ps(e){const t=me();return t.current??=E(e),t.current}function Fs(e,t){const n=me(!0);n.current&&(n.current=!1,null==t||t.forEach((t=>{y(t)&&t.subscribe(e)}))),ye((()=>()=>{!function(e){var t;null===(t=b.get(e))||void 0===t||t.forEach((e=>{e()})),b.delete(e)}(e)}))}const Rs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=t?e:()=>e;t??=[e];const[o,r]=Ps(),i=Vo(a);function s(){const e=i.current;n?e(r):r(e())}return Ee(s,t),Fs(s,t),o},Us=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=t?e:()=>e();t??=[e];const o=me(),r=ve(),i=Vo(a);function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=i.current;if(n)t((e=>{o.current!==e&&(o.current=e,r())}));else{const n=t();o.current!==n&&(o.current=n,e||r())}}return Ee((()=>{s(!0)}),t),Fs(s,t),o.current},Ws=(e,t)=>{const n=me();return Ee((()=>{const a=n.current;return n.current=t,e(a||[])}),t)},Hs=350;function $s(e){const{isOpen:t,noMountTransition:n=!1,noOpenTransition:a=!1,noCloseTransition:o=!1,closeDuration:r=Hs,className:i="fast",prefix:s="",shouldForceOpen:c,onCloseAnimationEnd:l}=e,d=me(),u=e.ref||d,m=me(),[p,f]=pe(),h=Vo({closeDuration:r,noMountTransition:n,noOpenTransition:a,noCloseTransition:o}),g=zo(l);Ws((e=>{let[n]=e;const a=h.current;c?f("open"):t?(m.current&&(clearTimeout(m.current),m.current=void 0),a.noOpenTransition||void 0===n&&a.noMountTransition?f("open"):(f("scheduled-open"),(0,k.YS)((()=>{f("open")})))):void 0===n||a.noCloseTransition?f("closed"):(f("closing"),m.current=window.setTimeout((()=>{f("closed"),g()}),a.closeDuration))}),[t,c]);const v=zo((()=>{const e=u.current;if(!e)return;!1!==i&&(_s(e,"opacity-transition"),_s(e,i));const t=p(),n="closed"!==t,a="open"===t,o="closing"===t;Ds(e,`${s}shown`,n),Ds(e,`${s}not-shown`,!n),Ds(e,`${s}open`,a),Ds(e,`${s}not-open`,!a),Ds(e,`${s}closing`,o)}));Ee((()=>{u.onChange=()=>{u.onChange=void 0,v()}}),[v,u]),le(v,[v,p]);const w="withShouldRender"in e&&e.withShouldRender,y=Us((()=>w&&"closed"!==p()),[w,p]),b=Rs((()=>"closing"===p()),[p]);return w?{ref:u,shouldRender:y,getIsClosing:b}:{ref:u,getIsClosing:b}}function Vs(e){let{className:t,isActive:n,element:a=document.documentElement}=e;le((()=>{if(n)return _s(a,t),()=>{xs(a,t)}}),[t,n,a])}const zs="TUSiLENF",Ks=fe((function(e){let{isActive:t,className:n,isDoubled:a}=e;const{shouldRender:o,ref:r}=$s({isOpen:t,withShouldRender:!0});return o?ge.createElement("div",{ref:r,className:xr("esdydUs1",a&&"UJzP4d9r",n)},ge.createElement("span",{className:zs}),ge.createElement("span",{className:zs}),ge.createElement("span",{className:zs})):null})),qs={button:"GpDwnAkE",loadingInit:"tZ9ppkji",clicked:"A1qGzs0x",isSimple:"Cw_ElX3O",isText:"d3A7BZDx",primary:"Pb9B3sBE",secondary:"k1jQrbAk",transparent:"nxcFq7cM",disabled:"zSwp1moR",destructive:"tLZabe0e",sizeSmall:"ORqfj0CU",round:"PJ7EB5_T",loadingStart:"pv1HwapI",loadingDots:"_2QYUoJe"},js=fe((function(e){let{ref:t,children:n,id:a,className:o,style:r,ariaLabel:i,forFormId:s,kind:c,isSubmit:l,isPrimary:d,isSecondary:u,isSmall:m,isSimple:p,isText:f,isLoading:h,isDisabled:g,isRound:v,isDestructive:w,shouldStopPropagation:y,onClick:b,onMouseDown:E,onContextMenu:k}=e;const[C,N]=ie(!1),S=zo((e=>{!g&&b&&(y&&e.stopPropagation(),b()),N(!0),setTimeout((()=>{N(!1)}),400)})),A=xr(void 0!==h&&qs.loadingInit,h&&qs.loadingStart);return ge.createElement("button",{id:a,ref:t,type:l||s?"submit":"button",className:xr(qs.button,d&&qs.primary,u&&qs.secondary,m&&qs.sizeSmall,p&&qs.isSimple,f&&qs.isText,(g||h)&&qs.disabled,A,v&&qs.round,w&&qs.destructive,C&&qs.clicked,o,c&&qs[c]),style:r,"aria-label":i,disabled:g||h,form:s,onClick:S,onMouseDown:E,onContextMenu:k},n,ge.createElement(Ks,{isActive:h,className:qs.loadingDots}))})),Ys=function(e){let{containerId:t,className:n,style:a,children:o}=e;const r=me();return r.current||(r.current=document.createElement("div")),le((()=>{const e=document.querySelector(t||"#portals");if(!e)return;const o=r.current;return n&&(o.className=n),a&&(o.style.cssText=a),e.appendChild(o),()=>{Ms(void 0,o),e.removeChild(o)}}),[n,a,t]),Ms(o,r.current)},Gs={modal:"bei20BXo",inAppLock:"rhy5UM19",error:"ycQPrkNy",dialog:"lCrWZOJa",backdrop:"BRHUYooL",slideUpAnimation:"ciD50Ivv",container:"pI0zvyZ_",forceBottomSheet:"zXbZnJvJ",content:"ikANOLRm",noBackdrop:"JdyYzya2",compact:"OIC6BQI4",header:"LB42p81C",header_wideContent:"_ijqgHQC",headerWideContent:"_ijqgHQC",header_back:"F2CCACcS",headerBack:"F2CCACcS",header_backIcon:"IubryJoO",headerBackIcon:"IubryJoO",menuButton:"nz22xGPo",menuIcon:"NiajLgHY",closeButton:"Oj6lWSUo",closeIcon:"VPuUZtvp",title:"ZDSNp0nr",singleTitle:"Sv8Bhg5M",contentCompact:"ulAHEr0t",text:"FumpDc7T",text_centered:"PRVdJNuh",textCentered:"PRVdJNuh",text_noExtraMargin:"JNEqsMcb",textNoExtraMargin:"JNEqsMcb",buttons:"PWLeFX8Z",footerButtons:"fXtMQ4nZ",footerButtonFullWidth:"KMr7BHAz",buttonsInsideContentWithScroll:"SCBITBKB",buttonsNoExtraSpace:"vyEjC2QK",button:"pvjzjt3q",buttonHalfWidth:"EhlEYVbZ",buttonFullWidth:"zRgM4gqF",shortButton:"QFWfMoly",transition:"ELmioinr",transitionSlide:"OXFBF6TX",transitionContentWrapper:"N1r_Lya9",transitionContent:"W4ZdBtyi",transitionContent_simple:"qGdeWGzL",transitionContentSimple:"qGdeWGzL"},Qs=350,Xs=n.Ni?200:500,[Js,Zs]=E(Date.now()),ec=new Set,tc=(nc=function(t){let{dialogRef:a,title:o,className:r,dialogClassName:i,titleClassName:s,contentClassName:c,isOpen:d,isTemporarilyClosed:u,isCompact:m,nativeBottomSheetKey:p,forceFullNative:f,forceBottomSheet:h,isInAppLock:g,noResetFullNativeOnBlur:v,noBackdrop:w,noBackdropClose:y,header:b,hasCloseButton:E,children:k,onClose:C,onCloseAnimationEnd:N,onEnter:S}=t;const A=d&&!u,T=zo((()=>{if(!u||!d)return C()})),I=_r(),B=me(),x=me(),D=me();a||=x;const{isPortrait:L}=hi();!function(t,a){Ee((()=>{if(!e.UMQ||n.bA||a)return;const o=ic();o&&t&&o&&o.hide().then((async()=>{n.KI&&await xo.enable()}))}),[a,t])}(A,m);const O=(L?Xs:Qs)+e.xB5,M=!m&&L;Yi({isActive:A,onBack:T,shouldIgnoreForTelegram:m}),ce((()=>{if(e.tKX&&A&&!m)return uo(),mo}),[m,A]),vi((e=>{let[t]=e;n.bA&&m&&(t||A)&&!Ci&&xo.toggleSelfFullSize({isFullSize:!!A})}),[A,m]),ce((()=>{if(!n.bA&&A)return Js.subscribe(T)}),[A,T]),ce((()=>A?zr({onEsc:{handler:T,shouldPreventDefault:e.hL1},...S&&{onEnter:S}}):void 0),[A,T,S]),ce((()=>A&&B.current?Qr(B.current):void 0),[A]),Vs({className:"is-modal-open",isActive:!m&&A}),le((()=>A?_(O):void 0),[O,A]),ce((()=>{if(p)return A?ec.add(p):ec.delete(p),()=>{ec.delete(p)}}),[A,p]);const[P,F]=ie(!1);ce((()=>{const e=ic();if(!A)return F(!1),void requestAnimationFrame((()=>{null==e||e.show()}));null==e||e.hide().then((()=>{F(!0)}))}),[A]);const R=function(e,t,a,o){const r=n.KI&&e,i=a&&t;return vi((t=>{let[n]=t;if(r)if(i){var a;null===(a=Ti)||void 0===a||a();const t=()=>{Re(),o()};Ti=t,Ii=Promise.race([Ii,(0,l.v7)(1e3)]).then((()=>xo.delegate({key:e,globalJson:JSON.stringify(Ve())}))).then((()=>{Ti===t&&(Ti(),Ti=void 0)})).then((()=>(0,l.v7)(100)))}else n&&xo.release({key:e})}),[i,r,e,o]),r&&t}(p,L,A&&(!ic()||P),T);(function(e,t,a,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];vi((r=>{let[i]=r;if(n.bA&&e&&e===ki)if(t){const t=o.current;xo.openSelf({key:e,height:String(t.offsetHeight),backgroundColor:Xr(getComputedStyle(t).backgroundColor)}).then((()=>{Re(),a()}))}else i&&(xo.closeSelf({key:e}),li({forceDarkBackground:!1}))}),[t,o,e,a]);const s=n.bA&&e&&t,{screenHeight:c}=hi(),[l,d]=ie(bi);Ei.then(d);const u=c-((null==l?void 0:l.top)||0);le((()=>{s&&(o.current.style[r?"maxHeight":"height"]="",o.current.style[r?"height":"maxHeight"]=`${u}px`)}),[o,r,s,u]),vi((e=>{let[t]=e;s&&(Ci=r,void 0!==r&&void 0===t||xo.toggleSelfFullSize({isFullSize:r}))}),[r,s]),le((()=>{if(!s)return;const e=o.current;let t;function n(n){if(Si(n.target)){if(t)return clearTimeout(t),void(t=void 0);var a;(a=e).style.opacity="0",setTimeout((()=>{a.style.opacity="1"})),document.documentElement.scrollTop=0,xo.toggleSelfFullSize({isFullSize:!0})}}function a(e){var n;!Si(e.target)||i||r||(n=e.target)&&n instanceof HTMLElement&&(n.matches(".is-compact-modal")||n.closest(".is-compact-modal"))||(t=window.setTimeout((()=>{t=void 0,xo.toggleSelfFullSize({isFullSize:!1})}),50))}return document.addEventListener("focusin",n),document.addEventListener("focusout",a),()=>{document.removeEventListener("focusout",a),document.removeEventListener("focusin",n)}}),[o,r,s,i])})(p,A&&(!ic()||P),T,a,f,v),ce((()=>{if(n.TF&&A&&L&&M&&!n.bA&&!R)return Hr(B.current,{excludedClosestSelector:".capture-scroll",onSwipe:(e,t)=>!(t!==Pr.Down||!function(e,t){if(Ha>Va.height||jr>0)return!1;const n=Date.now();if(e.current&&n-e.current<500)return!1;e.current=n;const a=null==t?void 0:t.closest(".custom-scroll");return!a||0===a.scrollTop}(D,e.target)||(T(),0))})}),[A,L,M,R,T]);const{shouldRender:U}=$s({ref:B,isOpen:A&&!R,onCloseAnimationEnd:N,className:!1,closeDuration:O,withShouldRender:!0});if(!U)return;const W=xr(Gs.modal,r,M&&Gs.slideUpAnimation,m&&Gs.compact,m&&"is-compact-modal",h&&Gs.forceBottomSheet,g&&Gs.inAppLock),H=xr(Gs.backdrop,w&&Gs.noBackdrop),$=xr(Gs.content,m&&Gs.contentCompact,"custom-scroll",c);return ge.createElement(Ys,null,ge.createElement("div",{ref:B,className:W,tabIndex:-1,role:"dialog"},ge.createElement("div",{className:Gs.container},ge.createElement("div",{className:H,onClick:y?void 0:T}),ge.createElement("div",{className:xr(Gs.dialog,i),ref:a},b||(o?ge.createElement("div",{className:xr(Gs.header,Gs.header_wideContent,!E&&Gs.header_noClose)},ge.createElement("div",{className:xr(Gs.title,Gs.singleTitle,s)},o),E&&ge.createElement(js,{isRound:!0,className:Gs.closeButton,ariaLabel:I("Close"),onClick:T},ge.createElement("i",{className:xr(Gs.closeIcon,"icon-close"),"aria-hidden":!0}))):void 0),ge.createElement("div",{className:$},k)))))},function(e){const t=me(e);return e.isOpen?t.current=e:t.current={...t.current,isOpen:!1},nc(t.current)});var nc;const ac=je(((e,t)=>{let{isInAppLock:n}=t;return{isTemporarilyClosed:!(n||!e.isAppLockActive)}}))(tc);let oc;const rc=fe(je((e=>{const{currentBrowserOptions:t,settings:n}=e;return{url:null==t?void 0:t.url,title:null==t?void 0:t.title,subtitle:null==t?void 0:t.subtitle,theme:n.theme,animationLevel:n.animationLevel}}))((function(a){let{title:o,subtitle:r,url:i,theme:s,animationLevel:d}=a;const{closeBrowser:u}=Ke(),m=_r(),{setupDappBridge:p,cleanupDappBridge:f}=function(t){const n=me(),a=zo((a=>{n.current=(0,Po.p)($o(t),e.hUJ,new Ko(a))}));return ce((()=>{if(t)return()=>{var e;null===(e=n.current)||void 0===e||e.call(n)}}),[t]),{setupDappBridge:a,cleanupDappBridge:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.call(n)}}}(i),h=de((()=>`\n(${Mo})(\n  '${e.HOw}',\n  '${e.hUJ}',\n  'cordova_iab' in window ? window.cordova_iab : window.webkit.messageHandlers.cordova_iab,\n  {\n    deviceInfo: ${JSON.stringify(function(){const t=["SendTransaction",{name:"SendTransaction",maxMessages:Bt.Bm}];return t.push({name:"SignData",types:["text","binary","cell"]}),{platform:Oo(),appName:e.C39,appVersion:"4.1.3",maxProtocolVersion:e.gY_,features:t}}())},\n    protocolVersion: ${e.gY_},\n    isWalletBrowser: true,\n  }\n);\n  `),[]),g=zo((e=>{(0,t.SJ)("inAppBrowser error",e)})),v=zo((async()=>{n.KI&&await xo.enable(),oc.removeEventListener("loaderror",g),oc.removeEventListener("exit",v),oc=void 0,u(),f()})),w=zo((async()=>{n.KI&&!(await xo.isShown()).value&&await xo.disable();const t=!o&&i?Qo(i):o,a=r===t?void 0:r,u=`,${(0,c.oE)([n.pz||t?`title=${t||""}`:void 0,n.pz||a?`subtitle=${a||""}`:void 0,i?`shareurl=${encodeURIComponent(i)}`:void 0,`closebuttoncaption=${n.pz?m("Close"):"x"}`,`backbuttoncaption=${m("Back")}`,`reloadcaption=${m("Reload Page")}`,`openinbrowsercaption=${m(n.pz?"Open in Safari":"Open in Browser")}`,`copyurlcaption=${m("CopyURL")}`,`sharecaption=${m("Share")}`,`theme=${s}`,"animated="+(d??e.i11>0?"yes":"no")]).join(",")}`;oc=cordova.InAppBrowser.open(i,"_blank",jc+u,h);const f=oc.hide;oc.hide=()=>new Promise((e=>{null==f||f(),oc&&n.ZH?Lo(oc,"hidecompletion",(()=>e())):e()}));const w=oc.show;oc.show=()=>{ec.size>0||null==w||w()};const y=oc.close;oc.close=()=>{if(!oc)return Promise.resolve();y();const e=new Promise((e=>{Lo(oc,"exit",(async()=>{await(0,l.fm)((()=>!oc),15,20),e()})),setTimeout(e,900)}));return oc.show=()=>{},oc.hide=()=>e,e},p(oc),oc.addEventListener("loaderror",g),oc.addEventListener("exit",v),oc.show()}));ce((()=>{if(i)return w(),()=>{var e;return null===(e=oc)||void 0===e?void 0:e.close()}}),[i])})));function ic(){return oc}function sc(){var e;return Promise.all([null===(e=ic())||void 0===e?void 0:e.close(),Ke().closeAnyModal(),Ke().closeMediaViewer()])}function cc(e,t){return e&&t[e]||e}const[,lc]=e.Xr6.split("*");async function dc(t,n){if(uc(t)&&(t=`${t}#theme=${Ve().settings.theme}`),null!=n&&n.isExternal||!t.startsWith("http")||!(e.UMQ||uc(t)||function(t){return e.Jxt.some((e=>t.startsWith(e.replace(/\*$/,""))))}(t))||nr(t)){const n=e.UMQ&&await async function(e){try{return(await _o.openUrl({url:e})).completed}catch(e){return!1}}(t);n||window.open(t,"_blank","noopener")}else await sc(),Ke().openBrowser({url:t,title:null==n?void 0:n.title,subtitle:null==n?void 0:n.subtitle})}function uc(e){const{host:t}=new URL(e);return t.endsWith(lc)||t.startsWith("localhost:432")}function mc(e){e.preventDefault(),dc(e.currentTarget.href,{isExternal:e.shiftKey||e.ctrlKey||e.metaKey})}let pc;const fc=new Promise((e=>{pc=e})),hc="ton://",gc="tc://",vc="mytonwallet-tc://",wc="mtw://",yc=["https://my.tt","https://go.mytonwallet.org"],bc="https://connect.mytonwallet.org",Ec="https://checkin.mytonwallet.org";var kc=function(e){return e.Air="air",e.CheckinWithR="r",e.Swap="swap",e.BuyWithCrypto="buy-with-crypto",e.BuyWithCard="buy-with-card",e.Stake="stake",e.Giveaway="giveaway",e.Transfer="transfer",e.Explore="explore",e}(kc||{});let Cc;async function Nc(e,t){let{isFromInAppBrowser:n,...a}=t;Ac(e)||Bc(e)||_c(e)?await Sc(e,n):await dc(e,a)}function Sc(n){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ve().currentAccountId||(Cc=n),Bc(n)?async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Bc(e))return!1;const{openLoadingOverlay:n,closeLoadingOverlay:o}=Ke();n();const r=await(0,a.p)("startSseConnection",{url:e,isFromInAppBrowser:t});return"empty"===r||(o(),r&&dc(r,{isExternal:!t})),!0}(n,o):_c(n)?async function(n){try{var a;n=Dc(n);const{pathname:s,searchParams:c}=new URL(n),l=s.split("/").find(Boolean),d=Ke(),u=Ve(),{isTestnet:m}=u.settings,p=null===(a=rt(u))||void 0===a?void 0:a.ledger;switch((0,t.MD)("Processing deeplink",n),l){case kc.Air:return!!e.UMQ&&(nl(),!0);case kc.CheckinWithR:{var o;const e=null===(o=s.match(/r\/(.*)$/))||void 0===o?void 0:o[1];return dc(`${Ec}${e?`?r=${e}`:""}`),!0}case kc.Giveaway:{var r;const t=null===(r=s.match(/giveaway\/([^/]+)/))||void 0===r?void 0:r[1];return dc(`${e.qsd}${t?`?giveawayId=${t}`:""}`),!0}case kc.Swap:return m?d.showError({error:"Swap is not supported in Testnet."}):p?d.showError({error:"Swap is not yet supported by Ledger."}):d.startSwap({tokenInSlug:c.get("in")||e.Tu9.slug,tokenOutSlug:c.get("out")||e.rKC,amountIn:Pc(c.get("amount"))||"10"}),!0;case kc.BuyWithCrypto:return m?d.showError({error:"Swap is not supported in Testnet."}):p?d.showError({error:"Swap is not yet supported by Ledger."}):d.startSwap({tokenInSlug:c.get("in")||e.Czf,tokenOutSlug:c.get("out")||e.Tu9.slug,amountIn:Pc(c.get("amount"))||"100"}),!0;case kc.BuyWithCard:return m?d.showError({error:"Buying with card is not supported in Testnet."}):d.openOnRampWidgetModal({chain:"ton"}),!0;case kc.Stake:return m?d.showError({error:"Staking is not supported in Testnet."}):d.startStaking(),!0;case kc.Transfer:return await Tc(Lc(n));case kc.Explore:{d.closeSettings(),d.openExplore(),d.setActiveContentTab({tab:zn.Explore});const e=s.split("/").filter(Boolean)[1];if(e){var i;const t=null===(i=Ve().exploreData)||void 0===i?void 0:i.sites.find((t=>{let{url:n}=t;return(nr(n)?new URL(n).pathname.split("/").filter(Boolean)[0]:new URL(n).hostname)===e}));t&&dc(t.url)}return!0}}}catch(e){(0,t.SJ)("processSelfDeeplink",e)}return!1}(n):Tc(n)}function Ac(e){return e.startsWith(hc)}async function Tc(e){await fc;const t=Ke(),n=Ve();if(!n.currentAccountId)return!1;const a=Ic(e,n);return!!a&&("error"in a?(t.showError({error:a.error}),!0):(t.startTransfer({isPortrait:gi(),...a}),fi||t.setLandscapeActionsActiveTabIndex({index:Vn.Transfer}),!0))}function Ic(t,n){const a=function(e){if("string"==typeof e&&Ac(e)&&e.includes("/transfer/"))try{const t=e.replace(hc,"https://"),n=new URL(t),a=n.pathname.replace(/\//g,""),o=Rc(n,"amount"),r=Rc(n,"text"),i=Rc(n,"bin"),s=Rc(n,"jetton"),c=Rc(n,"nft"),l=Rc(n,"init")||Rc(n,"stateInit"),d=Rc(n,"exp"),u=new Set(["amount","text","bin","jetton","nft","init","stateInit","exp"]);return{hasUnsupportedParams:Array.from(n.searchParams.keys()).some((e=>!u.has(e))),toAddress:a,amount:o?BigInt(o):void 0,comment:r,jettonAddress:s,nftAddress:c,binPayload:i?Fc(i):void 0,stateInit:l?Fc(l):void 0,exp:d?Number(d):void 0}}catch(e){return}}(t);if(!a)return;if(a.hasUnsupportedParams)return{error:"$unsupported_deeplink_parameter"};const{toAddress:o,amount:r,comment:i,binPayload:s,jettonAddress:l,nftAddress:d,stateInit:u,exp:m}=a,p={toAddress:Ea(o,"ton")?o:void 0,tokenSlug:e.Tu9.slug,amount:r,comment:i,binPayload:s,stateInit:u};if(i&&s&&(p.error="$transfer_text_and_bin_exclusive"),l){const e=l?function(e,t){return Object.values(e.tokenInfo.bySlug).find((e=>e.tokenAddress===t))}(n,l):void 0;if(e){const t=function(e,t){const n=Wt(e);return null==n?void 0:n.find((e=>e.slug===t))}(n,e.slug);t?p.tokenSlug=e.slug:p.error="$dont_have_required_token"}else p.error="$unknown_token_address"}if(d){const e=function(e,t){return kt(e,e.currentAccountId,t)}(n,d);e?p.nfts=[e]:p.error="$dont_have_required_nft"}return m&&Math.floor(Date.now()/1e3)>m&&(p.error="$transfer_link_expired"),(0,c.Oy)(p)}function Bc(e){return e.startsWith(gc)||e.startsWith(vc)||Oc(e).startsWith(Oc(bc))}function _c(e){return(e=Mc(e)).startsWith(wc)||yc.some((t=>e.startsWith(t)))}function xc(e,n){let a=e;if(_c(e))try{e=Dc(e);const{pathname:t}=new URL(e);t.split("/").find(Boolean)===kc.Transfer&&(a=Lc(e))}catch(e){(0,t.SJ)("parseDeeplinkTransferParams",e)}return Ic(a,n)}function Dc(e){return e.startsWith(wc)?e.replace(wc,`${yc[0]}/`):e}function Lc(e){e=Mc(e);for(const t of yc)if(e.startsWith(t))return e.replace(`${t}/`,hc);return e}function Oc(e){return e.replace(/^https?:\/\//,"")}function Mc(e){return e.replace(/^http:\/\//,"https://")}function Pc(e){return String(Number(e)||"")}function Fc(e){return e.replace(/ /g,"+")}function Rc(e,t){return e.searchParams.get(t)??void 0}var Uc=i(95550);const Wc=(0,Oa.F3)("PushNotifications",{});function Hc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const a={};let o=0;for(const r of t){if(o>=n)break;const t=it(e,r),i=null==t?void 0:t.addressByChain.ton;i&&(a[r]={title:t.title,address:i,chain:"ton"},o+=1)}return a}let $c;function Vc(){return $c}let zc=0;function Kc(e){const{showAnyAccountTx:t,showAnyAccountTokenActivity:n,openAnyAccountStakingInfo:a,switchAccountAndOpenUrl:o,openDomainRenewalModal:r}=Ke(),i=Ve(),s=e.notification.data,{action:l,address:d}=s,u=void 0===d?void 0:function(e,t,n){const a=tt(e);if(!a)return;const o=Object.entries(a).find((e=>{let[t,a]=e;return a.addressByChain.ton===n?t:void 0}));return null==o?void 0:o[0]}(i,0,d),m="mainnet";if("openUrl"!==l){if(u)if("nativeTx"===l||"swap"===l){const{txId:e}=s;t({accountId:u,txId:e,network:m})}else if("jettonTx"===l){const{slug:e}=s;n({accountId:u,slug:e,network:m})}else if("staking"===l){const{stakingId:e}=s;a({accountId:u,network:m,stakingId:e})}else if("expiringDns"===l){const{domainAddress:e}=s;r({accountId:u,network:m,addresses:[e]})}}else o({accountId:u,network:m,...(0,c.Up)(s,["url","isExternal","title","subtitle"])})}function qc(e){const t=e.value;Ke().registerNotifications({userToken:t,platform:Vc()}),window.addEventListener("focus",(async()=>{const e=Ve(),n=Object.keys(e.pushNotifications.enabledAccounts||[]);n.length&&zc<=Date.now()&&(await(0,a.p)("subscribeNotifications",{userToken:t,platform:Vc(),addresses:Object.values(Hc(e,n))}),zc=Date.now()+36e5)}),{capture:!0})}const jc=["location="+(n.pz?"no":"yes"),"lefttoright="+(n.pz?"no":"yes"),"usewkwebview=yes","clearcache=no","clearsessioncache=no","hidden=yes","toolbarposition=top","hidenavigationbuttons=yes","hideurlbar=no","backbuttoncaption=Back","allowInlineMediaPlayback=yes"].join(",");let Yc=!1,Gc=!1,Qc=!1,Xc=0,Jc=0,Zc=0;function el(e){for(const[t,n]of Object.entries(e.insets))document.documentElement.style.setProperty(`--safe-area-${t}`,`${"android"===Vc()&&"top"===t?n+8:n}px`)}function tl(){return Jc}function nl(){(0,a.p)("destroy"),Io.switchToAir()}function al(){return e.UMQ&&Yc||e.tKX&&eo}function ol(){return e.UMQ&&Gc||e.tKX&&to}function rl(){return e.UMQ&&Qc||e.tKX&&no}function il(){return e.UMQ||(0,n.v3)()}class sl extends Oa.E_{async write(e){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(void 0!==e.string)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else{if(!e.image)throw new Error("Nothing to write");if("undefined"==typeof ClipboardItem)throw this.unavailable("Writing images to the clipboard is not supported in this browser");try{const t=await(await fetch(e.image)).blob(),n=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([n])}catch(e){throw new Error("Failed to write image")}}}async read(){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if("undefined"==typeof ClipboardItem)return this.readText();try{const e=await navigator.clipboard.read(),t=e[0].types[0],n=await e[0].getType(t);return{value:await this._getBlobData(n,t),type:t}}catch(e){return this.readText()}}async readText(){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise(((n,a)=>{const o=new FileReader;t.includes("image")?o.readAsDataURL(e):o.readAsText(e),o.onloadend=()=>{const e=o.result;n(e)},o.onerror=e=>{a(e)}}))}}const cl=(0,Oa.F3)("Clipboard",{web:()=>new sl});var ll=i(23693);const dl=(0,Oa.F3)("Haptics",{web:()=>i.e(789).then(i.bind(i,83789)).then((e=>new e.HapticsWeb))});async function ul(){var t;e.tKX?null===(t=ro())||void 0===t||t.HapticFeedback.impactOccurred("soft"):e.UMQ&&await dl.impact({style:ll.k.Light})}async function ml(){var t;e.tKX?null===(t=ro())||void 0===t||t.HapticFeedback.notificationOccurred("error"):e.UMQ&&(await dl.impact({style:ll.k.Medium}),await(0,l.v7)(100),await dl.impact({style:ll.k.Medium}),await(0,l.v7)(75),await dl.impact({style:ll.k.Light}))}async function pl(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n;(e.UMQ||e.tKX)&&(e.tKX?null===(n=ro())||void 0===n||n.HapticFeedback.notificationOccurred("success"):await dl.impact({style:ll.k.Light}),t&&await(0,l.v7)(1300))}const fl=document.createElement("textarea");fl.setAttribute("readonly",""),fl.tabIndex=-1,fl.className="visually-hidden";const hl=t=>(ul(),e.UMQ?cl.write({string:t}):navigator.clipboard.writeText(t));async function gl(){if(e.tKX)return new Promise((e=>{var t;null===(t=ro())||void 0===t||t.readTextFromClipboard((t=>{ul(),e({text:t,type:"text/plain"})}))}));if(e.UMQ){const{value:e,type:t}=await cl.read();return ul(),{text:e,type:t}}return{text:await navigator.clipboard.readText(),type:"text/plain"}}function vl(t){return 1===t.length&&t[0].length===e.PcM}const wl=Symbol("EQUAL"),yl={__delete:!0},bl={__deleteAllChildren:!0};function El(e,t){if(e===t)return wl;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(a=t,(n=e).length===a.length&&n.every(((e,t)=>El(e,a[t])===wl))))return wl;var n,a;if(!(0,c.Vh)(e)||!(0,c.Vh)(t))return t;const o=e,r=t,i=Object.keys(o),s=Object.keys(r);if(!s.length)return i.length?bl:wl;const l=(0,c.Am)(i.concat(s)).reduce(((e,t)=>{const n=o[t],a=r[t];if(!r.hasOwnProperty(t))return e[t]=yl,e;if(!o.hasOwnProperty(t))return e[t]=a,e;const i=El(n,a);return i!==wl&&(e[t]=i),e}),{});return 0===Object.keys(l).length?wl:l}function kl(e,t){return e===t?t:(0,c.Vh)(t)?(0,c.Vh)(e)?t.__deleteAllChildren?{}:(0,c.Am)(Object.keys(e).concat(Object.keys(t))).reduce(((n,a)=>{const o=e[a];if(t.hasOwnProperty(a)){const e=t[a];null!=e&&e.__delete||(n[a]=kl(o,e))}else n[a]=o;return n}),{}):Cl(t):t}function Cl(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce(((e,t)=>{let[n,a]=t;return null!=a&&a.__delete||(e[n]=(0,c.Vh)(a)?Cl(a):a),e}),{})}const[Nl,Sl]=E(!document.hasFocus()),Al=Nl;function Tl(){Sl(!0)}function Il(){Sl(!1)}function Bl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=zo(e),o=zo(t);ce((()=>{if(!n)return Al()&&a(),Al.subscribe((()=>{Al()?a():o()}))}),[n,a,o])}function _l(){return Al()}e.tKX?io().then((e=>{e.onEvent("activated",Il),e.onEvent("deactivated",Tl),Sl(!(null!=e&&e.isActive))})):(window.addEventListener("blur",Tl),window.addEventListener("focus",Il));const xl=n.bs?new BroadcastChannel(e.eoU):void 0;let Dl=Ve(),Ll=0;function Ol(){let{noPubGlobal:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xl&&(e||We(Ml),xl.addEventListener("message",Fl))}function Ml(e){if(e===Dl)return;if(_l()||!1===Dl.isInited)return void(Dl=e);const t=El(Pl(Dl),Pl(e));"symbol"!=typeof t&&xl.postMessage({type:"globalDiffUpdate",diff:t}),Dl=e}function Pl(e){return(0,c.cJ)(e,["DEBUG_randomId"])}async function Fl(e){let{data:o}=e;switch(o.type){case"globalDiffUpdate":if(n.bA)return;Dl=kl(Ve(),o.diff),ze(Dl);break;case"callAction":{const{recipient:e,name:t,options:n}=o;if(!Rl(e))return;Ke()[t](n);break}case"callApiRequest":{const{recipient:e,messageId:t,name:n,args:r}=o;if(!Rl(e))return;const[i]=await Promise.allSettled([(0,a.p)(n,...r)]);xl.postMessage({type:"callApiResponse",messageId:t,result:i});break}case"getLogsFromNative":if(!n.bA)return;xl.postMessage({type:"logsFromNative",logs:(0,t.ao)()})}}function Rl(e){return n.KI&&"main"===e||n.bA&&"native"===e}function Ul(e,t){xl.postMessage({type:"callAction",recipient:"main",name:e,options:t})}function Wl(e,t){xl.postMessage({type:"callAction",recipient:"native",name:e,options:t})}function Hl(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];if(!n.bA)return(0,a.p)(e,...o);const i=++Ll;return new Promise(((t,n)=>{const a=e=>{let{data:o}=e;"callApiResponse"===o.type&&o.messageId===i&&(xl.removeEventListener("message",a),"fulfilled"===o.result.status?t(o.result.value):n(o.result.reason))};xl.addEventListener("message",a),xl.postMessage({type:"callApiRequest",recipient:"main",messageId:i,name:e,args:o})}))}const $l={appState:Sn.Auth,auth:{state:An.none},biometrics:{state:Tn.None},hardware:{hardwareState:Rn.Connect},currentTransfer:{state:In.None,tokenSlug:e.ScF},currentDomainRenewal:{state:xn.None},currentDomainLinking:{state:Dn.None},currentSwap:{state:Ln.None,slippage:e.k9U},currentDappTransfer:{state:In.None},currentDappSignData:{state:_n.None},currentStaking:{state:Un.None},stakingDefault:e.USn,tokenInfo:{bySlug:e.lfO},swapTokenInfo:{bySlug:e.tCm},swapVersion:e.AuB,tokenPriceHistory:{bySlug:{}},settings:{state:Hn.Initial,theme:e.YnH,animationLevel:e.i11,areTinyTransfersHidden:!e.K_I,canPlaySounds:!0,langCode:n.$q,byAccountId:{},areTokensWithNoCostHidden:!e.K_I,isSortByValueEnabled:!0,isAppLockEnabled:!0,autolockValue:e.fPM},byAccountId:{},dialogs:[],notifications:[],stateVersion:45,restrictions:{isLimitedRegion:!1,isSwapDisabled:n.ZH||e.TI6,isOnRampDisabled:n.ZH||e.TI6,isNftBuyingDisabled:n.ZH},mediaViewer:{},pushNotifications:{enabledAccounts:{}}};function Vl(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const a=Array.isArray(e);if(a!==Array.isArray(t))return!1;if(a){const n=e,a=t;return n.length===a.length&&n.every(((e,t)=>Vl(e,a[t])))}const o=e,r=t,i=Object.keys(o),s=Object.keys(r);return!!i.every((e=>r.hasOwnProperty(e)))&&!!s.every((e=>o.hasOwnProperty(e)))&&i.every((e=>Vl(o[e],r[e])))}function zl(e,t){return Vl((0,c.Up)(e,Object.keys(t)),t)}function Kl(e,t){return{...e,auth:{...e.auth,...t}}}function ql(e,t){return{...e,accounts:{...e.accounts||{byId:{}},...t}}}function jl(e){return{...e,isPinAccepted:!0}}function Yl(e){return e.isPinAccepted?{...e,isPinAccepted:void 0}:e}function Gl(t){var n;let{global:a,accountId:o,type:r,addressByChain:i,partial:s,titlePostfix:c,network:l,isMnemonicImported:d}=t;const u={...s,type:r,addressByChain:i};let m=!0;if(u.title){if(c){var p;const t=null===(p=u.title)||void 0===p?void 0:p.replace(new RegExp(`\\b(${e.eZ2.join("|")})\\b`,"g"),"");u.title=`${t.trim()} ${c}`}}else{l=l||ot(a);const t=at(a)||{},n=Object.keys(t).length,o="mainnet"===l,i=Object.values(t).filter((e=>"view"===e.type)).length,s="view"===r?"View Wallet":o?"Wallet":"Testnet Wallet",d=c?` ${c}`:"",p="view"===r?i+1:n-i+1;u.title=`${s} ${p}${d}`,0===n&&(u.title=o?e.C39:`Testnet ${e.C39}`,m=!1)}if(e.TI6||(a={...a,shouldForceAccountEdit:m}),it(a,o))throw new Error(`Account ${o} already exists`);return{...a,accounts:{...a.accounts,byId:{...null===(n=a.accounts)||void 0===n?void 0:n.byId,[o]:u}}}}function Ql(e,t,n){var a;const o=it(e,t);if(!o)throw new Error(`Account ${t} doesn't exist`);return{...e,accounts:{...e.accounts,byId:{...null===(a=e.accounts)||void 0===a?void 0:a.byId,[t]:{...o,...n}}}}}function Xl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{firstNetworkAccount:n,secondNetworkAccount:a}=e.auth;return e=Gl({global:e,type:"mnemonic",...n,isMnemonicImported:t}),a&&(e=Gl({global:e,type:"mnemonic",...a,isMnemonicImported:t})),e}function Jl(e,t){return Zl(e,e.currentAccountId,t)}function Zl(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!rd(e,t))return e;const o=lt(e,t);return a&&o&&zl(o,n)?e:{...e,byAccountId:{...e.byAccountId,[t]:{...o,...n}}}}function ed(e,t){return{...e,settings:{...e.settings,...t}}}function td(e,t,n){return rd(e,t)?{...e,settings:{...e.settings,byAccountId:{...e.settings.byAccountId,[t]:{...e.settings.byAccountId[t],...n}}}}:e}function nd(e,t){return td(e,e.currentAccountId,t)}function ad(e,t){return{...e,biometrics:{...e.biometrics,...t}}}function od(e,t){if(!t)throw Error("Empty accountId!");return{...e,currentAccountId:t}}function rd(e,t){return!!st(e,t)}function id(e){return!e.currentSwap.isEstimating&&(e.currentSwap.state===Ln.Blockchain||e.currentSwap.state===Ln.Password)}function sd(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===On.In?"amountIn":"amountOut";return n.tokenInSlug===a.tokenInSlug&&n.tokenOutSlug===a.tokenOutSlug&&n.slippage===a.slippage&&n.inputSource===a.inputSource&&n.isMaxAmount===a.isMaxAmount&&(a.isMaxAmount||n[o]===a[o])}function cd(e){let{currentSwap:t}=e;const n=t.inputSource===On.In?"amountIn":"amountOut";return t.tokenInSlug&&t.tokenOutSlug&&Number(t[n]??"0")>0}function ld(e){return{...e.currentSwap.inputSource===On.In?{amountOut:void 0}:{amountIn:void 0},amountOutMin:"0",priceImpact:0,errorType:void 0,limits:void 0,dieselStatus:void 0,estimates:void 0,bestRateDexLabel:void 0,networkFee:void 0,realNetworkFee:void 0,swapFee:void 0,swapFeePercent:void 0,ourFee:void 0,ourFeePercent:void 0,dieselFee:void 0}}function dd(e,t){return{...e,currentSwap:{...e.currentSwap,...t}}}function ud(e,t,n){let a=dd(e,t);var o,r;return n||(o=e,cd(r=a)&&o.currentSwap.tokenInSlug===r.currentSwap.tokenInSlug&&o.currentSwap.tokenOutSlug===r.currentSwap.tokenOutSlug||(a=dd(a,ld(a))),function(e,t){return cd(t)&&!sd(e,t)}(e,a)&&(a=dd(a,{isEstimating:!0}))),function(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===On.In?"amountIn":"amountOut";return n.tokenInSlug!==a.tokenInSlug||n.tokenOutSlug!==a.tokenOutSlug||n.inputSource!==a.inputSource||!(n.isMaxAmount&&a.isMaxAmount||n[o]===a[o])}(e,a)&&(a=dd(a,{isDexLabelChanged:void 0})),dd(a,t)}function md(t){return{...t,currentSwap:{state:Ln.None,slippage:e.k9U}}}function pd(e,t){return gd(e,fd(e,{toAddressName:t.addressName,...(0,c.Up)(t,["fee","realFee","isScam","isMemoRequired","diesel"])}))}function fd(e,t){return{...e,currentTransfer:{...e.currentTransfer,...t}}}function hd(e){return{...e,currentTransfer:$l.currentTransfer}}function gd(e,t){const n=ka(e);return n&&e.currentTransfer.amount===n?fd(t,{amount:ka(t)}):t}function vd(e,t){return{...e,currentTransfer:{...e.currentTransfer,isLoading:t}}}function wd(e,t){return(e=fd(e,{toAddress:t})).currentTransfer.amount||(e=fd(e,{tokenSlug:Ca(e)})),e}function yd(e,t){return{...e,currentSignature:{...e.currentSignature,...t}}}function bd(e,t){return{...e,currentStaking:{...e.currentStaking,...t}}}function Ed(e,t,n){var a;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=null===(a=lt(e,t))||void 0===a?void 0:a.staking;return o&&r&&zl(r,n)?e:Zl(e,t,{staking:{...r,...n}})}function kd(e,t){return{...e,dappConnectRequest:{...e.dappConnectRequest,...t}}}function Cd(e){return{...e,dappConnectRequest:void 0}}function Nd(e,t){return{...e,currentDappTransfer:{...e.currentDappTransfer,...t}}}function Sd(e){return{...e,currentDappTransfer:{state:In.None}}}function Ad(e,t){return{...e,currentDappSignData:{...e.currentDappSignData,...t}}}function Td(e){return{...e,currentDappSignData:{state:_n.None}}}function Id(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(gn(e)?1:0)-(gn(t)?1:0);return 0===a&&(a=e.timestamp-t.timestamp,0===a&&(a=e.id>t.id?1:e.id<t.id?-1:0)),n?a:-a}function Bd(e,t,n){return t.sort(((t,a)=>Id(e[t],e[a],n)))}function _d(e,n,a,o){const r=[e,n];for(let e=0;e<r.length;e++)xd(a,r[e],o)||((0,t.SJ)(`Activity id list ${e} is not sorted`,{stack:(new Error).stack}),r[e]=Bd(a,[...r[e]],o));return(0,c.yQ)(e,n,((e,t)=>Id(a[e],a[t],o)),!0)}function xd(e,t,n){for(let a=1;a<t.length;a++)if(Id(e[t[a-1]],e[t[a]],n)>0)return!1;return!0}function Dd(e,t,n,a){if(0===n.length)return e;const{activities:o}=lt(e,t)||{};let{byId:r,idsBySlug:i,idsMain:s,newestActivitiesBySlug:l,localActivityIds:d,pendingActivityIds:u}=o||{};r={...r,...(0,c.dU)(n,"id")},s=_d(s??[],(0,c.JY)(n,"id"),r);const m=function(e){return e.reduce(((e,t)=>{for(const n of sn(t))e[n]??=[],e[n].push(t.id);return e}),{})}(n);var p;return i=Pd(i,m,r),l=Md({byId:r,idsBySlug:i,newestActivitiesBySlug:l},Object.keys(m)),d=(0,c.Am)([...d??[],...(0,c.JY)(n,"id").filter(on)]),a&&(u={...u,[a]:(0,c.Am)([...(null===(p=u)||void 0===p?void 0:p[a])??[],...(0,c.JY)(n.filter((e=>gn(e)&&!on(e.id))),"id")])}),Zl(e,t,{activities:{...o,idsMain:s,byId:r,idsBySlug:i,newestActivitiesBySlug:l,localActivityIds:d,pendingActivityIds:u}})}function Ld(e,t,n,a,o){const{activities:r}=lt(e,t)||{};let{byId:i,idsBySlug:s,idsMain:l,newestActivitiesBySlug:d,isMainHistoryEndReached:u,isHistoryEndReachedBySlug:m}=r||{};return i={...i,...(0,c.dU)(a,"id")},n?(s=Pd(s,{[n]:(0,c.JY)(a,"id")},i),d=Md({byId:i,idsBySlug:s,newestActivitiesBySlug:d},[n]),o&&(m={...m,[n]:!0})):(l=_d(l??[],(0,c.JY)(a,"id"),i),o&&(u=!0)),Zl(e,t,{activities:{...r,idsMain:l,byId:i,idsBySlug:s,newestActivitiesBySlug:d,isMainHistoryEndReached:u,isHistoryEndReachedBySlug:m}})}function Od(e,t,n){var a,o;const{activities:r}=lt(e,t)||{};if(!r)return e;const i=new Set(n);if(0===i.size)return e;let{byId:s,idsBySlug:l,idsMain:d,newestActivitiesBySlug:u,localActivityIds:m,pendingActivityIds:p}=r;const f=function(e,t){const n=new Set;for(const a of e){const e=t[a];if(e)for(const t of sn(e))n.add(t)}return n}(i,s);l={...l};for(const e of f)e in l&&(l[e]=l[e].filter((e=>!i.has(e))),l[e].length||delete l[e]);u=Md({byId:s,idsBySlug:l,newestActivitiesBySlug:u},f),d=null===(a=d)||void 0===a?void 0:a.filter((e=>!i.has(e))),s={...s};for(const e of i)delete s[e];return m=null===(o=m)||void 0===o?void 0:o.filter((e=>!i.has(e))),p=p&&(0,c.LG)(p,(e=>e.filter((e=>!i.has(e))))),Zl(e,t,{activities:{...r,byId:s,idsBySlug:l,idsMain:d,newestActivitiesBySlug:u,localActivityIds:m,pendingActivityIds:p}})}function Md(e,t){let{byId:n,idsBySlug:a,newestActivitiesBySlug:o}=e;o={...o};for(const e of t){const t=((null==a?void 0:a[e])??[]).find((e=>cn(n[e])));t?o[e]=n[t]:delete o[e]}return o}function Pd(e,t,n){return{...e,...(0,c.LG)(t,((t,a)=>_d(t,(null==e?void 0:e[a])??[],n)))}}function Fd(e,t,n,a){const o=n.address,r=lt(e,t).nfts,i=((null==r?void 0:r.orderedAddresses)??[]).filter((e=>e!==o));return Zl(e,t,{nfts:{...r,byAddress:{...null==r?void 0:r.byAddress,[o]:n},orderedAddresses:a?i.concat(o):[o,...i]}})}function Rd(e,t,n,a){var o;const r=lt(e,t).nfts,i=null==r||null===(o=r.byAddress)||void 0===o?void 0:o[n];return r&&i?Zl(e,t,{nfts:{...r,byAddress:{...r.byAddress,[n]:{...i,...a}}}}):e}function Ud(e,t){return Object.entries(e.settings.byAccountId).forEach((n=>{var a;let[o,r]=n;(null===(a=r.cardBackgroundNft)||void 0===a?void 0:a.address)===t.address&&(e=td(e,o,{...r,cardBackgroundNft:t}))})),e}function Wd(e,t,n){var a;return Zl(e,t,{vesting:{...(null===(a=lt(e,t))||void 0===a?void 0:a.vesting)||{info:[]},...n}})}function Hd(e,t){return{...e,currentMintCard:{...e.currentMintCard,...t}}}function $d(e,t){return{...e,currentDomainRenewal:{...e.currentDomainRenewal,...t}}}function Vd(e,t){return{...e,currentDomainLinking:{...e.currentDomainLinking,...t}}}function zd(e,t){return{...e,hardware:{...e.hardware,...t}}}function Kd(e){return{...e,hardware:$l.hardware}}async function qd(e,t,n){if(t===e.currentAccountId)return;const o=Ke(),r=En(e,t);await(0,a.p)("activateAccount",t,r),e=Ve(),ze(function(e,t){let n=od(e,t);return n=hd(n),md(n)}(e,t)),Zt(),n&&o.changeNetwork({network:n})}function jd(t){return Array(t).fill(0).map(((e,t)=>({i:t,rnd:Math.random()}))).sort(((e,t)=>e.rnd-t.rnd)).map((e=>e.i)).slice(0,Math.min(e.ow1,t)).sort(((e,t)=>e-t))}function Yd(){const e=(0,c.mg)(Ve());return e.tokenInfo={},e.swapTokenInfo={},Object.entries(e.byAccountId).forEach((e=>{let[,t]=e;t.activities={}})),e}function Gd(t,n){return!!dn(t)||!(!n||t.nft||t.type)&&(0,Pt.CF)(t.amount,n.decimals).abs().mul(n.priceUsd??0).lt(e.Wvq)}function Qd(t){return t.slug===e.Tu9.slug?t.symbol:t.tokenAddress??t.slug}function Xd(e,t){return e[t]??Object.values(e).find((e=>{let{tokenAddress:n}=e;return n===t}))}function Jd(t){return t in e.zll}function Zd(e){let{from:t,to:n,toAddress:a,addressByChain:o}=e;const r=Boolean(null==o?void 0:o.tron);return"ton"===(null==t?void 0:t.chain)&&"ton"===(null==n?void 0:n.chain)||r&&t&&n&&o&&Jd(t.chain)&&o[n.chain]===a}function eu(e,t){return{...e,tokenInfo:{...e.tokenInfo,bySlug:{...e.tokenInfo.bySlug,...t}}}}qe("resetAuth",(e=>{e.currentAccountId&&(e=ed(e={...e,appState:Sn.Main},{isTestnet:"testnet"===(0,Ye.cK)(e.currentAccountId).network})),e={...e,auth:(0,c.mg)($l.auth)},ze(e)})),qe("startCreatingWallet",(async(t,o)=>{const r=Ge(tt(t)??{}),i=bt(t),s=i?An.createBackup:r?An.createWallet:il()?An.createPin:n.uh?An.createBiometrics:An.createPassword;if(t=Ve(),i&&!t.auth.password)return void ze(Kl(t,{state:An.checkPassword,error:void 0}));const c=[(0,a.p)("generateMnemonic",e.iAh&&!t.auth.forceAddingTonOnlyAccount),...i?[]:[(0,l.v7)(3300)]];ze(Kl(t,{state:s,method:"createAccount",error:void 0}));const[d]=await Promise.all(c);if(t=Kl(Ve(),{mnemonic:d,mnemonicCheckIndexes:jd((null==d?void 0:d.length)??e.xA_)}),i)return ze(t),void o.afterCreatePassword({password:t.auth.password});ze(Kl(t,{state:il()?An.createPin:n.uh?An.createBiometrics:An.createPassword})),r&&(o.requestConfetti(),pl())})),qe("startCreatingBiometrics",(e=>{e=Kl(e,{state:"createAccount"!==e.auth.method?An.importWalletConfirmBiometrics:An.confirmBiometrics,biometricsStep:1}),ze(e)})),qe("cancelCreateBiometrics",(e=>{e=Kl(e,{state:An.createBiometrics,biometricsStep:void 0}),ze(e)})),qe("createPin",((e,t,n)=>{let{pin:a,isImporting:o}=n;e=Kl(e,{state:o?An.importWalletConfirmPin:An.confirmPin,password:a}),ze(e)})),qe("confirmPin",((e,t,n)=>{let{isImporting:a}=n;al()?(e=Kl(e,{state:a?An.importWalletCreateNativeBiometrics:An.createNativeBiometrics}),ze(e)):t.skipCreateNativeBiometrics()})),qe("cancelConfirmPin",((e,t,n)=>{let{isImporting:a}=n;e=Kl(e,{state:a?An.importWalletCreatePin:An.createPin}),ze(e)})),qe("cancelDisclaimer",(e=>{ze(Kl(e,{state:il()?An.createPin:n.uh?An.createBiometrics:An.createPassword}))})),qe("afterCreatePassword",((e,t,n)=>{let{password:a,isPasswordNumeric:o}=n;ze(Kl(e,{isLoading:!0}));const{method:r}=Ve().auth,i="createAccount"!==r;"importHardwareWallet"===r?t.createHardwareAccounts():t.createAccount({password:a,isImporting:i,isPasswordNumeric:o})})),qe("afterCreateBiometrics",(async(e,t)=>{const a=!n.cp;e=Kl(e,{isLoading:!0,error:void 0,biometricsStep:a?1:void 0}),ze(e);try{const n=a?await bo.createCredential():void 0;e=Kl(e=Ve(),{biometricsStep:a?2:void 0}),ze(e);const o=await ko({credential:n});if(e=Kl(e=Ve(),{isLoading:!1,biometricsStep:void 0}),!o)return e=Kl(e,{error:"Biometric setup failed."}),void ze(e);e=ed(e,{authConfig:o.config}),ze(e),t.afterCreatePassword({password:o.password})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=Kl(e=Ve(),{isLoading:!1,error:n,biometricsStep:void 0}),ze(e)}})),qe("skipCreateBiometrics",(e=>{e=Kl(e,{state:An.createPassword}),ze(e)})),qe("afterCreateNativeBiometrics",(async(e,t)=>{e=Kl(e,{isLoading:!0,error:void 0}),ze(e);try{const{password:n}=e.auth,a=await Co(n);e=ed(e=Kl(e=Ve(),{isLoading:!1}),{authConfig:a.config}),ze(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=Kl(e=Ve(),{isLoading:!1,error:n}),ze(e)}})),qe("skipCreateNativeBiometrics",((e,t)=>{const{password:n}=e.auth;e=ed(e=Kl(e,{isLoading:!1,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:!0}),ze(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})})),qe("createAccount",(async(e,t,n)=>{let{password:o,isImporting:r,isPasswordNumeric:i,version:s}=n;ze(Kl(e,{isLoading:!0}));const c=ot(Ve()),l=await(0,a.p)(r?"importMnemonic":"createWallet",c,e.auth.mnemonic,o,s);if(e=Ve(),!l||"error"in l)return ze(Kl(e,{isLoading:void 0})),void t.showError({error:null==l?void 0:l.error});const{accountId:d,addressByChain:u,secondNetworkAccount:m}=l;if(r||(e={...e,appState:Sn.Auth,isAddAccountModalOpen:void 0}),e=Yl(e=Kl(e,{isLoading:void 0,password:void 0,firstNetworkAccount:{addressByChain:u,accountId:d},secondNetworkAccount:m,...i&&{isPasswordNumeric:!0}})),r){if(Object.keys(tt(e)||{}).length>0)return ze(e),void t.afterConfirmDisclaimer();e=Kl(e,{state:An.disclaimer})}else e=Kl(e,{state:Ge(tt(e)??{})?An.disclaimerAndBackup:An.createBackup});ze(e)})),qe("createHardwareAccounts",(async(e,t)=>{const a=Ge(tt(e)??{});ze(Kl(e,{isLoading:!0}));const{hardwareSelectedIndices:o=[]}=Ve().auth,r=ot(Ve()),s=await Promise.all([i.e(800),i.e(909),i.e(629),i.e(803)]).then(i.bind(i,50243)),c=await Promise.all(o.map((e=>s.importLedgerWallet(r,e))));!n.bA||a?t.addHardwareAccounts({wallets:c}):Ul("addHardwareAccounts",{wallets:c})})),qe("addHardwareAccounts",((e,t,n)=>{var o;let{wallets:r}=n;const i=!e.currentAccountId,s=null===(o=r[0])||void 0===o?void 0:o.accountId;s&&(0,a.p)("activateAccount",s);const c=r.reduce(((e,t)=>{if(!t)return e;const{accountId:n,address:a,walletInfo:o}=t,r={ton:a};return Gl({global:e=od(e,n),accountId:n,addressByChain:r,type:"hardware",partial:{...o&&{ledger:{driver:o.driver,index:o.index}}}})}),Ve());s&&(e=od(c,s)),e=Kl(e,{isLoading:!1}),e={...e,shouldForceAccountEdit:!0},ze(e),Ve().areSettingsOpen&&t.closeSettings(),r.forEach((e=>{null!=e&&e.accountId&&t.tryAddNotificationAccount({accountId:null==e?void 0:e.accountId})})),t.afterSignIn(),i&&(t.resetApiSettings(),t.requestConfetti(),pl())})),qe("afterCheckMnemonic",((e,t)=>{e=od(e=Xl(e),e.auth.firstNetworkAccount.accountId),ze(e),t.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),t.afterSignIn(),ht(e)&&t.resetApiSettings()})),qe("restartCheckMnemonicIndexes",((e,t,n)=>{let{worldsCount:a}=n;ze(Kl(e,{mnemonicCheckIndexes:jd(a)}))})),qe("skipCheckMnemonic",((e,t)=>{n.bA?Ul("skipCheckMnemonic"):(e=Jl(e=od(e=Xl(e),e.auth.firstNetworkAccount.accountId),{isBackupRequired:!0}),ze(e),t.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),t.afterSignIn(),ht(e)&&t.resetApiSettings())})),qe("startImportingWallet",(e=>{const t=bt(e)&&!e.auth.password?An.importWalletCheckPassword:An.importWallet;ze(Kl(e,{state:t,error:void 0,method:"importMnemonic"}))})),qe("openAbout",(e=>{ze(Kl(e,{state:An.about,error:void 0}))})),qe("closeAbout",(e=>{ze(Kl(e,{state:An.none,error:void 0}))})),qe("afterImportMnemonic",(async(e,t,o)=>{let{mnemonic:r}=o;if(r=(0,c.oE)(r),!vl(r)&&!await(0,a.p)("validateMnemonic",r))return void ze(Kl(Ve(),{error:Pa.Nu.InvalidMnemonic}));const i=bt(e=Ve()),s=Object.keys(tt(e)||{}).length>0,l=il()?An.importWalletCreatePin:n.uh?An.importWalletCreateBiometrics:An.importWalletCreatePassword;e=Kl(e,{mnemonic:r,error:void 0,...!i&&{state:l}}),ze(e),i?t.confirmDisclaimer():(s||t.requestConfetti(),pl())})),qe("confirmDisclaimer",((e,t)=>{if(bt(e))return ze(e),void t.afterCreatePassword({password:e.auth.password});t.afterConfirmDisclaimer()})),qe("afterConfirmDisclaimer",((e,t)=>{const{firstNetworkAccount:n}=e.auth;e=Kl(e=od(e=Xl(e,!0),n.accountId),{state:An.ready}),ze(e),t.tryAddNotificationAccount({accountId:n.accountId}),t.afterSignIn(),ht(e)&&t.resetApiSettings()})),qe("cleanAuthError",(e=>{ze(Kl(e,{error:void 0}))})),qe("startChangingNetwork",((e,t,a)=>{let{network:o}=a;n.bA&&Ul("startChangingNetwork",{network:o});const r=Object.keys(nt(o,e.accounts.byId));if(r.length){const e=r[0];t.switchAccount({accountId:e,newNetwork:o})}else ze({...e,areSettingsOpen:!1,appState:Sn.Auth}),t.changeNetwork({network:o})})),qe("switchAccount",(async(e,t,a)=>{if(n.bA)return void Ul("switchAccount",a);const{accountId:o,newNetwork:r}=a;await qd(e,o,r)})),qe("afterSelectHardwareWallets",((e,t,n)=>{let{hardwareSelectedIndices:a}=n;ze(Kl(e,{method:"importHardwareWallet",hardwareSelectedIndices:a,error:void 0})),t.afterCreatePassword({password:""})})),qe("enableBiometrics",(async(e,t,o)=>{let{password:r}=o;if(!await(0,a.p)("verifyPassword",r))return e=ad(e=Ve(),{error:"Wrong password, please try again."}),void ze(e);e=Kl(e=ad(e=Ve(),{error:void 0,state:Tn.TurnOnRegistration}),{isLoading:!0}),ze(e);try{const o=n.cp?void 0:await bo.createCredential();e=ad(e=Ve(),{state:Tn.TurnOnVerification}),ze(e);const i=await ko({credential:o});if(e=Ve(),!i)return e=ad(e,{error:"Biometric setup failed.",state:Tn.TurnOnPasswordConfirmation}),void ze(e);e=ad(e,{state:Tn.TurnOnComplete}),ze(e),await(0,a.p)("changePassword",r,i.password),e=ed(e=Ve(),{authConfig:i.config}),ze(e),t.setInMemoryPassword({password:void 0,force:!0})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=ad(e=Ve(),{error:n,state:Tn.TurnOnPasswordConfirmation}),ze(e)}finally{e=Kl(e=Ve(),{isLoading:void 0}),ze(e)}})),qe("disableBiometrics",(async(e,t,n)=>{let{password:o,isPasswordNumeric:r}=n;const{password:i}=e.biometrics;if(!o||!i)return e=ad(e,{error:"Biometric confirmation failed."}),void ze(e);e=Kl(e=Ve(),{isLoading:!0}),ze(e);try{await(0,a.p)("changePassword",i,o)}catch(t){return e=ad(e=Ve(),{error:(null==t?void 0:t.message)||"Failed to disable biometrics."}),void ze(e)}finally{e=Kl(e=Ve(),{isLoading:void 0}),ze(e)}e=ed(e=ad(e=Ve(),{state:Tn.TurnOffComplete,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:r}),ze(e)})),qe("closeBiometricSettings",(e=>{e={...e,biometrics:(0,c.mg)($l.biometrics)},ze(e)})),qe("openBiometricsTurnOn",(e=>{e=ad(e,{state:Tn.TurnOnPasswordConfirmation}),ze(e)})),qe("openBiometricsTurnOffWarning",(e=>{e=ad(e,{state:Tn.TurnOffWarning}),ze(e)})),qe("openBiometricsTurnOff",(async e=>{e=ad(e,{state:Tn.TurnOffBiometricConfirmation}),ze(e);const t=await So(e.settings.authConfig);e=ad(e=Ve(),t?{state:Tn.TurnOffCreatePassword,password:t}:{error:"Biometric confirmation failed."}),ze(e)})),qe("disableNativeBiometrics",(e=>{e=ed(e,{authConfig:{kind:"password"},isPasswordNumeric:!0}),ze(e)})),qe("enableNativeBiometrics",(async(t,n,o)=>{let{password:r}=o;if(!await(0,a.p)("verifyPassword",r))return t=Ve(),t=Yl(t={...t,nativeBiometricsError:"Incorrect code, please try again."}),void ze(t);t=jl(t=Ve()),t={...t,nativeBiometricsError:void 0},ze(t);try{let a;if(a=e.tKX?(await ho()).success:await Ma.verifyIdentity({title:e.C39,subtitle:"",maxAttempts:1}).then((()=>!0)).catch((()=>!1)),!a)return t=Ve(),t=Yl(t={...t,nativeBiometricsError:"Failed to enable biometrics."}),ze(t),void ml();const o=await Co(r);await(0,l.v7)(750),t=ed(t=Ve(),{authConfig:o.config}),t={...t,nativeBiometricsError:void 0},ze(t),n.setInMemoryPassword({password:void 0,force:!0}),pl()}catch(e){t=Ve(),t=Yl(t={...t,nativeBiometricsError:(null==e?void 0:e.message)||"Failed to enable biometrics."}),ze(t),ml()}})),qe("clearNativeBiometricsError",(e=>({...e,nativeBiometricsError:void 0}))),qe("openAuthBackupWalletModal",(e=>{n.bA?Ul("openAuthBackupWalletModal"):(e=Kl(e,{state:An.safetyRules}),ze(e))})),qe("openMnemonicPage",(e=>{n.bA?Ul("openMnemonicPage"):(e=Kl(e,{state:An.mnemonicPage}),ze(e))})),qe("openCreateBackUpPage",(e=>{n.bA?Ul("openCreateBackUpPage"):(e=Kl(e,{state:Ge(tt(e)??{})?An.disclaimerAndBackup:An.createBackup}),ze(e))})),qe("openCheckWordsPage",(e=>{n.bA?Ul("openCheckWordsPage"):(e=Kl(e,{state:An.checkWords}),ze(e))})),qe("closeCheckWordsPage",((e,t,a)=>{const{isBackupCreated:o}=a||{};n.bA&&Ul("closeCheckWordsPage",a),!n.bA&&o&&t.afterCheckMnemonic()})),qe("copyStorageData",(async(e,t)=>{const n=await(0,a.p)("fetchAccountConfigForDebugPurposesOnly");if(n){const e=JSON.stringify({...JSON.parse(n),global:Yd()});await hl(e),t.showNotification({message:Ir("Copied")})}else t.showError({error:Pa.QD.Unexpected})})),qe("importAccountByVersion",(async(e,t,o)=>{let{version:r}=o;if(n.bA)return void Ul("importAccountByVersion",{version:r});const i=e.currentAccountId,s=await(0,a.p)("importNewWalletVersion",i,r);if(e=Ve(),!s.isNew)return void t.switchAccount({accountId:s.accountId});const{title:c,type:l}=it(e,i),d={ton:s.address};e=od(e,s.accountId);const u=s.ledger?{ledger:s.ledger}:void 0;e=Gl({global:e,accountId:s.accountId,type:l,addressByChain:d,partial:{...u,title:c},titlePostfix:r}),ze(e),await(0,a.p)("activateAccount",s.accountId),t.tryAddNotificationAccount({accountId:s.accountId})})),qe("setIsAuthLoading",((e,t,n)=>{let{isLoading:a}=n;e=Kl(e,{isLoading:a}),ze(e)})),qe("importViewAccount",(async(e,t,o)=>{let{addressByChain:r}=o;if(n.bA)return void Ul("importViewAccount",{addressByChain:r});const i=Ge(tt(e)??{}),s=ot(Ve());i?e=Kl(e,{isLoading:!0}):(e=ql(e,{isLoading:!0}),n.KI&&Wl("setIsAccountLoading",{isLoading:!0})),ze(e);const c=await(0,a.p)("importViewAccount",s,r);e=Ve(),i?e=Kl(e,{isLoading:void 0}):(e=ql(e,{isLoading:void 0}),n.KI&&Wl("setIsAccountLoading",{isLoading:void 0})),ze(e),c&&!("error"in c)?(e=od(e=Gl({global:e=Ve(),accountId:c.accountId,addressByChain:c.resolvedAddresses,type:"view",partial:{title:c.title}}),c.accountId),ze(e),Ve().areSettingsOpen&&t.closeSettings(),t.tryAddNotificationAccount({accountId:c.accountId}),t.afterSignIn(),i?(t.resetApiSettings(),t.requestConfetti()):t.closeAddAccountModal(),pl()):t.showError({error:null==c?void 0:c.error})})),qe("startImportViewAccount",(e=>{ze(Kl(e,{state:An.importViewAccount,error:void 0}))})),qe("closeImportViewAccount",(e=>{ze(Kl(e,{state:An.none,error:void 0}))})),qe("openAuthImportWalletModal",(e=>{e=Kl(e,{isImportModalOpen:!0}),ze(e)})),qe("closeAuthImportWalletModal",(e=>{n.bA&&Ul("closeAuthImportWalletModal"),e=Kl(e,{isImportModalOpen:void 0}),ze(e)}));const tu={},nu={};async function au(e,t){await function(e){return nu[e]||=(0,l.fm)((()=>{var t;const n=Ve();return!it(n,e)||void 0!==(null===(t=lt(n,e))||void 0===t||null===(t=t.activities)||void 0===t?void 0:t.idsMain)}),1e3,60),nu[e]}(e);let n=Ve();if(Nn(n,e,t))return;const o=[];let r=function(e,t,n){var a;const o=null===(a=lt(e,t))||void 0===a?void 0:a.activities;if(!o)return;const{byId:r,idsMain:i,idsBySlug:s}=o,l=(n?null==s?void 0:s[n]:i)||[],d=(0,c.Uk)(l,(e=>cn(r[e])));return d?r[d].timestamp:void 0}(n,e,t),i=!0,s=!1;for(;i;){const c=await(0,a.p)("fetchPastActivities",e,50,t,r);if(!c)return;if(n=Ve(),!c.length){s=!0;break}const{areTinyTransfersHidden:l}=n.settings,d=c.filter((e=>!("transaction"===e.kind&&(Jt(e)||l&&Gd(e)))));o.push(...c),i=d.length<50&&o.length<50,r=c[c.length-1].timestamp}n=Ld(n,e,t,o,s),ze(n)}function ou(t){return{gas:Bt.sl[t]+e.dqR,real:Bt.fv[t]}}function ru(e){switch(e){case"nominators":return{stake:ou("stakeNominators"),unstake:ou("unstakeNominators")};case"liquid":return{stake:ou("stakeLiquid"),unstake:ou("unstakeLiquid")};case"jetton":return{stake:ou("stakeJettons"),unstake:ou("unstakeJettons"),claim:ou("claimJettons")};case"ethena":return{stake:ou("stakeEthena"),unstake:ou("unstakeEthena"),claim:ou("unstakeEthenaLocked")}}return{stake:{gas:0n,real:0n},unstake:{gas:0n,real:0n},claim:{gas:0n,real:0n}}}function iu(e){switch(null==e?void 0:e.type){case"nominators":case"liquid":return e.end;case"ethena":return e.unlockTime;default:return}}function su(e){return"ethena"===e?"How does it work?":"Why this is safe"}function cu(e){return e.unstakeRequestAmount?"ethena"===e.type&&e.unlockTime&&e.unlockTime<=Date.now()?"readyToClaim":"unstakeRequested":lu(e)?"active":"inactive"}function lu(t){return Boolean(t.balance||t.unstakeRequestAmount||"unclaimedRewards"in t&&t.unclaimedRewards>e.dL4)}function du(e,t){switch(e.type){case"nominators":case"ethena":return!0;case"liquid":return void 0!==t&&t>e.instantAvailable;case"jetton":return!1}}function uu(e){switch(e.type){case"jetton":return e.balance+e.unclaimedRewards;case"ethena":return e.balance+e.unstakeRequestAmount}return e.balance}function mu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa.QD.Unexpected;switch(e){case Pa.KL.InvalidAmount:return"Invalid amount";case Pa.Nu.InvalidAddress:case Pa.KL.InvalidToAddress:return"Invalid address";case Pa.KL.InvalidStateInit:return"$state_init_invalid";case Pa.KL.InsufficientBalance:return"Insufficient balance";case Pa.Nu.DomainNotResolved:case Pa.KL.DomainNotResolved:return"Domain is not connected to a wallet";case Pa.KL.WalletNotInitialized:return"Encryption is not possible. The recipient is not a wallet or has no outgoing transactions.";case Pa.KL.InvalidAddressFormat:return"Invalid address format. Only URL Safe Base64 format is allowed.";case Pa.jf.PartialTransactionFailure:return"Not all transactions were sent successfully";case Pa.jf.IncorrectDeviceTime:return"The time on your device is incorrect, sync it and try again";case Pa.jf.UnsuccesfulTransfer:return"Transfer was unsuccessful. Try again later.";case Pa.jf.ConcurrentTransaction:return"Another transaction was sent from this wallet simultaneously. Please try again.";case Pa.KL.InactiveContract:return"$transfer_inactive_contract_error";case Pa.jc.HardwareOutdated:return"$ledger_outdated";case Pa.jc.BlindSigningNotEnabled:return"$hardware_blind_sign_not_enabled_internal";case Pa.jc.RejectedByUser:return"Canceled by the user";case Pa.jc.ProofTooLarge:return"The proof for signing provided by the Dapp is too large";case Pa.QD.ServerError:return window.navigator.onLine?"An error on the server side. Please try again.":"No internet connection. Please check your connection and try again.";case Pa.QD.DebugError:return"Unexpected error. Please let the support know.";case Pa.QD.Unexpected:return"Unexpected";case Pa.QD.InvalidPassword:return"Wrong password, please try again.";default:return e}}async function pu(e,t,n){let o=Ve();const r=pt(o);if(!r){const e=await(0,a.p)("verifyPassword",n??"");if(o=Ve(),!e)return ze(t(o,{error:mu(Pa.QD.InvalidPassword)})),!1;il()&&(o=jl(o)),pl()}return ze(t(o,{isLoading:!0,error:void 0,...r&&{state:e}})),!0}function fu(e,t){let n=Ve();return n=t(n,{isLoading:void 0}),n=Yl(n),ze(n),hu(e)?(gu(e,t),!1):(pl(),!0)}function hu(e){return void 0===e||!!e&&"object"==typeof e&&"error"in e}function gu(e,t){ml();const n=null==e?void 0:e.error;let a=Ve();a=t(a,{isLoading:void 0}),function(e){const t=e;return t===Pa.QD.InvalidPassword||t===Pa.jc.HardwareOutdated||t===Pa.jc.BlindSigningNotEnabled||t===Pa.jc.RejectedByUser}(n)?(a=t(a,{error:mu(n)}),ze(a)):(ze(a),Ke().showError({error:n}))}async function vu(e,t,n,o,r){let i=Ve();const s=pt(i,e);if(!s){const e=!o||await(0,a.p)("verifyPassword",r??"");if(i=Ve(),!e)return ze(n(i,{error:mu(Pa.QD.InvalidPassword)})),!1;il()&&(i=jl(i))}return ze(n(i,{isLoading:!0,error:void 0,...s&&{state:t}})),!0}function wu(e,t){return hu(e)?(gu(e,t),!1):(pl(),!0)}function yu(e){var t,n;return(null===(t=e.sseOptions)||void 0===t?void 0:t.appClientId)??(null===(n=e.sse)||void 0===n?void 0:n.appClientId)??"jsbridge"}function bu(e,t){let n=Ve();const{promiseId:a}=e(n)??{};a&&Hl("cancelDappRequest",a,"Canceled by the user"),il()&&(n=Yl(n)),n=t(n),ze(n)}async function Eu(t,a,o,r,i,s){let c=Ve();const{accountId:d}=t,{promiseId:u}=a(c);if(await qd(c,d),u&&!n.bA){o();const t=gi()?Xs:Qs;await(0,l.v7)(t+e.xB5)}n.bA&&!await(0,l.fm)((()=>r(Ve())),300,5)||(c=Ve(),c=i(c),c=s(c),ze(c))}function ku(e,t){return"connect"===t&&!!e.dappConnectRequest||"sendTransaction"===t&&e.currentDappTransfer.state!==In.None||"signData"===t&&e.currentDappSignData.state!==_n.None}function Cu(e){return Su(e)?function(e){const t=Au(e),n={isGasless:!0,excessFee:Tu(e),shouldShowOurFee:Bu(e)};if(void 0===e.networkFee||void 0===e.dieselFee||void 0===t)return n;const a="0"===n.excessFee,o="stars-fee"===e.dieselStatus?"stars":"token",r={[o]:e.dieselFee,native:t.toString()};if(n.fullFee={precision:a?"exact":"lessThan",terms:Iu(r,e.ourFee??"0",!1),networkTerms:r},n.realFee=n.fullFee,void 0!==e.realNetworkFee){const r=(0,Ft.z)(e.networkFee).sub(t),c=(0,Ft.z)(e.dieselFee).div(r).mul(e.realNetworkFee),l=(i=e.dieselFee,s=c,(0,Ft.z)(i).lt(s)?i:s),d=function(e,t){return(0,Ft.z)(0).gt(t)?0:t}(0,(0,Ft.z)(e.realNetworkFee).sub(r)),u={[o]:l.toString(),native:d.toString()};n.realFee={precision:a?"exact":"approximate",terms:Iu(u,e.ourFee??"0",!1),networkTerms:u}}var i,s;return n}(e):function(e){const t={isGasless:!1,excessFee:Tu(e),shouldShowOurFee:Bu(e)},n=Qn(e.tokenInSlug),a="0"===t.excessFee;if(void 0!==e.networkFee){const o={native:e.networkFee};t.fullFee={precision:a?"exact":"lessThan",terms:Iu(o,e.ourFee??"0",n),networkTerms:o},t.realFee=t.fullFee}if(void 0!==e.realNetworkFee){const o={native:e.realNetworkFee};t.realFee={precision:a?"exact":"approximate",terms:Iu(o,e.ourFee??"0",n),networkTerms:o}}return t}(e)}function Nu(t){let{swapType:n,tokenInBalance:a,tokenIn:o,fullNetworkFee:r,ourFeePercent:i}=t;if(n===Pn.CrosschainToWallet||void 0===a)return;let s=a;if(r){if(!o)return;s-=(0,Pt.UH)(r.token??"0",o.decimals),Qn(o.slug)&&(s-=(0,Pt.UH)(r.native??"0",o.decimals))}return i??=n===Pn.OnChain?e.YDh:0,s=(0,ua.fC)(s,1+i/100),(0,ua._O)(s,0n)}function Su(e){const t=Qn(e.tokenInSlug),n=Au(e),a=void 0!==e.networkFee&&void 0!==n&&n.lt(e.networkFee);return e.swapType===Pn.OnChain&&a&&!t&&Boolean(e.dieselStatus)&&"not-available"!==e.dieselStatus}function Au(e){var t;if(!e.tokenInSlug||void 0===e.nativeTokenInBalance)return;const n=null===(t=Yn(Zn(e.tokenInSlug)))||void 0===t?void 0:t.nativeToken;return n?(0,Pt.CF)(e.nativeTokenInBalance,n.decimals):void 0}function Tu(e){let{networkFee:t,realNetworkFee:n}=e;return void 0!==t&&void 0!==n?(0,Ft.z)(t).sub(n).toString():void 0}function Iu(e,t,n){return{...e,native:n?(0,Ft.z)(e.native??"0").add(t).toString():e.native,token:n?e.token:(0,Ft.z)(e.token??"0").add(t).toString()}}function Bu(e){return e.swapType===Pn.OnChain}qe("fetchPastActivities",((e,t,n)=>{let{slug:a,shouldLoadWithBudget:o}=n;const r=e.currentAccountId,i=`${r} ${a??"__main__"}`;tu[i]||=(0,l.nF)(au.bind(void 0,r,a),200,!0),tu[i](),o&&tu[i]()})),qe("setIsBackupRequired",((e,t,n)=>{let{isMnemonicChecked:a}=n;const{isBackupRequired:o}=ct(e)??{};ze(Jl(e,{isBackupRequired:a?void 0:o}))})),qe("submitSignature",(async(e,t,n)=>{const{password:o}=n,{promiseId:r}=e.currentSignature;await(0,a.p)("verifyPassword",o)?(await(0,a.p)("confirmDappRequest",r,o),ze(yd(Ve(),{isSigned:!0}))):ze(yd(Ve(),{error:"Wrong password, please try again."}))})),qe("clearSignatureError",(e=>{ze(yd(e,{error:void 0}))})),qe("cancelSignature",(e=>{const{promiseId:t}=e.currentSignature||{};t&&(0,a.p)("cancelDappRequest",t,"Canceled by the user"),ze({...e,currentSignature:void 0})})),qe("addToken",((e,t,n)=>{var a,o,r;let{token:i}=n;null!==(a=e.tokenInfo)&&void 0!==a&&null!==(a=a.bySlug)&&void 0!==a&&a[i.slug]||(e=eu(e,{[i.slug]:{name:i.name,symbol:i.symbol,slug:i.slug,decimals:i.decimals,chain:i.chain,image:i.image,keywords:i.keywords,price:i.price??0,priceUsd:i.priceUsd??0,percentChange24h:i.change24h??0}}));const{balances:s}=ct(e)??{};null!=s&&s.bySlug[i.slug]||(e=Jl(e,{balances:{...s,bySlug:{...null==s?void 0:s.bySlug,[i.slug]:0n}}}));const l=ut(e),d=ut(e=nd(e,{importedSlugs:[...(null==l?void 0:l.importedSlugs)??[],i.slug]}))??{};return nd(e,{...d,orderedSlugs:[...d.orderedSlugs??[],i.slug],alwaysShownSlugs:(0,c.Am)([...d.alwaysShownSlugs??[],i.slug]),alwaysHiddenSlugs:null===(o=d.alwaysHiddenSlugs)||void 0===o?void 0:o.filter((e=>e!==i.slug)),deletedSlugs:null===(r=d.deletedSlugs)||void 0===r?void 0:r.filter((e=>e!==i.slug))})})),qe("importToken",(async(e,t,n)=>{var o,r;let{address:i}=n;const{currentAccountId:s}=e;e=ed(e,{importToken:{isLoading:!0,token:void 0}}),ze(e);const c=await(0,a.p)("buildTokenSlug","ton",i);let d=null===(o=(e=Ve()).tokenInfo.bySlug)||void 0===o?void 0:o[c];if(!d){if(d=await(0,a.p)("fetchToken",e.currentAccountId,i),await(0,l.v7)(250),e=Ve(),!d)return e=ed(e,{importToken:{isLoading:!1,token:void 0}}),void ze(e);{const t={...d,price:0,priceUsd:0,percentChange24h:0};e=eu(e,{[t.slug]:t}),ze(e)}}const u=(null===(r=lt(e,s))||void 0===r||null===(r=r.balances)||void 0===r?void 0:r.bySlug)??{},m=!(d.slug in u),p=ta(d);e=ed(e=Ve(),{importToken:{isLoading:!1,token:p}}),m&&(e=function(e,t,n){var a;return Zl(e,t,{balances:{bySlug:{...null===(a=lt(e,t))||void 0===a||null===(a=a.balances)||void 0===a?void 0:a.bySlug,[n]:0n}}})}(e,e.currentAccountId,d.slug)),ze(e)})),qe("resetImportToken",(e=>{e=ed(e,{importToken:{isLoading:!1,token:void 0}}),ze(e)})),qe("verifyHardwareAddress",(async(e,t)=>{const n=e.currentAccountId,a=await Promise.all([i.e(800),i.e(909),i.e(629),i.e(803)]).then(i.bind(i,50243));if(await a.reconnectLedger())try{t.showDialog({title:"Ledger",message:"$ledger_verify_address_on_device"}),await a.verifyAddress(n)}catch(e){t.showError({error:e})}else t.showError({error:"$ledger_not_ready"})})),qe("setActiveContentTab",((e,t,n)=>{let{tab:a}=n;return Jl(e,{activeContentTab:a})})),qe("addSwapToken",((e,t,n)=>{let{token:a}=n;if(a.slug in e.swapTokenInfo.bySlug)return;const o={name:a.name,symbol:a.symbol,chain:a.chain,slug:a.slug,decimals:a.decimals,image:a.image,tokenAddress:a.tokenAddress,keywords:a.keywords,isPopular:!1,price:0,priceUsd:0};ze({...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...e.swapTokenInfo.bySlug,[o.slug]:o}}})})),qe("apiUpdateWalletVersions",((e,t,n)=>{var a;const{accountId:o,versions:r,currentVersion:i}=n;e={...e,walletVersions:{...e.walletVersions,currentVersion:i,byId:{...null===(a=e.walletVersions)||void 0===a?void 0:a.byId,[o]:r}}},ze(e)})),qe("startStaking",((e,t,a)=>{const o=e.currentStaking.state!==Un.None,{tokenSlug:r}=a||{};if(r){const t=Ta(e,e.currentAccountId)[r];t&&(e=Ed(e=Ve(),e.currentAccountId,{stakingId:t.id}),ze(e),e=Ve())}if(n.bA&&!o)return void Ul("startStaking",a);const i=Un.StakeInitial;ze(bd(e,{state:i,error:void 0}))})),qe("startUnstaking",((e,t,a)=>{const o=e.currentStaking.state!==Un.None,{stakingId:r}=a||{};if(r&&(e=Ed(e=Ve(),e.currentAccountId,{stakingId:r}),ze(e),e=Ve()),n.bA&&!o)return void Ul("startUnstaking",a);const i=Un.UnstakeInitial;ze(bd(e,{state:i,error:void 0}))})),qe("fetchStakingFee",(async(e,t,n)=>{const{amount:o}=n,{currentAccountId:r}=e;if(!r)return;const i=Ia(e,r),s=await(0,a.p)("checkStakeDraft",r,o,i);s&&!("error"in s)&&(e=bd(e=Ve(),{fee:s.fee}),ze(e))})),qe("submitStakingInitial",(async(e,t,n)=>{const{isUnstaking:o,amount:r}=n??{},{currentAccountId:i}=e;if(!i)return;ze(bd(e,{isLoading:!0,error:void 0}));const s=Ia(e,i);if(o){const t=await(0,a.p)("checkUnstakeDraft",i,r,s);e=bd(e=Ve(),{isLoading:!1}),t&&("error"in t?e=bd(e,{error:t.error}):(e=pt(e)?bd(e=Kd(e),{state:Un.UnstakeConnectHardware}):bd(e,{state:Un.UnstakePassword}),e=bd(e,{fee:t.fee,amount:r,error:void 0,tokenAmount:t.tokenAmount})))}else{const t=await(0,a.p)("checkStakeDraft",i,r,s);e=bd(e=Ve(),{isLoading:!1}),t&&("error"in t?e=bd(e,{error:t.error}):(e=pt(e)?bd(e=Kd(e),{state:Un.StakeConnectHardware}):bd(e,{state:Un.StakePassword}),e=bd(e,{fee:t.fee,amount:r,error:void 0})))}ze(e)})),qe("submitStaking",(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{password:o,isUnstaking:r}=n,{amount:i,tokenAmount:s}=e.currentStaking,{currentAccountId:c}=e;if(!await pu(r?Un.UnstakeConfirmHardware:Un.StakeConfirmHardware,bd,o))return;const l=Ia(e=Ve(),c);if(r){const t="nominators"===l.type?l.balance:s;if(!fu(await(0,a.p)("submitUnstake",e.currentAccountId,o,t,l,ru(l.type).unstake.real),bd))return;const n=du(l,t);e=bd(e=Zl(e=Ve(),c,{isLongUnstakeRequested:n}),{state:Un.UnstakeComplete}),ze(e)}else{if(!fu(await(0,a.p)("submitStake",e.currentAccountId,o,i,l,ru(l.type).stake.real),bd))return;e=bd(e=Ve(),{state:Un.StakeComplete}),ze(e)}})),qe("clearStakingError",(e=>{ze(bd(e,{error:void 0}))})),qe("cancelStaking",(e=>{il()&&(e=Yl(e)),e=function(e){return{...e,currentStaking:{state:Un.None}}}(e),ze(e)})),qe("setStakingScreen",((e,t,n)=>{const{state:a}=n;ze(bd(e,{state:a}))})),qe("fetchStakingHistory",(async e=>{const t=await(0,a.p)("getStakingHistory",e.currentAccountId);t&&(e=Zl(e=Ve(),e.currentAccountId,{stakingHistory:t},!0),ze(e))})),qe("openAnyAccountStakingInfo",(async(e,t,a)=>{let{accountId:o,network:r,stakingId:i}=a;n.bA?Ul("openAnyAccountStakingInfo",{accountId:o,network:r,stakingId:i}):(await Promise.all([sc(),qd(e,o,r)]),t.changeCurrentStaking({stakingId:i}),t.openStakingInfo())})),qe("openStakingInfo",(e=>{n.bA?Ul("openStakingInfo"):(e={...e,isStakingInfoModalOpen:!0},ze(e))})),qe("closeStakingInfo",(e=>{e={...e,isStakingInfoModalOpen:void 0},ze(e)})),qe("changeCurrentStaking",(async(e,t,a)=>{let{stakingId:o,shouldReopenModal:r}=a;n.bA&&r?Ul("changeCurrentStaking",{stakingId:o,shouldReopenModal:r}):(r&&await(0,l.v7)(50),e=Ed(e=Ve(),e.currentAccountId,{stakingId:o}),ze(e),r&&t.openStakingInfoOrStart())})),qe("startStakingClaim",((e,t,a)=>{const{stakingId:o}=a||{};o&&(e=Ed(e=Ve(),e.currentAccountId,{stakingId:o}),ze(e),e=Ve()),n.bA?Ul("startStakingClaim",a):(e=pt(e)?bd(e=Kd(e),{state:Un.ClaimConnectHardware}):bd(e,{state:Un.ClaimPassword}),ze(e))})),qe("cancelStakingClaim",(e=>{e=bd(e,{state:Un.None}),ze(e)})),qe("submitStakingClaim",(async function(e,t){var o;let{password:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.currentAccountId;if(!await pu(Un.ClaimConfirmHardware,bd,r))return;if(n.bA)return void Ul("submitStakingClaim",{password:r});const s=Ia(e=Ve(),i),c="ethena"===s.type;fu(await(0,a.p)("submitStakingClaimOrUnlock",i,r,s,null===(o=ru(s.type).claim)||void 0===o?void 0:o.real),bd)&&(e=bd(e=Ve(),{state:c?Un.ClaimComplete:Un.None}),ze(e),n.KI&&Wl("setStakingScreen",{state:c?Un.ClaimComplete:Un.None}))})),qe("openStakingInfoOrStart",((e,t)=>{e.currentAccountId&&(lu(Ia(e,e.currentAccountId))?t.openStakingInfo():t.startStaking())})),qe("submitDappConnectRequestConfirm",(async(e,t,n)=>{let{password:o,accountId:r}=n;const{promiseId:i,permissions:s,proof:c}=e.dappConnectRequest;if(!await vu(r,Fn.ConfirmHardware,kd,!(null==s||!s.isPasswordRequired),o))return;const d=c?await(0,a.p)("signTonProof",r,c,o):{signature:void 0};wu(d,kd)&&(t.switchAccount({accountId:r}),await Hl("confirmDappRequestConnect",i,{accountId:r,proofSignature:d.signature}),e=Cd(e=Ve()),ze(e),await(0,l.v7)(250),t.getDapps())})),qe("cancelDappConnectRequestConfirm",(e=>{n.bA&&Ul("clearDappConnectRequestConfirm"),bu((e=>e.dappConnectRequest),Cd)})),qe("clearDappConnectRequestConfirm",(e=>Cd(e))),qe("setDappConnectRequestState",((e,t,n)=>{let{state:a}=n;ze(kd(e,{state:a}))})),qe("cancelDappTransfer",(e=>{n.bA&&Ul("clearDappTransfer"),bu((e=>e.currentDappTransfer),Sd)})),qe("clearDappTransfer",(e=>Sd(e))),qe("submitDappTransfer",(async function(e,t){let{password:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{promiseId:o}=e.currentDappTransfer;if(!o)return;if(!await vu(e.currentAccountId,In.ConfirmHardware,Nd,!0,n))return;e=Ve();const{transactions:r,validUntil:i,vestingAddress:s}=e.currentDappTransfer,c=e.currentAccountId,l=await(0,a.p)("signTransfers",c,r,{password:n,validUntil:i,vestingAddress:s});wu(l,Nd)&&await Hl("confirmDappRequestSendTransaction",o,l)})),qe("submitDappSignData",(async function(e,t){let{password:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{promiseId:o}=e.currentDappSignData;if(!o)return;if(!await vu(e.currentAccountId,0,Ad,!0,n))return;e=Ve();const{dapp:r,payloadToSign:i}=e.currentDappSignData,s=e.currentAccountId,c=await(0,a.p)("signData",s,r.url,i,n);wu(c,Ad)&&await Hl("confirmDappRequestSignData",o,c)})),qe("getDapps",(async(e,t)=>{const{currentAccountId:n}=e;let o=await(0,a.p)("getDapps",n);if(!o)return;const r=o.find((e=>{let{url:t}=e;return!t}));r&&(t.deleteDapp({url:r.url,uniqueId:yu(r)}),o=o.filter((e=>{let{url:t}=e;return t}))),e=function(e,t){return Jl(e,{dapps:t})}(e=Ve(),o),ze(e)})),qe("deleteAllDapps",(e=>{const{currentAccountId:t}=e;(0,a.p)("deleteAllDapps",t),e=function(e){return Jl(e,{dapps:void 0,dappLastOpenedDatesByUrl:void 0})}(e=Ve()),ze(e)})),qe("deleteDapp",((e,t,o)=>{let{url:r,uniqueId:i}=o;const{currentAccountId:s}=e;n.bA?Ul("deleteDapp",{url:r,uniqueId:i}):(0,a.p)("deleteDapp",s,r,i),e=function(e,t){const{dapps:n,dappLastOpenedDatesByUrl:a}=ct(e)||{};return a&&delete a[t],Jl(e,{dapps:n.filter((e=>e.url!==t)),dappLastOpenedDatesByUrl:a})}(e=Ve(),r),ze(e)})),qe("cancelDappSignData",(e=>{n.bA&&Ul("clearDappSignData"),bu((e=>e.currentDappSignData),Td)})),qe("clearDappSignData",(e=>Td(e))),qe("apiUpdateDappConnect",(async(e,t,a)=>{let{accountId:o,dapp:r,permissions:i,promiseId:s,proof:c}=a;if(n.bA){if(!await(0,l.fm)((()=>Boolean(Ve().dappConnectRequest)),300,5))return;e=Ve()}e=kd(e,{state:Fn.Info,promiseId:s,accountId:o,dapp:r,permissions:{isAddressRequired:i.address,isPasswordRequired:i.proof},proof:c}),ze(e),t.addSiteToBrowserHistory({url:r.url})})),qe("apiUpdateDappSendTransaction",(async(e,t,n)=>{const{promiseId:a,transactions:o,emulation:r,dapp:i,validUntil:s,vestingAddress:c}=n;await Eu(n,(e=>e.currentDappTransfer),t.closeDappTransfer,(e=>e.currentDappTransfer.state!==In.None),Sd,(e=>Nd(e,{state:pt(e)&&o.length>1?In.WarningHardware:In.Initial,promiseId:a,transactions:o,emulation:r,dapp:i,validUntil:s,vestingAddress:c})))})),qe("apiUpdateDappSignData",(async(e,t,n)=>{const{promiseId:a,dapp:o,payloadToSign:r}=n;await Eu(n,(e=>e.currentDappSignData),t.closeDappSignData,(e=>e.currentDappSignData.state!==_n.None),Td,(e=>Ad(e,{state:_n.Initial,promiseId:a,dapp:o,payloadToSign:r})))})),qe("apiUpdateDappLoading",(async(e,t,a)=>{let{connectionType:o,isSse:r,accountId:i}=a;if(n.bA){if(!await(0,l.fm)((()=>ku(Ve(),o)),300,5))return;e=Ve()}!n.bA&&i&&t.switchAccount({accountId:i}),"connect"===o?e=kd(e,{state:Fn.Info,isSse:r}):"sendTransaction"===o?e=Nd(e,{state:In.Initial,isSse:r}):"signData"===o&&(e=Ad(e,{state:_n.Initial,isSse:r})),ze(e)})),qe("apiUpdateDappCloseLoading",(async(e,t,a)=>{var o;let{connectionType:r}=a;if(n.bA){if(!await(0,l.fm)((()=>ku(Ve(),r)),300,5))return;e=Ve()}"connect"===r&&(null===(o=e.dappConnectRequest)||void 0===o?void 0:o.state)===Fn.Info?e=Cd(e):"sendTransaction"===r&&e.currentDappTransfer.state===In.Initial?e=Sd(e):"signData"===r&&e.currentDappSignData.state===_n.Initial&&(e=Td(e)),ze(e)})),qe("loadExploreSites",(async(e,t,n)=>{let{isLandscape:o}=n;const r=await(0,a.p)("loadExploreSites",{isLandscape:o});Vl(r,(e=Ve()).exploreData)||(e={...e,exploreData:r},ze(e))}));const _u={},xu=9e5,Du={"Insufficient liquidity":Mn.NotEnoughLiquidity,"Tokens must be different":Mn.InvalidPair,"Asset not found":Mn.InvalidPair,"Pair not found":Mn.InvalidPair,"Too small amount":Mn.TooSmallAmount};function Lu(e){var t,n;const{currentDexLabel:a,amountIn:o,amountOut:r,amountOutMin:i,slippage:s,networkFee:c,swapFee:l,ourFee:d,dieselFee:u,realNetworkFee:m,estimates:p}=e.currentSwap,f=sa(e),h=ca(e),g=Qd(f),v=Qd(h),w=o,y=r,b=it(e,e.currentAccountId),E=null===(t=Yn(Zn(f.slug)))||void 0===t?void 0:t.nativeToken,k=E?Ht(e,E.slug):void 0,C=la(e);return{from:g,to:v,fromAmount:w,toAmount:y,toMinAmount:i,slippage:s,fromAddress:(null==b?void 0:b.addressByChain[f.chain])||(null==b?void 0:b.addressByChain.ton),shouldTryDiesel:Su({...e.currentSwap,swapType:C,nativeTokenInBalance:k}),dexLabel:a,networkFee:m??c,swapFee:l,ourFee:d,dieselFee:u,routes:null==p||null===(n=p[0])||void 0===n?void 0:n.routes}}qe("startSwap",(async(e,t,a)=>{const o=e.currentSwap.state!==Ln.None;if(n.KI&&o&&(Wl("cancelSwap"),await(0,l.v7)(100),e=Ve()),n.bA)return void Ul("startSwap",a);const{state:r}=a??{},i=gi(),s=r||(i?Ln.Initial:Ln.None);e=ud(e,{...a,state:s,swapId:(0,we.A)(),inputSource:On.In}),ze(e),i||t.setLandscapeActionsActiveTabIndex({index:Vn.Swap})})),qe("setDefaultSwapParams",((t,n,a)=>{let{tokenInSlug:o,tokenOutSlug:r}=a??{};const{withResetAmount:i}=a??{};o=o||e.JhS,r=r||e.rKC,(t.currentSwap.tokenInSlug!==o||t.currentSwap.tokenOutSlug!==r||i)&&(t=ud(t,{tokenInSlug:o,tokenOutSlug:r,inputSource:On.In,...i?{amountIn:void 0,amountOut:void 0}:void 0}),ze(t))})),qe("cancelSwap",(function(e,t){let{shouldReset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n){const{tokenInSlug:t,tokenOutSlug:n}=e.currentSwap;return e=ud(e=md(e),{tokenInSlug:t,tokenOutSlug:n,amountIn:void 0,amountOut:void 0,inputSource:On.In}),void ze(e)}il()&&(e=Yl(e)),e=ud(e,{state:Ln.None,swapId:void 0}),ze(e)})),qe("submitSwap",(async(e,t,n)=>{let{password:o}=n;if(!await pu(0,ud,o))return;ze(ud(Ve(),{shouldResetOnClose:void 0}));const r=Lu(e),i=await(0,a.p)("swapBuildTransfer",e.currentAccountId,o,r);if(!fu(i,ud))return void ze(ud(Ve(),{shouldResetOnClose:!0}));const s={id:i.id,timestamp:Date.now(),status:"pendingTrusted",from:r.from,fromAmount:r.fromAmount,to:r.to,toAmount:r.toAmount,networkFee:e.currentSwap.realNetworkFee??e.currentSwap.networkFee,swapFee:e.currentSwap.swapFee,ourFee:e.currentSwap.ourFee,hashes:[]};ze(ud(Ve(),{tokenInSlug:void 0,tokenOutSlug:void 0,amountIn:void 0,amountOut:void 0,state:Ln.Complete,shouldResetOnClose:!0}));const c=await(0,a.p)("swapSubmit",e.currentAccountId,o,i.transfers,s,r.shouldTryDiesel);if(hu(c))return gu(c,ud),void ze(ud(Ve(),{shouldResetOnClose:!0}));ze(ud(Ve(),{activityId:c.activityId}))})),qe("submitSwapCex",(async(e,t,n)=>{let{password:o}=n;if(!await pu(0,ud,o))return;e=Ve(),ze(ud(e,{shouldResetOnClose:void 0}));const r=Ct(e,e.currentAccountId),i=rt(e),s=function(e){var t;return Object.keys((null===(t=it(e,e.currentAccountId))||void 0===t?void 0:t.addressByChain)||{ton:!0})}(e),d=e.swapTokenInfo.bySlug[e.currentSwap.tokenInSlug],u=e.swapTokenInfo.bySlug[e.currentSwap.tokenOutSlug],m="ton"===d.chain,p=r&&"tron"===d.chain,f=m||p,h=r?s.includes(d.chain):"ton"===d.chain,g=i.addressByChain.ton,v=(null==i?void 0:i.addressByChain[u.chain])??e.currentSwap.toAddress,w=Lu(e),y={...(0,c.Up)(w,["from","fromAmount","to","swapFee","networkFee"]),fromAddress:g,toAddress:v},b=await(0,a.p)("swapCexCreateTransaction",e.currentAccountId,o,y);if(fu(b,ud)){if(e=ud(e=Ve(),{state:h?Ln.Complete:Ln.WaitTokens,activityId:b.activity.id,payinAddress:b.swap.cex.payinAddress,payoutAddress:b.swap.cex.payoutAddress,payinExtraId:b.swap.cex.payinExtraId,shouldResetOnClose:!0}),ze(e),f){const t={password:o,accountId:e.currentAccountId,fee:(0,Pt.UH)(b.swap.networkFee,d.decimals),amount:(0,Pt.UH)(b.swap.fromAmount,d.decimals),toAddress:b.swap.cex.payinAddress,tokenAddress:r?d.tokenAddress:void 0};let n;if(await(0,l.v7)(5e3),m?n=await(0,a.p)("swapCexSubmit","ton",t,b.swap.id):p&&(n=await(0,a.p)("swapCexSubmit","tron",t,b.swap.id)),hu(n))return gu(n,ud),void ze(ud(Ve(),{shouldResetOnClose:!0}))}}else ze(ud(Ve(),{shouldResetOnClose:!0}))})),qe("switchSwapTokens",(e=>{const{tokenInSlug:t,tokenOutSlug:n,amountIn:a,amountOut:o}=e.currentSwap;e=ud(e,{isMaxAmount:!1,amountIn:o,amountOut:a,tokenInSlug:n,tokenOutSlug:t,inputSource:On.In}),ze(e)})),qe("setSwapTokenIn",((e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,c=e.swapTokenInfo.bySlug[a],l=o?(0,Pt.QQ)(o,c.decimals):o,d=a===s?i:s,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=r&&u?(0,Pt.QQ)(r,u.decimals):r;e=ud(e,{amountIn:"0"===l?void 0:l,amountOut:"0"===m?void 0:m,tokenInSlug:a,tokenOutSlug:d}),ze(e)})),qe("setSwapTokenOut",((e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,c=e.swapTokenInfo.bySlug[a],l=r?(0,Pt.QQ)(r,c.decimals):r,d=a===i?s:i,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=o&&u?(0,Pt.QQ)(o,u.decimals):o;e=ud(e,{amountOut:"0"===l?void 0:l,amountIn:"0"===m?void 0:m,tokenOutSlug:a,tokenInSlug:d}),ze(e)})),qe("setSwapAmountIn",((e,t,n)=>{let{amount:a,isMaxAmount:o=!1}=n;e=ud(e,{amountIn:a,isMaxAmount:o,inputSource:On.In}),ze(e)})),qe("setSwapAmountOut",((e,t,n)=>{let{amount:a}=n;e=ud(e,{amountOut:a,isMaxAmount:!1,inputSource:On.Out}),ze(e)})),qe("setSlippage",((e,t,n)=>{let{slippage:a}=n;return ud(e,{slippage:a})})),qe("estimateSwap",(async()=>{await async function(){const t=Ve();if(!id(t)&&!Ou)try{Ou=!0;const n=sd.bind(void 0,t),o=await(async(t,n)=>{const{tokenInSlug:o,tokenOutSlug:r}=t.currentSwap,i=(!o||Xn(o,!0))&&(!r||Xn(r,!0))&&!(!o&&!r),s=3===t.swapVersion&&i;if(s!==Boolean(t.currentSwap.shouldShowAllPairs)&&(t=ud(t,{shouldShowAllPairs:s||void 0}),ze(t)),o&&!s){if(await async function(t){var n;await(0,l.fm)((()=>{const{swapTokenInfo:{isLoaded:e,bySlug:n}}=Ve();return!(!e&&!n[t])}),500,100);let o=Ve();const r=o.swapTokenInfo.bySlug[t];if(!r)return;const i=Qd(r),s=_u[t];if(s&&Date.now()-s.timestamp<=xu)return;const c=await(0,a.p)("swapGetPairs",i);let d;if(o=Ve(),c){const n="ton"===r.chain;d=c.reduce(((t,a)=>{const o=Xn(a.slug,!0),i=Number(n)+(o?1:0),s=!(2===i||1===i&&[r.slug,a.slug].includes(e.Tu9.slug));return t[a.slug]={...s&&{isMultichain:s},...a.isReverseProhibited&&{isReverseProhibited:a.isReverseProhibited}},t}),{}),_u[t]={timestamp:Date.now()}}else d={};ze({...o,swapPairs:{bySlug:{...null===(n=o.swapPairs)||void 0===n?void 0:n.bySlug,[t]:d}}})}(o),n())return;t=Ve()}var d;if(o&&r&&!(null===(d=t.swapPairs)||void 0===d||null===(d=d.bySlug)||void 0===d||null===(d=d[o])||void 0===d?void 0:d[r])&&!s)return{...ld(t),errorType:Mn.InvalidPair};return cd(t)?la(t)===Pn.OnChain?async function(t){const n=t.swapTokenInfo.bySlug[t.currentSwap.tokenInSlug],o=t.swapTokenInfo.bySlug[t.currentSwap.tokenOutSlug],r=jn(Zn(n.slug)).nativeToken,i=n.slug===e.Tu9.slug?n.symbol:n.tokenAddress,s=o.slug===e.Tu9.slug?o.symbol:o.tokenAddress,{fromAmount:l,isFromAmountMax:d}=function(e){const t=sa(e);let n=e.currentSwap.amountIn??"0",a=!1;if(e.currentSwap.amountIn&&la(e)===Pn.OnChain&&e.currentSwap.inputSource===On.In&&e.currentSwap.isMaxAmount){const o=Ht(e,t.slug);n=(0,Pt.nI)(o,t.decimals),a=!0}return{fromAmount:n,isFromAmountMax:a}}(t),u=t.currentSwap.amountOut??"0",m=rt(t).addressByChain.ton,p=t.currentSwap.inputSource===On.In?{fromAmount:l}:{toAmount:u},f=$t(t),h=f<(0,Pt.UH)(t.currentSwap.networkFee??"0",r.decimals),g=await(0,a.p)("swapEstimate",t.currentAccountId,{...p,from:i,to:s,slippage:t.currentSwap.slippage,fromAddress:m,shouldTryDiesel:h,isFromAmountMax:d,toncoinBalance:(0,Pt.nI)(f??0n,e.Tu9.decimals)});if(t=Ve(),!g||"error"in g){const e=Du[null==g?void 0:g.error]??Mn.UnexpectedError;return{...ld(t),errorType:e}}const v="0"===g.toAmount&&h?Mn.NotEnoughForFee:void 0,w=function(e){return[{...(0,c.Up)(e,["fromAmount","toAmount","toMinAmount","impact","dexLabel","networkFee","realNetworkFee","swapFee","swapFeePercent","ourFee","dieselFee","networkFee","routes"])},...e.other??[]].sort(((e,t)=>e.dexLabel.localeCompare(t.dexLabel)))}(g),y=function(e,t,n){var a;if(0===t.length)throw new Error("Unexpected empty `newEstimates` array");const{tokenInSlug:o,currentDexLabel:r,isDexLabelChanged:i}=e.currentSwap;if(r&&i){const e=t.find((e=>{let{dexLabel:t}=e;return t===r}));if(e)return e}const s=o?e.swapTokenInfo.bySlug[o]:void 0,c=o?Ht(e,o):void 0,l=o?null===(a=Yn(Zn(o)))||void 0===a?void 0:a.nativeToken:void 0,d=l&&Ht(e,l.slug);let u=t.filter((e=>function(e){var t;if(!e.tokenIn||void 0===e.nativeTokenInBalance)return;const n=null===(t=Yn(Zn(e.tokenIn.slug)))||void 0===t?void 0:t.nativeToken;if(!n)return;const a=(0,Pt.UH)(e.variant.networkFee,n.decimals);if(e.nativeTokenInBalance>=a)return!0;if(e.variant.dieselFee){if(void 0===e.tokenInBalance)return;const t=(0,Pt.UH)(e.variant.dieselFee,e.tokenIn.decimals);if(e.tokenInBalance>=t)return!0}return!1}({variant:e,tokenIn:s,tokenInBalance:c,nativeTokenInBalance:d})));return 0===u.length&&(u=t),u.find((e=>{let{dexLabel:t}=e;return t===n}))??u[0]}(t,w,g.dexLabel);return{...ld(t),...t.currentSwap.inputSource===On.In?{amountOut:y.toAmount}:{amountIn:y.fromAmount},...d?{amountIn:y.fromAmount}:void 0,bestRateDexLabel:g.dexLabel,amountOutMin:y.toMinAmount,priceImpact:y.impact,errorType:v,dieselStatus:g.dieselStatus,estimates:w,currentDexLabel:y.dexLabel,networkFee:y.networkFee,realNetworkFee:y.realNetworkFee,swapFee:y.swapFee,swapFeePercent:y.swapFeePercent,ourFee:y.ourFee,ourFeePercent:g.ourFeePercent,dieselFee:y.dieselFee}}(t):async function(t,n){var o;const r=t.swapTokenInfo.bySlug[t.currentSwap.tokenInSlug],i=t.swapTokenInfo.bySlug[t.currentSwap.tokenOutSlug],s=Qd(r),c=Qd(i),l=t.currentSwap.amountIn??"0",d=la(t),u=await(0,a.p)("swapCexEstimate",{fromAmount:l,from:s,to:c});if(n())return;if(t=Ve(),!u)return{...ld(t),errorType:window.navigator.onLine?Mn.InvalidPair:Mn.UnexpectedError};if("error"in u){const{error:e}=u;return e.includes("requests limit")?"rateLimited":{...ld(t),errorType:Mn.UnexpectedError}}const m=null===(o=t.accounts)||void 0===o?void 0:o.byId[t.currentAccountId];let p,f;if(d===Pn.CrosschainFromWallet){if("ton"!==r.chain&&"tron"!==r.chain)throw new Error(`Unexpected chain ${r.chain}`);const n={ton:m.addressByChain.ton,tron:e.jt9}[r.chain],o=await(0,a.p)("checkTransactionDraft",r.chain,{accountId:t.currentAccountId,toAddress:n,tokenAddress:r.tokenAddress});o&&({networkFee:p,realNetworkFee:f}=function(e,t){const n=Jn(t);let a,o;return void 0!==(null==e?void 0:e.fee)&&(a=(0,Pt.nI)(e.fee,n.decimals)),void 0!==(null==e?void 0:e.realFee)&&(o=(0,Pt.nI)(e.realFee,n.decimals)),{networkFee:a,realNetworkFee:o}}(o,r.chain))}let h=u.fromAmount;if(t.currentSwap.isMaxAmount&&p){const e=Ht(t,r.slug)-(0,Pt.UH)(p,r.decimals);h=(0,Pt.nI)(e,r.decimals)}return{...ld(t),amountOut:"0"===u.toAmount?void 0:u.toAmount,amountIn:h,limits:{fromMin:u.fromMin,fromMax:u.fromMax},swapFee:u.swapFee,networkFee:p,realNetworkFee:f,ourFee:"0",ourFeePercent:0,dieselStatus:"not-available",amountOutMin:u.toAmount,errorType:(0,Ft.z)(l).lt(u.fromMin)?Mn.ChangellyMinSwap:(0,Ft.z)(l).gt(u.fromMax)?Mn.ChangellyMaxSwap:void 0}}(t,n):ld(t)})(t,(()=>{const e=Ve();return id(e)||!n(e)})),r=Ve();if(!n(r))return;if("rateLimited"===o)return;ze(ud(r,{isEstimating:!1,...id(r)?void 0:o}))}finally{Ou=!1}}()})),qe("setSwapScreen",((e,t,n)=>{let{state:a}=n;a===Ln.Initial&&(e=ud(e,{swapId:(0,we.A)()})),e=ud(e,{state:a}),ze(e)})),qe("clearSwapError",(e=>{e=ud(e,{error:void 0}),ze(e)})),qe("setSwapCexAddress",((e,t,n)=>{let{toAddress:a}=n;e=ud(e,{toAddress:a}),ze(e)})),qe("updatePendingSwaps",(async e=>{const t=e.currentAccountId;if(!t)return;let{activities:n}=lt(e,t)??{};if(!n)return;const o=Object.values(n.byId).filter((e=>Boolean("swap"===e.kind&&("pending"===e.status||"pendingTrusted"===e.status)&&e.cex))).map((e=>{let{id:t}=e;return an(t).hash}));if(!o.length)return;const r=await(0,a.p)("fetchSwaps",t,o);if(null==r||!r.swaps.length)return;const{swaps:i,nonExistentIds:s}=r;if((e=Ve()).currentAccountId!==t)return;({activities:n}=lt(e,t)??{});for(const e of r.swaps)e.isCanceled&&(e.shouldHide=!0);const l={};for(const e of s)l[e]={...n.byId[e],status:"expired",shouldHide:!0};e=Zl(e,t,{activities:{...n,byId:{...n.byId,...l,...(0,c.dU)(i,"id")}}}),ze(e)})),qe("setSwapDex",((e,t,n)=>{let{dexLabel:a}=n;const{estimates:o,bestRateDexLabel:r}=e.currentSwap,i=(o||[]).find((e=>e.dexLabel===a));i&&(e=ud(e,{amountIn:i.fromAmount,amountOut:i.toAmount,amountOutMin:i.toMinAmount,networkFee:i.networkFee,realNetworkFee:i.realNetworkFee,swapFee:i.swapFee,swapFeePercent:i.swapFeePercent,ourFee:i.ourFee,dieselFee:i.dieselFee,priceImpact:i.impact,currentDexLabel:a,isDexLabelChanged:a!==r||void 0},!0),ze(e))}));let Ou=!1;qe("loadPriceHistory",(async(e,t,n)=>{const{slug:o,period:r,currency:i=e.settings.baseCurrency}=n??{},s=await(0,a.p)("fetchPriceHistory",o,r,i);s&&(e=function(e,t,n){const{bySlug:a}=e.tokenPriceHistory;return{...e,tokenPriceHistory:{bySlug:{...a,[t]:{...a[t],...n}}}}}(e=Ve(),o,{[r]:s}),ze(e))}));const Mu=/^\w{26,}\./;function Pu(e){return Mu.test(e)}qe("submitTransferInitial",(async(e,t,o)=>{if(n.KI)return void Wl("submitTransferInitial",o);const{tokenSlug:r,toAddress:i,amount:s,comment:c,shouldEncrypt:l,nfts:d,withDiesel:u,stateInit:m,isGaslessWithStars:p,binPayload:f}=o;ze(vd(e,!0));const h=Boolean(null==d?void 0:d.length);let g;if(h)g=await(0,a.p)("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:d,toAddress:i,comment:c});else{const{tokenAddress:t,chain:n}=zt(e,r);g=await(0,a.p)("checkTransactionDraft",n,{accountId:e.currentAccountId,tokenAddress:t,toAddress:i,amount:s,data:f??c,shouldEncrypt:l,stateInit:m,isBase64Data:Boolean(f),allowGasless:!0})}var v,w;e=vd(e=Ve(),!1),g&&(e=pd(e,g)),g&&!("error"in g)?ze(fd(e,{state:In.Confirm,error:void 0,toAddress:i,resolvedAddress:g.resolvedAddress,amount:s,comment:c,shouldEncrypt:l,tokenSlug:r,isToNewAddress:g.isToAddressNew,withDiesel:u,isGaslessWithStars:p})):(ze(e),(null===(v=g)||void 0===v?void 0:v.error)!==Pa.KL.InsufficientBalance||h?t.showError({error:null===(w=g)||void 0===w?void 0:w.error}):t.showDialog({message:"The network fee has slightly changed, try sending again."}))})),qe("fetchTransferFee",(async(t,n,o)=>{var r;t=fd(t,{isLoading:!0,error:void 0}),ze(t);const{tokenSlug:i,toAddress:s,comment:c,shouldEncrypt:l,binPayload:d,stateInit:u}=o,{tokenAddress:m,chain:p}=zt(t,i),f=await(0,a.p)("checkTransactionDraft",p,{accountId:t.currentAccountId,toAddress:s,data:d??c,tokenAddress:m,shouldEncrypt:l,isBase64Data:Boolean(d),stateInit:u,allowGasless:!0});if(!(i!==(t=Ve()).currentTransfer.tokenSlug||null!==(r=t.currentTransfer.nfts)&&void 0!==r&&r.length)){if(t=fd(t,{isLoading:!1}),f&&(t=pd(t,f)),ze(t),null!=f&&f.error&&f.error!==Pa.KL.InsufficientBalance&&n.showError({error:f.error}),(null==f?void 0:f.error)===Pa.KL.InsufficientBalance){const n=rt(t),a=Wt(t),{chain:o}=zt(t,i);(function(t,n,a){var o;return!(null==t||null===(o=t.isMultisigByChain)||void 0===o||!o[a])||"tron"===a&&n.some((t=>t.slug===e.QSz||"tron"===t.chain&&t.amount>0n&&t.slug!==e.X7T.slug))})(n,a,o)&&(t=fd(t=Ve(),{scamWarningType:Bn.SeedPhrase}),ze(t))}(null==f?void 0:f.error)!==Pa.KL.DomainNotResolved&&Pu(s)&&(t=fd(t=Ve(),{scamWarningType:Bn.DomainLike}),ze(t))}})),qe("fetchNftFee",(async(e,t,n)=>{var o;const{toAddress:r,nfts:i,comment:s}=n;e=fd(e,{isLoading:!0,error:void 0}),ze(e);const c=await(0,a.p)("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:i,toAddress:r,comment:s});null!==(o=(e=Ve()).currentTransfer.nfts)&&void 0!==o&&o.length&&(e=fd(e,{isLoading:!1}),c&&(e=pd(e,c)),Pu(r)&&(e=fd(e,{scamWarningType:Bn.DomainLike})),ze(e),null!=c&&c.error&&t.showError({error:(null==c?void 0:c.error)===Pa.KL.InsufficientBalance?"Insufficient TON for fee.":c.error}))})),qe("submitTransfer",(async function(t,n){var o,r;let{password:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{resolvedAddress:s,comment:l,amount:d,promiseId:u,tokenSlug:m,shouldEncrypt:p,binPayload:f,nfts:h,withDiesel:g,diesel:v,stateInit:w,isGaslessWithStars:y}=t.currentTransfer;if(!await pu(In.ConfirmHardware,fd,i))return;if(u)return void await(0,a.p)("confirmDappRequest",u,i);const b=ma((t=Ve()).currentTransfer),E=null===(o=b.fullFee)||void 0===o?void 0:o.nativeSum,k=null===(r=b.realFee)||void 0===r?void 0:r.nativeSum;let C;if(null!=h&&h.length){const n=(0,c.lD)(h,pt(t)?1:e.gR8);for(const e of n){const n=await(0,a.p)("submitNftTransfers",t.currentAccountId,i,e,s,l,k&&(0,ua.fC)(k,h.length/e.length));t=fd(t=Ve(),{sentNftsCount:(t.currentTransfer.sentNftsCount||0)+e.length}),ze(t),C=n}}else{const{tokenAddress:e,chain:n}=zt(t,m),o={accountId:t.currentAccountId,password:i,toAddress:s,amount:d,comment:f??l,tokenAddress:e,fee:E,realFee:k,shouldEncrypt:p,isBase64Data:Boolean(f),withDiesel:g,dieselAmount:v&&fa(v),stateInit:w,isGaslessWithStars:y,noFeeCheck:!0};C=await(0,a.p)("submitTransfer",n,o)}fu(C,fd)&&(ze(fd(Ve(),{state:In.Complete,txId:"activityIds"in C&&C.activityIds[0]||"activityId"in C&&C.activityId||void 0})),Xn(m)&&n.fetchTransferDieselState({tokenSlug:m}))})),qe("cancelTransfer",(function(e,t){let{shouldReset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{promiseId:o,tokenSlug:r}=e.currentTransfer;if(n)return o&&(0,a.p)("cancelDappRequest",o,"Canceled by the user"),e=fd(e=hd(e),{tokenSlug:r}),void ze(e);il()&&(e=Yl(e)),e=fd(e,{state:In.None}),ze(e)})),qe("fetchTransferDieselState",(async(t,n,o)=>{let{tokenSlug:r}=o;const i=function(t,n){if(n!==e.Tu9.slug)return zt(t,n).tokenAddress}(t,r);if(!i)return;const s=await(0,a.p)("fetchEstimateDiesel",t.currentAccountId,i);if(!s)return;const c=lt(t=Ve(),t.currentAccountId);t=gd(t,fd(t,{diesel:s})),null!=c&&c.isDieselAuthorizationStarted&&"not-authorized"!==s.status&&(t=Zl(t,t.currentAccountId,{isDieselAuthorizationStarted:void 0})),ze(t)})),qe("checkTransferAddress",(async(e,t,n)=>{let{address:o}=n;if(!o)return e=fd(e,{toAddressName:void 0,resolvedAddress:void 0}),void ze(e);const r=ot(e),i=await(0,a.p)("getAddressInfo",r,o);e=fd(e=Ve(),!i||"error"in i?{toAddressName:void 0,resolvedAddress:void 0}:{toAddressName:i.addressName,resolvedAddress:i.resolvedAddress}),ze(e)}));const Fu=n.KI?100:0;qe("fetchNftsFromCollection",((e,t,n)=>{let{collectionAddress:o}=n;(0,a.p)("fetchNftsFromCollection",e.currentAccountId,o)})),qe("burnNfts",((t,n,a)=>{let{nfts:o}=a;n.startTransfer({isPortrait:gi(),nfts:o});const r=o.some((t=>t.collectionAddress===e.KmP));setTimeout((()=>{n.submitTransferInitial({tokenSlug:e.Tu9.slug,amount:0n,toAddress:r?e.WVU[0]:e.pV9,nfts:o})}),Fu)})),qe("addNftsToBlacklist",((e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=ct(e)||{};return o=(0,c.Hl)(o,a),r=(0,c.Hl)(r,a),Jl(e,{blacklistedNftAddresses:[...o,...a],whitelistedNftAddresses:r})})),qe("addNftsToWhitelist",((e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=ct(e)||{};return o=(0,c.Hl)(o,a),r=(0,c.Hl)(r,a),Jl(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:[...r,...a]})})),qe("removeNftSpecialStatus",((e,t,n)=>{let{address:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=ct(e)||{};return o=o.filter((e=>e!==a)),r=r.filter((e=>e!==a)),Jl(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:r})})),qe("openUnhideNftModal",((e,t,n)=>{let{address:a,name:o}=n;return Jl(e,{isUnhideNftModalOpen:!0,selectedNftToUnhide:{address:a,name:o}})})),qe("closeUnhideNftModal",(e=>Jl(e,{isUnhideNftModalOpen:void 0,selectedNftToUnhide:void 0}))),qe("openHideNftModal",((e,t,n)=>{let{addresses:a,isCollection:o}=n;return Jl(e,{selectedNftsToHide:{addresses:a,isCollection:o}})})),qe("closeHideNftModal",(e=>Jl(e,{selectedNftsToHide:void 0}))),qe("openNftAttributesModal",((e,t,n)=>{let{nft:a}=n;return Jl(e,{currentNftForAttributes:a})})),qe("closeNftAttributesModal",(e=>Jl(e,{currentNftForAttributes:void 0}))),qe("submitClaimingVesting",(async function(t,o){let{password:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.currentAccountId,s=(e,t)=>Wd(e,i,t);if(!await pu(Wn.ConfirmHardware,s,r))return;if(n.bA)return void Ul("submitClaimingVesting",{password:r});const c=Et(t=Ve(),i),l={accountId:t.currentAccountId,password:r,toAddress:e.OKZ,amount:e.aEZ,comment:e.ZYg};fu(await(0,a.p)("submitTransfer","ton",l),s)&&(t=Wd(t=Ve(),i,{isConfirmRequested:void 0,unfreezeRequestedIds:c}),ze(t),o.openVestingModal())})),qe("loadMycoin",((t,n)=>{const{isTestnet:a}=t.settings;n.importToken({address:a?e.GX2.minterAddress:e.oUU.minterAddress})})),qe("submitMintCard",(async function(t,n){let{password:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.currentAccountId;if(!await pu($n.ConfirmHardware,Hd,o))return;const i=function(t,n){const{currentAccountId:a,currentMintCard:o}=t,{config:r}=lt(t,a),{cardsInfo:i}=r,s=i[o.type];return{accountId:a,password:n,toAddress:e.lnc,amount:(0,Pt.UH)(s.price,e.Tu9.decimals),comment:e.sml}}(Ve(),o);fu(await(0,a.p)("submitTransfer","ton",i),Hd)&&(t=Zl(t=Hd(t=Ve(),{state:$n.Done}),r,{isCardMinting:!0}),ze(t))})),qe("checkCardNftOwnership",(t=>{if(n.bA||e.TI6)return;const{byAccountId:o}=t.settings;Object.entries(o).forEach((async e=>{var t,n;let[o,r]=e;const i=null===(t=r.cardBackgroundNft)||void 0===t?void 0:t.address,s=null===(n=r.accentColorNft)||void 0===n?void 0:n.address;if(!i&&!s)return;const c=[i?(0,a.p)("checkNftOwnership",o,i):void 0,s&&s!==i?(0,a.p)("checkNftOwnership",o,s):void 0],[l,d]=await Promise.all(c);let u=Ve();i&&!1===l&&(u=td(u,o,{cardBackgroundNft:void 0})),s&&(s===i&&!1===l||s!==i&&!1===d)&&(u=td(u,o,{accentColorNft:void 0,accentColorIndex:void 0})),ze(u)}))}));var Ru=i(9705);function Uu(e,t){let n=new Ru.A;return function(){return n.resolve(e),n=new Ru.A,Promise.race([t(...arguments),n.promise])}}function Wu(e,t){const n=e.pushNotifications.enabledAccounts,{[t]:a,...o}=n;return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:o}}}function Hu(e){return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:{}}}}function $u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={...e.pushNotifications.enabledAccounts,[t]:n};return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}const Vu=Uu({aborted:!0},(e=>(0,a.p)("subscribeNotifications",e))),zu=Uu({aborted:!0},(e=>(0,a.p)("unsubscribeNotifications",e)));function Ku(e,t,n){(function(e,t){if(!e.length)return!0;const n=e.findIndex(hu);return fu(e[n>=0?n:0],t)})(e,t)&&ze(t(Ve(),{state:n,...1===e.length?{txId:e[0]}:void 0}))}qe("registerNotifications",(async(t,n,o)=>{let{userToken:r,platform:i}=o;const{pushNotifications:s}=t;let c,l=Object.keys(s.enabledAccounts);const d=tt(t)||{};if(s.userToken||Ge(d))s.userToken!==r&&l.length&&([c]=await Promise.all([(0,a.p)("subscribeNotifications",{userToken:r,platform:i,addresses:Object.values(Hc(t,l))}),(0,a.p)("unsubscribeNotifications",{userToken:s.userToken,addresses:Object.values(Hc(t,l))})]));else{const n=Hc(t,Object.keys(d),e.vdF);l=Object.keys(n),c=await(0,a.p)("subscribeNotifications",{userToken:r,platform:i,addresses:Object.values(n)})}if(t=Ve(),t={...t,pushNotifications:{...t.pushNotifications,userToken:r,platform:i}},!c||"error"in c)return void ze(t);const u=l.reduce(((e,t)=>{const n=d[t].addressByChain.ton;return n&&(e[t]=c.addressKeys[n]),e}),{});ze({...t,pushNotifications:{...t.pushNotifications,enabledAccounts:u}})})),qe("deleteNotificationAccount",(async(e,t,n)=>{let{accountId:o,withAbort:r}=n;const{userToken:i,enabledAccounts:s}=e.pushNotifications,c=s[o];if(!i)return;ze(Wu(e,o));const l=Object.values(Hc(e,[o]));if(0===l.length)return;const d={userToken:i,addresses:l},u=r?await zu(d):await(0,a.p)("unsubscribeNotifications",d);u&&"aborted"in u||(e=Ve(),ze(u&&"ok"in u?Wu(e,o):$u(e,o,c)))})),qe("createNotificationAccount",(async(e,t,n)=>{let{accountId:o,withAbort:r}=n;const{userToken:i,platform:s}=e.pushNotifications;if(!i||!s)return;const c=Object.values(Hc(e,[o]));if(!c.length)return;ze($u(e,o,{}));const l={userToken:i,platform:s,addresses:c},d=r?await Vu(l):await(0,a.p)("subscribeNotifications",l);d&&"aborted"in d||(e=Ve(),ze(d&&"ok"in d?function(e,t,n){const a=e.pushNotifications.enabledAccounts;return a[t]={...a[t],...n},{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}(e,o,d.addressKeys[c[0].address]):Wu(e,o)))})),qe("toggleNotifications",(async(t,n,a)=>{let{isEnabled:o}=a;const{enabledAccounts:r={},userToken:i="",platform:s,isAvailable:c}=t.pushNotifications;if(!c)return;let l;if(o){l=Hc(t,Object.keys(tt(t)||{}),e.vdF);for(const e of Object.keys(l))t=$u(t,e,{})}else l=Hc(t,Object.keys(r)),t=Hu(t);if(ze(t),Ge(l))return;const d={userToken:i,addresses:Object.values(l),platform:s},u=o?await Vu(d):await zu(d);if(!u||!("aborted"in u))if(t=Ve(),u&&"ok"in u){if(o&&"addressKeys"in u){const e=u.addressKeys;for(const[n,{address:a}]of Object.entries(l))e[a]&&(t=$u(t,n,e[a]))}ze(t)}else{if(o)t=Hu(t);else for(const e of Object.keys(l))t=$u(t,e,r[e]);ze(t)}})),qe("fetchActivityDetails",(async(e,t,n)=>{var o;let{id:r}=n;const i=e.currentAccountId,s=null===(o=lt(e,i))||void 0===o||null===(o=o.activities)||void 0===o?void 0:o.byId[r];if(null==s||!s.shouldLoadDetails)return;const c=await(0,a.p)("fetchTonActivityDetails",i,s);c&&(e=function(e,t,n){const{id:a}=n,{activities:o}=lt(e,t)||{},{byId:r}=o??{};return r&&a in r?Zl(e,t,{activities:{...o,byId:{...r,[a]:n}}}):e}(Ve(),i,c),ze(e))})),qe("checkDomainsRenewalDraft",(async(e,t,n)=>{let{nfts:o}=n;const r=e.currentAccountId,i=await(0,a.p)("checkDnsRenewalDraft",r,o);i&&!("error"in i)?(e=$d(e=Ve(),{realFee:i.realFee}),ze(e)):t.showError({error:null==i?void 0:i.error})})),qe("submitDomainsRenewal",(async function(e,t){var n;let{password:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.currentAccountId,i=null===(n=ct(e))||void 0===n||null===(n=n.nfts)||void 0===n?void 0:n.byAddress;if(!i)return;const s=e.currentDomainRenewal.addresses,c=e.currentDomainRenewal.realFee,l=s.map((e=>i[e])).filter(Boolean);l.length&&await pu(xn.ConfirmHardware,$d,o)&&Ku((await(0,a.p)("submitDnsRenewal",r,o,l,c)??[void 0]).map((e=>e&&"activityIds"in e?e.activityIds[0]:e)),$d,xn.Complete)})),qe("checkDomainLinkingDraft",(async(e,t,n)=>{let{nft:o}=n;const r=e.currentAccountId,i=rt(e).addressByChain.ton,s=await(0,a.p)("checkDnsChangeWalletDraft",r,o,i);s&&!("error"in s)?(e=Vd(e=Ve(),{realFee:s.realFee}),ze(e)):t.showError({error:null==s?void 0:s.error})})),qe("submitDomainLinking",(async function(e,t){var n;let{password:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.currentAccountId,i=ot(e),s=null===(n=ct(e))||void 0===n||null===(n=n.nfts)||void 0===n?void 0:n.byAddress,c=e.currentDomainLinking.address,l=e.currentDomainLinking.realFee,d=null==s?void 0:s[c],u=e.currentDomainLinking.walletAddress,m=await(0,a.p)("getAddressInfo",i,u);if(m&&"error"in m)return void t.showError({error:m.error});if(!d||!m||"resolvedAddress"in m&&!m.resolvedAddress)return;if(!await pu(Dn.ConfirmHardware,Vd,o))return;const p=await(0,a.p)("submitDnsChangeWallet",r,o,d,m.resolvedAddress,l);Ku([p&&"activityId"in p?p.activityId:p],Vd,Dn.Complete)})),qe("checkLinkingAddress",(async(e,t,n)=>{let{address:o}=n;if(!o)return e=Vd(e,{walletAddressName:void 0,resolvedWalletAddress:void 0}),void ze(e);const r=ot(e),i=await(0,a.p)("getAddressInfo",r,o);e=Vd(e=Ve(),!i||"error"in i?{walletAddressName:void 0,resolvedWalletAddress:void 0}:{walletAddressName:i.addressName,resolvedWalletAddress:i.resolvedAddress}),ze(e)})),qe("apiUpdate",((t,a,o)=>{switch(o.type){case"updateBalances":t=function(t,n,a,o){var r,i,s;const c={...o},l=(null===(r=lt(t,n))||void 0===r||null===(r=r.balances)||void 0===r?void 0:r.bySlug)??{};for(const[e,t]of Object.entries(l))Zn(e)!==a&&(c[e]=t);let d=(null===(i=dt(t,n))||void 0===i?void 0:i.importedSlugs)??[];Boolean(null===(s=st(t,n))||void 0===s||null===(s=s.addressByChain)||void 0===s?void 0:s.ton)&&(d=[...d,e.rUK]);for(const e of d)e in c||(c[e]=0n);return Zl(t,n,{balances:{bySlug:c}})}(t,o.accountId,o.chain,o.balances),ze(t);break;case"updateStaking":{var r;const{accountId:n,states:a,totalProfit:i,shouldUseNominators:s}=o,l=(0,c.dU)(a,"id");t=Ed(t=function(e,t){return{...e,stakingDefault:t}}(t,{...l[e.USn.id],balance:0n,unstakeRequestAmount:0n,tokenBalance:0n}),n,{stateById:l,shouldUseNominators:s,totalProfit:i});const{stakingId:d}=(null===(r=lt(t,n))||void 0===r?void 0:r.staking)??{};if(!d){const e=[...a].sort(((e,t)=>Number(t.balance-e.balance)))[0];e&&e.balance>0n?t=Ed(t,n,{stakingId:e.id}):s&&l.nominators&&(t=Ed(t,n,{stakingId:l.nominators.id}))}ze(t);break}case"updateTokens":{const{tokens:n,baseCurrency:a}=o;t=ed(t=function(t,n){var a;let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=null===(a=t.tokenInfo)||void 0===a?void 0:a.bySlug;return n[e.Tu9.slug].price||(n=Object.values(n).reduce(((e,t)=>{const n=null==r?void 0:r[t.slug];return e[t.slug]={...t,price:(null==n?void 0:n.price)??t.price,priceUsd:(null==n?void 0:n.priceUsd)??t.priceUsd,percentChange24h:(null==n?void 0:n.percentChange24h)??t.percentChange24h},e}),{})),o&&r&&zl(r,n)?t:{...t,tokenInfo:{...t.tokenInfo,bySlug:{...r,...n}}}}(t,n,!0),{baseCurrency:a}),ze(t);break}case"updateSwapTokens":t=function(e,t){var n;const a=null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug;return{...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...a,...t},isLoaded:!0}}}(t,o.tokens),ze(t);break;case"updateNfts":{var i;const{accountId:n,shouldAppend:r}=o,s=(0,c.dU)(o.nfts,"address"),l=null===(i=lt(t,n))||void 0===i?void 0:i.nfts,d=Object.keys(s);t=Zl(t,n,{nfts:{...l,byAddress:{...s,...null==l?void 0:l.byAddress},orderedAddresses:(0,c.Am)(r?[].concat((null==l?void 0:l.orderedAddresses)??[],d):[].concat(d,(null==l?void 0:l.orderedAddresses)??[]))}}),e.TI6||o.nfts.forEach((n=>{n.collectionAddress===e.qL&&(t=Ud(t,n))})),o.nfts.some((e=>e.isTelegramGift))&&a.addCollectionTab({collectionAddress:e.X6R,isAuto:!0}),ze(t),a.checkCardNftOwnership();break}case"nftSent":{const{accountId:n,nftAddress:r,newOwnerAddress:i}=o,s=kt(t,n,r);t=function(e,t,n){const a=lt(e,t).nfts,o=((null==a?void 0:a.orderedAddresses)??[]).filter((e=>e!==n)),r=((null==a?void 0:a.selectedAddresses)??[]).filter((e=>e!==n)),{[n]:i,...s}=(null==a?void 0:a.byAddress)??{};return Zl(e,t,{nfts:{...a,byAddress:s,orderedAddresses:o,selectedAddresses:r}})}(t,n,r),(null==s?void 0:s.collectionAddress)===e.qL&&(s.ownerAddress=i,t=Ud(t,s)),ze(t),a.checkCardNftOwnership();break}case"nftReceived":{const{accountId:n,nft:r}=o;t=Fd(t,n,r),ze(t),e.TI6||(a.checkCardNftOwnership(),r.collectionAddress===e.qL&&(a.setCardBackgroundNft({nft:r}),a.installAccentColorFromNft({nft:r})));break}case"nftPutUpForSale":{const{accountId:e,nftAddress:n}=o;t=Rd(t,e,n,{isOnSale:!0}),ze(t);break}case"updateAccount":{const{accountId:e,chain:n,domain:a,address:r,isMultisig:i}=o,s=it(t,e);if(!s)break;const c={};r&&(c.addressByChain={...s.addressByChain,[n]:r}),void 0!==a&&(c.domainByChain={...s.domainByChain,[n]:a||void 0}),void 0!==i&&(c.isMultisigByChain={...s.isMultisigByChain,[n]:i}),t=Ql(t,e,c),ze(t);break}case"updateConfig":{const{isLimited:a,isCopyStorageEnabled:r,supportAccountsCount:i,countryCode:s,isAppUpdateRequired:c,swapVersion:l}=o,d=n.ZH&&a||e.TI6;t=function(e,t){return{...e,restrictions:{...e.restrictions,...t}}}(t,{isLimitedRegion:a,isSwapDisabled:d,isOnRampDisabled:d,isNftBuyingDisabled:d,isCopyStorageEnabled:r,supportAccountsCount:i,countryCode:s}),t={...t,isAppUpdateRequired:e.TI6?void 0:c,swapVersion:l??e.AuB},ze(t);break}case"updateWalletVersions":n.KI&&Wl("apiUpdateWalletVersions",o),a.apiUpdateWalletVersions(o);break;case"openUrl":dc(o.url,{isExternal:o.isExternal,title:o.title,subtitle:o.subtitle});break;case"requestReconnectApi":a.initApi();break;case"incorrectTime":t.isIncorrectTimeNotificationReceived||a.showIncorrectTimeError();break;case"updateVesting":{const{accountId:e,vestingInfo:n}=o,a=Et(t,e);t=function(e,t,n){return Wd(e,t,{info:n})}(t,e,n),Vl(a,Et(t,e))||(t=Wd(t,e,{unfreezeRequestedIds:void 0})),ze(t);break}case"updatingStatus":{const{kind:e,accountId:n,isUpdating:a}=o,r="balance"===e?"balanceUpdateStartedAt":"activitiesUpdateStartedAt",i=lt(t,n);if(a&&null!=i&&i[r])break;ze(Zl(t,n,{[r]:a?Date.now():void 0}));break}case"migrateCoreApplication":{const{accountId:e,isTestnet:n,address:r,secondAddress:i,secondAccountId:s,isTonProxyEnabled:c,isTonMagicEnabled:l}=o;t=Gl({global:t=ed(t,{isTestnet:n}),accountId:e,type:"mnemonic",addressByChain:{ton:r}}),t=Gl({global:t,accountId:s,type:"mnemonic",addressByChain:{ton:i},network:n?"mainnet":"testnet"}),ze(t),requestAnimationFrame((()=>{a.tryAddNotificationAccount({accountId:e}),a.switchAccount({accountId:e,newNetwork:n?"testnet":"mainnet"}),a.afterSignIn(),l&&a.toggleTonMagic({isEnabled:!0}),c&&a.toggleTonProxy({isEnabled:!0})}));break}case"updateAccountConfig":{const{accountConfig:e,accountId:n}=o;t=Zl(t,n,{config:e}),ze(t);break}case"updateAccountDomainData":{var s;const{accountId:e,expirationByAddress:n,linkedAddressByAddress:a,nfts:r}=o,i=(null===(s=lt(t,e))||void 0===s?void 0:s.nfts)||{byAddress:{}};t=function(e,t,n){var a;if(!n||Ge(n))return e;const{byAddress:o}=(null===(a=lt(e,t))||void 0===a?void 0:a.nfts)||{byAddress:{}};return Object.values(n).forEach((n=>{const a=null==o?void 0:o[n.address];e=a?Rd(e,t,n.address,n):Fd(e,t,n,!0)})),e}(t=Zl(t,e,{nfts:{...i,dnsExpiration:n,linkedAddressByAddress:a}}),e,r),ze(t);break}}}));const qu=(0,Oa.F3)("NativeAudio",{web:()=>i.e(477).then(i.bind(i,4477)).then((e=>new e.NativeAudioWeb))}),ju=i.p+"incoming-transaction.4ddd93d8f1ec1c4e2651.mp3",Yu=ha.Z2,Gu=new(window.AudioContext||window.webkitAudioContext);let Qu,Xu=e.UMQ||"running"===Gu.state;function Ju(){Xu||Gu.resume().then((()=>{Xu=!0})).catch((e=>{(0,t.SJ)("appSounds:initializeSounds",e)}))}!async function(){const n={assetId:"incomingTransactionSound",assetPath:"public/incoming-transaction.mp3",audioChannelNum:1,isUrl:!1};if(e.UMQ){if(await qu.isPreloaded(n))return;qu.preload(n).catch((e=>{(0,t.SJ)("appSounds:loadSound",e)}))}else fetch(ju).then((e=>e.arrayBuffer())).then((e=>Gu.decodeAudioData(e))).then((e=>{Qu=e})).catch((e=>{(0,t.SJ)("appSounds:loadSound",e)}))}();const Zu=(0,l.sg)((()=>{if(n.bA)return;if(!Xu)return void(0,t.MD)("appSounds:playIncomingTransactionSound","sound is not initialized");if(e.UMQ)return void qu.play({assetId:"incomingTransactionSound"}).catch((e=>{(0,t.SJ)("appSounds:playIncomingTransactionSound",e)}));if(!Qu)return void(0,t.MD)("playIncomingTransactionSound","audioBuffer is not loaded");const a=Gu.createBufferSource();a.buffer=Qu,a.connect(Gu.destination),a.start(0)}),Yu,!0,!1);qe("apiUpdate",((t,a,o)=>{switch(o.type){case"initialActivities":{const{accountId:e,mainActivities:n,bySlug:a,chain:r}=o;t=function(e,t,n,a,o){const{activities:r}=lt(e,t)||{};let{byId:i,idsMain:s,areInitialActivitiesLoaded:l}=r||{};i={...i,...(0,c.dU)(n,"id")},l={...l,[o]:!0},s=function(e,t,n){if(!e.length)return t;if(!t.length)return e;const a=Math.max(n[e[e.length-1]].timestamp,n[t[t.length-1]].timestamp),o=e=>n[e].timestamp>=a;return _d(e.filter(o),t.filter(o),n)}((0,c.JY)(n,"id"),s??[],i),0!==s.length||function(e,t,n){const{addressByChain:a}=st(e,t)??{addressByChain:{}};return Object.keys(a).every((e=>n[e]))}(e,t,l)||(s=void 0),e=Zl(e,t,{activities:{...r,idsMain:s,byId:i,areInitialActivitiesLoaded:l}});for(const[n,o]of Object.entries(a))e=Ld(e,t,n,o,0===o.length);return e}(t,e,n,a,r),ze(t),async function(e,t){var n;await(0,l.fm)((()=>!!Vt(Ve(),e)),1e3,10);const a=Ve(),o=(Vt(a,e)??[]).slice(0,10).filter((e=>Zn(e.slug)===t)),{idsBySlug:r}=(null===(n=lt(a,e))||void 0===n?void 0:n.activities)||{},{fetchPastActivities:i}=Ke();for(const{slug:e}of o)void 0===(null==r?void 0:r[e])&&i({slug:e})}(e,r);break}case"newLocalActivities":{const{accountId:e,activities:n}=o,a=function(e,t,n){const a=function(e,t,n){var a;const{byId:o={},idsMain:r=[]}=(null===(a=e.byAccountId[t])||void 0===a?void 0:a.activities)??{},i=[];for(const e of r){if(i.length>=n)break;if(on(e))continue;const t=o[e];t&&i.push(t)}return i}(e,t,n.length+20);return vn(n,a)}(t,e,n);!function(e,t){for(const n of e)n.id in t&&(n.shouldHide=!0)}(n,a),t=function(e,t,n,a){const o=lt(e,t),r=null==o?void 0:o.activities;if(null==r||!r.byId)return e;const i={...r.byId};for(const e of n){const t=a[e.id];if(t&&"pendingTrusted"===e.status){const e=r.byId[t];"pending"===(null==e?void 0:e.status)&&(i[t]={...e,status:"pendingTrusted"})}}return Zl(e,t,{activities:{...r,byId:i}})}(t,e,n,a),t=Dd(t,e,n),ze(t);break}case"newActivities":{n.KI&&!o.noForward&&Wl("apiUpdate",{...o,noForward:!0}),n.bA&&!o.noForward&&Ul("apiUpdate",{...o,noForward:!0});const{accountId:a,activities:r,pendingActivities:i,chain:s}=o,l=[...kn(t,a),...s?Cn(t,a,s):[]],d=vn(l,[...i??[],...r]);t=function(e,t,n){var a;return Zl(e,t,{currentActivityId:cc(null===(a=lt(e,t))||void 0===a?void 0:a.currentActivityId,n)})}(t=function(e,t){return ud(e,{activityId:cc(e.currentSwap.activityId,t)})}(t=function(e,t){return $d(e,{txId:cc(e.currentDomainRenewal.txId,t)})}(t=function(e,t){return Vd(e,{txId:cc(e.currentDomainLinking.txId,t)})}(t=function(e,t){return fd(e,{txId:cc(e.currentTransfer.txId,t)})}(t=Dd(t=function(e,t,n,a,o,r){if(!n||void 0===a)return e;const i=(0,c.V6)(o),s=(0,c.dU)(r,"id");return e=function(e,t,n,a){var o;const{pendingActivityIds:r}=(null===(o=lt(e,t))||void 0===o?void 0:o.activities)||{};return Dd(e=Od(e,t,(null==r?void 0:r[n])??[]),t,a,n)}(e,t,n,a.map((e=>{const t=i[e.id],n=t?s[t]:void 0;return n&&"pendingTrusted"===n.status?{...e,status:"pendingTrusted"}:e}))),e}(t=Od(t,a,Object.keys(d)),a,s,i,d,l),a,r),d),d),d),d),a,d),function(e,t){if(!e.settings.canPlaySounds)return;t.some((t=>{var n;return"transaction"===t.kind&&t.isIncoming&&"completed"===t.status&&Date.now()-t.timestamp<6e4&&!(e.settings.areTinyTransfersHidden&&Gd(t,null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug[t.slug]))&&!Jt(t)}))&&Zu()}(t,r),e.TI6||(t=function(t,n,a){const{isCardMinting:o}=lt(t,n)||{};if(!o||!a.length)return t;const r=a.find((t=>{var n;return"transaction"===t.kind&&t.isIncoming&&(null==t||null===(n=t.nft)||void 0===n?void 0:n.collectionAddress)===e.qL})),i=a.find((t=>"transaction"===t.kind&&t.isIncoming&&t.fromAddress===e.lnc&&(null==t?void 0:t.comment)===e.pyN));if(r){const e=r.nft;t=Fd(t=Zl(t,n,{isCardMinting:void 0}),n,e),Ke().setCardBackgroundNft({nft:e}),Ke().installAccentColorFromNft({nft:e})}else i&&(t=Zl(t,n,{isCardMinting:void 0}));return t}(t,a,r)),ze(t);break}}})),qe("apiUpdate",((t,a,o)=>{switch(o.type){case"tonConnectOnline":a.closeLoadingOverlay();break;case"createTransaction":{const{promiseId:n,amount:a,toAddress:r,comment:i,rawPayload:s,stateInit:c,checkResult:l}=o;t=pd(t=fd(t=hd(t),{state:In.Confirm,toAddress:r,resolvedAddress:l.resolvedAddress,isToNewAddress:l.isToAddressNew,amount:a,comment:i,promiseId:n,tokenSlug:e.Tu9.slug,rawPayload:s,stateInit:c}),l),ze(t);break}case"completeTransaction":{const{activityId:e}=o;ze(fd(t,{state:In.Complete,txId:e}));break}case"createSignature":{const{promiseId:e,dataHex:n}=o;t=yd(t=function(e){return{...e,currentSignature:void 0}}(t),{promiseId:e,dataHex:n}),ze(t);break}case"showError":{const{error:e}=o;a.showError({error:e});break}case"dappConnect":n.KI&&Wl("apiUpdateDappConnect",o),a.apiUpdateDappConnect(o);break;case"dappConnectComplete":t=Cd(t),ze(t);break;case"dappDisconnect":{var r;const{url:e}=o;(null===(r=t.currentDappTransfer.dapp)||void 0===r?void 0:r.url)===e&&(t=Sd(t),ze(t));break}case"dappLoading":n.KI&&Wl("apiUpdateDappLoading",o),a.apiUpdateDappLoading(o);break;case"dappCloseLoading":n.KI&&Wl("apiUpdateDappCloseLoading",o),a.apiUpdateDappCloseLoading(o);break;case"dappSendTransactions":n.KI&&Wl("apiUpdateDappSendTransaction",o),a.apiUpdateDappSendTransaction(o);break;case"dappSignData":n.KI&&Wl("apiUpdateDappSignData",o),a.apiUpdateDappSignData(o);break;case"updateDapps":n.KI&&Wl("getDapps"),a.getDapps();break;case"prepareTransaction":{const{amount:n,toAddress:a,comment:r,binPayload:i}=o;t=fd(t=hd(t),{state:In.Initial,toAddress:a,amount:n??0n,comment:r,tokenSlug:e.Tu9.slug,binPayload:i}),ze(t);break}case"processDeeplink":{const{url:e}=o;Sc(e);break}case"dappTransferComplete":n.KI&&Wl("apiUpdate",o),t.currentDappTransfer.state!==In.None&&(t=Nd(t,{state:In.Complete,isLoading:!1}),ze(t));break;case"dappSignDataComplete":n.KI&&Wl("apiUpdate",o),t.currentDappSignData.state!==_n.None&&(t=Ad(t,{state:_n.Complete,isLoading:!1}),ze(t))}}));const em=[e.dnp,e.zHL,e.zP3];function tm(e){const t=`animation-level-${e}`;document.documentElement.classList.contains(t)||em.forEach((t=>{document.documentElement.classList.toggle(`animation-level-${t}`,t===e)}))}qe("init",((t,a)=>{(0,k.RK)((()=>{const{documentElement:t}=document;n.pz?t.classList.add("is-ios","is-mobile"):n.Ni?(t.classList.add("is-android","is-mobile"),n.xy&&t.classList.add("is-android-app")):n.MP?t.classList.add("is-macos"):n.H8?t.classList.add("is-windows"):n.ig&&t.classList.add("is-linux"),n.Yw&&t.classList.add("is-safari"),n.By&&t.classList.add("is-opera"),e.hL1&&t.classList.add("is-extension"),n.cp&&t.classList.add("is-electron"),e.tKX&&t.classList.add("is-telegram-app"),(0,n.v3)()&&t.classList.add("is-mobile-telegram-app"),n.bA&&t.classList.add("is-native-bottom-sheet"),(0,n.Kc)(),a.afterInit()}))})),qe("afterInit",(n=>{const{theme:a,animationLevel:o,langCode:r,authConfig:i}=n.settings;ii(a),tm(o),li({forceDarkBackground:!1}),Br(r),function(){const t=e.CV.replace(/\d+$/,""),n=Number((e.CV.match(/\d+$/)||[0])[0]);for(let e=0;e<n;e++)cr(`${t}${0===e?"":e}`)}(),e.UMQ?async function(e){const n=!!e&&"native-biometrics"===e.kind,a=await Ma.isAvailable({isWeakAuthenticatorAllowed:n,useFallback:!1});Yc=a.isAvailable,Gc=a.biometryType===Da.FACE_ID,Qc=a.biometryType===Da.TOUCH_ID,async function(e){const n=Oa.Ii.isPluginAvailable("PushNotifications");if(ze({...e,pushNotifications:{...e.pushNotifications,isAvailable:n}}),!n)return;await Wc.addListener("pushNotificationActionPerformed",Kc),await Wc.addListener("registration",qc),await Wc.addListener("registrationError",(e=>{(0,t.SJ)("Registration error: ",e.error)}));let a=await Wc.checkPermissions();"prompt-with-rationale"!==a.receive&&("prompt"===a.receive&&(a=await Wc.requestPermissions()),"granted"===a.receive&&await Wc.register())}(Ve())}(i):(e.tKX&&function(e){e.isFullscreen&&Ja.requestFullscreen(),Ja.onEvent("fullscreenChanged",co),Ja.onEvent("fullscreenFailed",lo)}(n),document.addEventListener("click",Ju,{once:!0}))})),qe("afterSignIn",((e,t)=>{ze({...e,appState:Sn.Main}),setTimeout((()=>{t.resetAuth(),Cc&&(Sc(Cc),Cc=void 0)}),320)})),qe("afterSignOut",((e,t,n)=>{var a;null!=n&&n.shouldReset&&("native-biometrics"===(null===(a=e.settings.authConfig)||void 0===a?void 0:a.kind)&&No(),t.setInMemoryPassword({password:void 0,force:!0}),t.resetApiSettings({areAllDisabled:!0}))})),qe("showDialog",((e,t,n)=>{const a=[...e.dialogs],o=a.findIndex((e=>e.message===n.message));return-1!==o&&a.splice(o,1),a.push(n),{...e,dialogs:a}})),qe("dismissDialog",(e=>{n.KI&&Wl("dismissDialog");const t=[...e.dialogs];return t.pop(),{...e,dialogs:t}})),qe("selectToken",(function(t,n){let{slug:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a){const o=a===e.Tu9.slug,r=ia(t);(o||null!=r&&r.some((e=>e.slug===a)))&&(o?n.setDefaultSwapParams({tokenInSlug:e.rKC,tokenOutSlug:a}):n.setDefaultSwapParams({tokenOutSlug:a}),n.changeTransferToken({tokenSlug:a}))}else{var o;const a=t.byAccountId[t.currentAccountId].currentTokenSlug,r=t.currentSwap.tokenOutSlug===e.JhS&&t.currentSwap.tokenInSlug===e.rKC;t.currentSwap.tokenOutSlug===a&&(t.currentSwap.tokenInSlug===e.JhS&&t.currentSwap.tokenOutSlug!==e.rKC||r)&&n.setDefaultSwapParams({tokenInSlug:void 0,tokenOutSlug:void 0,withResetAmount:!0}),t.currentTransfer.tokenSlug===a&&t.currentTransfer.tokenSlug!==e.ScF&&(null===(o=t.currentTransfer.nfts)||void 0===o||!o.length)&&n.changeTransferToken({tokenSlug:e.ScF,withResetAmount:!0})}return Jl(t,{currentTokenSlug:a})})),qe("showError",(function(e,t){let{error:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.bA?Ul("showError",{error:a}):t.showDialog({message:mu(a)})})),qe("showNotification",((e,t,a)=>{if(n.bA)return void Ul("showNotification",a);const{message:o,icon:r}=a,i=[...e.notifications],s=i.findIndex((e=>e.message===o));return-1!==s&&i.splice(s,1),i.push({message:o,icon:r}),{...e,notifications:i}})),qe("dismissNotification",(e=>{const t=[...e.notifications];return t.pop(),{...e,notifications:t}})),qe("toggleTonProxy",((e,t,n)=>{let{isEnabled:o}=n;return(0,a.p)("doProxy",o),{...e,settings:{...e.settings,isTonProxyEnabled:o}}})),qe("toggleTonMagic",((e,t,n)=>{let{isEnabled:o}=n;return(0,a.p)("doMagic",o),{...e,settings:{...e.settings,isTonMagicEnabled:o}}})),qe("toggleDeeplinkHook",((e,t,o)=>{let{isEnabled:r}=o;var i;return n.cp?null===(i=window.electron)||void 0===i||i.toggleDeeplinkHandler(r):(0,a.p)("doDeeplinkHook",r),{...e,settings:{...e.settings,isDeeplinkHookEnabled:r}}})),qe("signOut",(async(e,t,o)=>{var r;n.bA&&Ul("signOut",o);const{level:i}=o,s=ot(e),l=at(e),d=Object.keys(l),u="account"!==i,m="mainnet"===s?"testnet":"mainnet";let p=Object.keys(nt(m,null===(r=e.accounts)||void 0===r?void 0:r.byId));if("all"===i&&p.length>0&&(await(0,a.p)("removeNetworkAccounts",m),p=[]),u||1===d.length)if(t.deleteAllNotificationAccounts({accountIds:d}),p.length){await(0,a.p)("removeNetworkAccounts",s),e=Ve();const n=p[0],o=Object.entries(e.accounts.byId).reduce(((e,t)=>{let[n,a]=t;return(0,Ye.cK)(n).network!==s&&(e[n]=a),e}),{}),r=Object.entries(e.byAccountId).reduce(((e,t)=>{let[n,a]=t;return(0,Ye.cK)(n).network!==s&&(e[n]=a),e}),{}),i=Object.entries(e.settings.byAccountId).reduce(((e,t)=>{let[n,a]=t;return(0,Ye.cK)(n).network!==s&&(e[n]=a),e}),{});e=od(e,n),e={...e,accounts:{...e.accounts,byId:o},byAccountId:r,settings:{...e.settings,byAccountId:i}},ze(e),t.switchAccount({accountId:n,newNetwork:m}),t.closeSettings(),t.afterSignOut()}else await(0,a.p)("resetAccounts"),t.afterSignOut({shouldReset:!0}),t.init();else{const n=e.currentAccountId,o=d.find((e=>e!==n)),r=En(e,o);await(0,a.p)("removeAccount",n,o,r),t.deleteNotificationAccount({accountId:n}),e=Ve();const i=(0,c.cJ)(e.accounts.byId,[n]),s=(0,c.cJ)(e.byAccountId,[n]),l=(0,c.cJ)(e.settings.byAccountId,[n]);e=od(e,o),e={...e,accounts:{...e.accounts,byId:i},byAccountId:s,settings:{...e.settings,byAccountId:l}},ze(e),t.afterSignOut()}}));var nm=i(51);const am=(0,Oa.F3)("BarcodeScanner",{web:()=>i.e(215).then(i.bind(i,29215)).then((e=>new e.BarcodeScannerWeb))}),om=/^\d+\.\d+(\.\d+)?$/,rm=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const[n,a]=ie(e,t);return[n,ue((()=>{a(!0)}),[]),ue((()=>{a(!1)}),[])]};const im=new Set(["INPUT","TEXTAREA","SELECT"]),sm=v();function cm(e){ce((()=>{if(!e)return;const t=Object.entries(e);return sm.addCallback((function(e){(function(e){return!(e.target instanceof HTMLElement)||!im.has(e.target.tagName)})(e)&&t.forEach((t=>{let[n,a]=t;(function(e){return t=>function(e,t){const{alt:n,ctrl:a,meta:o,mod:r,shift:i,key:s}=e,{altKey:c,ctrlKey:l,metaKey:d,shiftKey:u,key:m}=t;if(n!==c)return!1;if(r){if(!l&&!d)return!1}else{if(a!==l)return!1;if(o!==d)return!1}return i===u&&Boolean(s&&(m.toLowerCase()===s.toLowerCase()||t.code.replace("Key","").toLowerCase()===s.toLowerCase()))}(function(e){const t=e.toLowerCase().split("+").map((e=>e.trim())),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},a=["alt","ctrl","meta","shift","mod"];return{...n,key:t.find((e=>!a.includes(e)))}}(e),t)})(n)(e)&&a(e)}))}))}),[e])}function lm(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=ue(e,t);return de((()=>"number"==typeof n?(0,l.nF)(o,n,!a):(0,l.nb)(n,o)),[o,n,a])}function dm(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=ue(e,t);return de((()=>(0,l.sg)(r,n,!a,!o)),[r,n,a,o])}function um(){const{width:e,height:t,screenHeight:n}=qa(),[a,o]=ie(e),[r,i]=ie(t),[s,c]=ie(n),[d,u]=ie(!1),m=dm(u,[u],250,!0);return ce((()=>{const e=(0,l.nF)((()=>{u(!0)}),250,!0),t=(0,l.nF)((()=>{const{width:e,height:t,screenHeight:n}=qa();o(e),i(t),c(n),m(!1)}),250,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[m]),de((()=>({width:a,height:r,screenHeight:s,isResizing:d})),[r,d,s,a])}document.documentElement.addEventListener("keydown",sm.runCallbacks);const[mm,pm]=E(void 0);let fm;const hm=!n.ZH||n.KI;let gm;async function vm(){return fm||(fm=await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),fm)}function wm(){return void 0!==mm()}async function ym(){const e=mm();if(e)try{return await async function(e){const t=await vm(),n=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e.iv},t,e.ciphertext);return(new TextDecoder).decode(n)}(e)}catch(e){return}}function bm(t){var n;hm&&(null===(n=gm)||void 0===n||n(),gm=function(e,t){if(t<=0)return e(),()=>{};const n=Date.now();let a,o=!1;const r=()=>{o||(o=!0,a&&(clearInterval(a),a=void 0))};return a=window.setInterval((()=>{o||Date.now()-n>=t&&(r(),e())}),5e3),r}((()=>{Ke().setInMemoryPassword({password:void 0})}),e.gbw*ha.pY)),void 0!==t?async function(e){const t=await vm(),n=(new TextEncoder).encode(e),a=window.crypto.getRandomValues(new Uint8Array(12));return{ciphertext:await window.crypto.subtle.encrypt({name:"AES-GCM",iv:a},t,n),iv:a}}(t).then((e=>{pm(e)})):pm(void 0)}vm();const Em=i.p+"add_dark.8aaf6cc3b06c8c29c0b8.tgs",km=i.p+"add_light.be170b963afd3d68fffa.tgs",Cm=i.p+"clock_dark.67c2082b0ca3be15abf5.tgs",Nm=i.p+"clock_dark_blue.dcdade09cdb1018439a5.tgs",Sm=i.p+"clock_dark_gray.2f8e5bd8283b1b6fbc8b.tgs",Am=i.p+"clock_dark_green.30d56a71568b4a6c2265.tgs",Tm=i.p+"clock_dark_orange.1b7e7886b361ac3ea6dd.tgs",Im=i.p+"clock_dark_purple.44d7e54c80d7bfcdc066.tgs",Bm=i.p+"clock_dark_purple_white.b5df424559c900b23895.tgs",_m=i.p+"clock_dark_red.67cef0a9056652cc9fc4.tgs",xm=i.p+"clock_light.0f820ef9df9307b005b3.tgs",Dm=i.p+"clock_light_blue.5e4780c003d1e4b827e4.tgs",Lm=i.p+"clock_light_gray.4826990b5758e7e75dc0.tgs",Om=i.p+"clock_light_green.81cd8075f0eea6108c88.tgs",Mm=i.p+"clock_light_orange.f5958c528759646c52c6.tgs",Pm=i.p+"clock_light_purple.38ce19dce815fecda5d9.tgs",Fm=i.p+"clock_light_purple_white.5f9e760bc1f22f84b046.tgs",Rm=i.p+"clock_light_red.55b1cfeadab5652b419e.tgs",Um=i.p+"core_wallet_logo.2055ba52598574ce57c1.tgs",Wm=i.p+"duck_bill.f055b12619440839e0be.tgs",Hm=i.p+"duck_forges.8b2d0ebddaa6d89f49f9.tgs",$m=i.p+"duck_guard.80ca79a0dd4e872c97de.tgs",Vm=i.p+"duck_happy.341e288409ae85100bda.tgs",zm=i.p+"duck_hello.40447128d7d2e35c9513.tgs",Km=i.p+"duck_no-data.235bf383a43e5d277cc7.tgs",qm=i.p+"duck_run.4f00386469e72bd5f970.tgs",jm=i.p+"duck_snitch.1de91932b48b813238a6.tgs",Ym=i.p+"duck_thumb.4ae249f4ed4f4a37176a.tgs",Gm=i.p+"duck_ton.6583e2880c36d10daee2.tgs",Qm=i.p+"duck_wait.94faee2d1128c376e8d9.tgs",Xm=i.p+"duck_yeee.883032cf50944d474730.tgs",Jm=i.p+"earn_dark.cc3100d59f35656a0d80.tgs",Zm=i.p+"earn_dark_purple.ef283884f712c29765f8.tgs",ep=i.p+"earn_light.ba7d6daf7c43c22f37c5.tgs",tp=i.p+"earn_light_purple.f5bf3ef47824c05e92a7.tgs",np=i.p+"send_dark.a03d74d5dbf4d09aa6cd.tgs",ap=i.p+"send_light.5056ea189e9f728cbf1c.tgs",op=i.p+"swap_dark.0cca83400e60322ddc57.tgs",rp=i.p+"swap_light.f484bcd0bc90ab8c5f43.tgs",ip=i.p+"clock_dark.82ee95a865a9838d58e7.svg",sp=i.p+"clock_dark_blue.fdfd239a3616ce16e0b1.svg",cp=i.p+"clock_dark_gray.1b1d9010ecebb08c3903.svg",lp=i.p+"clock_dark_green.93f238675a9074c4fd47.svg",dp=i.p+"clock_dark_orange.b27f276018f845f7f89b.svg",up=i.p+"clock_dark_purple.e08f76411ffbefe55602.svg",mp=i.p+"clock_dark_purple_white.fbc63a9cd9546cfb5f54.svg",pp=i.p+"clock_dark_red.8510b2dd2f25c2a0dcf1.svg",fp=i.p+"clock_light.ce57368517d1f91b344b.svg",hp=i.p+"clock_light_blue.5fc267d1b83799b2f923.svg",gp=i.p+"clock_light_gray.ee7e9a2398565386ec7a.svg",vp=i.p+"clock_light_green.71f692ac565e957d540a.svg",wp=i.p+"clock_light_orange.3ac5c7e58edf71c39522.svg",yp=i.p+"clock_light_purple.171b47626b50eac4fe77.svg",bp=i.p+"clock_light_purple_white.fc89347ebf34b9556bfc.svg",Ep=i.p+"clock_light_red.04c3e975306f5ff8d73f.svg",kp=i.p+"core_wallet_logo.e5460356e39ce9c0ba0e.png",Cp=i.p+"duck_bill.966ff858d718072aae75.png",Np=i.p+"duck_forges.52c157bd0cc621f324e1.png",Sp=i.p+"duck_guard.d4ebb8f84ebdd68f3da2.png",Ap=i.p+"duck_happy.b8afd923624d1ef9061d.png",Tp=i.p+"duck_hello.c865862ea6c03bf4088b.png",Ip=i.p+"duck_no-data.21cf5ad05a9a06aebcff.png",Bp=i.p+"duck_run.a70c5e12b26ee1d82b73.png",_p={hello:zm,snitch:jm,bill:Wm,thumbUp:Ym,holdTon:Gm,happy:Vm,noData:Km,forge:Hm,wait:Qm,run:qm,yeee:Xm,guard:$m,helloPreview:Tp,snitchPreview:i.p+"duck_snitch.b567535e9c071b993b06.png",billPreview:Cp,thumbUpPreview:i.p+"duck_thumb.8d21bd4f32485ac2c2a2.png",holdTonPreview:i.p+"duck_ton.c26fd7a7467b637009fe.png",happyPreview:Ap,noDataPreview:Ip,forgePreview:Np,waitPreview:i.p+"duck_wait.b0fe6ec6993586b30e65.png",runPreview:Bp,yeeePreview:i.p+"duck_yeee.6a3e6f89a1e9cdb20fc7.png",guardPreview:Sp,...e.TI6&&{coreWalletLogo:Um,coreWalletLogoPreview:kp},light:{iconAdd:km,iconClock:xm,iconClockBlue:Dm,iconClockGray:Lm,iconClockGreen:Om,iconClockOrange:Mm,iconClockPurple:Pm,iconClockPurpleWhite:Fm,iconClockRed:Rm,iconEarn:ep,iconEarnPurple:tp,iconSend:ap,iconSwap:rp,preview:{iconClock:fp,iconClockBlue:hp,iconClockGray:gp,iconClockGreen:vp,iconClockOrange:wp,iconClockPurple:yp,iconClockPurpleWhite:bp,iconClockRed:Ep}},dark:{iconAdd:Em,iconClock:Cm,iconClockBlue:Nm,iconClockGray:Sm,iconClockGreen:Am,iconClockOrange:Tm,iconClockPurple:Im,iconClockPurpleWhite:Bm,iconClockRed:_m,iconEarn:Jm,iconEarnPurple:Zm,iconSend:np,iconSwap:op,preview:{iconClock:ip,iconClockBlue:sp,iconClockGray:cp,iconClockGreen:lp,iconClockOrange:dp,iconClockPurple:up,iconClockPurpleWhite:mp,iconClockRed:pp}}};function xp(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;ce((()=>{n.TF||t||setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}),a)}),[e,a,t])}function Dp(e,t){const n=me(0),a=me(!1);return!a.current&&e&&n.current<t&&(n.current+=1),a.current=e,n.current>=t}const Lp=fe((function(e){let{id:t,className:n,contentClassName:a,children:o,checked:r,isDisabled:i,onChange:s}=e;const c=zo((e=>{e.preventDefault(),s(e.currentTarget.checked)}));return ge.createElement("label",{className:xr("ydGmLQB9",n)},ge.createElement("input",{id:t,type:"checkbox",className:"aOFCdA5h",checked:r,disabled:i,tabIndex:0,onChange:i?void 0:c}),ge.createElement("div",{className:xr("ZEXtFSPZ",a)},o))})),Op="egsZTzXN",Mp=fe(je((e=>{const t=at(e)||{},n=ct(e),a=Object.keys(t).length>1;return{currentAccountId:e.currentAccountId,hasManyAccounts:a,accounts:t,accountStates:e.byAccountId,isBackupRequired:null==n?void 0:n.isBackupRequired}}))((function(t){let{isOpen:a,currentAccountId:o,hasManyAccounts:r,accounts:i,accountStates:s,isBackupRequired:c,onClose:l,isInAppLock:d}=t;const{signOut:u,switchAccount:m}=Ke(),p=_r(),[f,h]=ie(e.TI6||!!d),g=de((()=>r?Object.entries(i).reduce(((e,t)=>{var n;let[a,r]=t;return a!==o&&null!==(n=s[a])&&void 0!==n&&n.isBackupRequired&&e.push({id:a,title:(0,Ye.S)(r)??""}),e}),[]):[]),[i,s,o,r]);ce((()=>{a&&h(e.TI6||!!d)}),[a,d]);const v=zo((()=>{l(!f&&r),u({level:e.TI6?"all":f?"network":"account"})})),w=zo((()=>{l(!1)}));const y=f&&g.length>0,b=c&&!y,E=xr(Gs.button,n.ZH&&Gs.shortButton);return ge.createElement(ac,{isOpen:a,isCompact:!0,title:n.ZH?p("Remove Wallet"):p("Log Out"),onClose:w,isInAppLock:d},ge.createElement("p",{className:xr(Gs.text,Gs.text_noExtraMargin)},rr(p("$logout_warning","12/24"))),!(e.TI6||d)&&r&&ge.createElement(Lp,{id:"logount_all_accounts",className:"B2lzpHP0",checked:f,onChange:h},rr(p("$logout_confirm"))),b&&ge.createElement("p",{className:Gs.text},ge.createElement("b",{className:Op},p("Warning!"))," ",p("$logout_without_backup_warning")),y&&ge.createElement("p",{className:Gs.text},ge.createElement("b",{className:Op},p("Warning!"))," ",p("$logout_accounts_without_backup_warning",{links:ge.createElement(ge.Fragment,null,g.map((function(e,t){const{id:n,title:a}=e,o=xr(!d&&"mSBmBqo6",t+2===g.length&&"T7L1H3Tm");return ge.createElement("span",{className:o},d?ge.createElement("strong",null,a):ge.createElement("a",{key:n,href:"#",className:"FsSJDg8c",onClick:e=>{var t;e.preventDefault(),t=n,l(!1),m({accountId:t})}},a))})))})),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{className:E,onClick:w},p("Cancel")),ge.createElement(js,{isDestructive:!0,onClick:v,className:Gs.button},n.ZH?p("Remove Wallet"):p("Exit"))))})));function Pp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(";")}function Fp(e,t){const n=Boolean(e),{ref:a}=$s({isOpen:n,noMountTransition:n,className:"slow",...t});return a}let Rp,Up;async function Wp(){return Rp||(Rp=i.e(949).then(i.bind(i,70949)).then((e=>e.default)),Up=await Rp),Rp}function Hp(){return Up}function $p(e){const t=e.replace("#","");return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}function Vp(e){let[t,n,a]=e.map((e=>e/255));[t,n,a]=[t,n,a].map((e=>e>.04045?((e+.055)/1.055)**2.4:e/12.92));let o=.4124*t+.3576*n+.1805*a,r=.2126*t+.7152*n+.0722*a,i=.0193*t+.1192*n+.9505*a;return[o,r,i]=[o/.95047,r,i/1.08883].map((e=>e>.008856?e**(1/3):7.787*e+16/116)),[116*r-16,500*(o-r),200*(r-i)]}setTimeout(Wp,3e3);const zp=v(),Kp=v();function qp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=zo(e),o=zo(t);ce((()=>{if(!n)return B()&&a(),zp.addCallback(a),Kp.addCallback(o),()=>{Kp.removeCallback(o),zp.removeCallback(a)}}),[n,o,a])}B.subscribe((()=>{B()?zp.runCallbacks():Kp.runCallbacks()}));const jp=v(),Yp=v();const Gp=new Map,Qp=fe((e=>{let{ref:t,renderId:a,className:o,style:r,tgsUrl:i,play:s,playSegment:c,speed:l,noLoop:d,size:u,shouldStretch:m,quality:p,isLowPriority:f,color:h,forceOnHeavyAnimation:g,forceInBackground:w,sharedCanvas:y,sharedCanvasCoords:b,onClick:E,onLoad:C,onEnded:N,onLoop:S}=e,A=me();t&&(A=t);const T=ke(),[I,B]=ie(),_=me(),x=me(!0),D=s||!1!==s&&c,L=Vo(s),O=Vo(c),M=me(),P=me(!1);ce((()=>()=>{P.current=!0}),[]),Ee((()=>{if(h){const[e,t,n]=$p(h);M.current=[e,t,n]}else M.current=void 0}),[h]);const F=zo((()=>{if(_.current||P.current||!i||y&&(!b||!y.offsetWidth||!y.offsetHeight))return;const e=A.current||y;if(!e)return;const t=Hp().init(i,e,a||(0,we.A)(),{size:u,shouldStretch:m,noLoop:d,quality:p,isLowPriority:f,coords:b},T,M.current,C,N,S);l&&t.setSpeed(l),B(t),_.current=t}));ce((()=>{Hp()?F():Wp().then(F)}),[F,i,y,b]);const R=lm(F,[F],150);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Vo(t);ce((()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const o=e=>{let[t]=e;t.target.offsetWidth&&t.target.offsetHeight&&a.current(t)};let[r,i]=Gp.get(t)||[void 0,void 0];return r||(i=v(),r=new IntersectionObserver(i.runCallbacks),Gp.set(t,[r,i]),r.observe(t)),i.addCallback(o),()=>{i.removeCallback(o),i.hasCallbacks()||(r.unobserve(t),r.disconnect(),Gp.delete(t))}}),[n,a,e])}(y,R),ce((()=>{I&&I.setColor(M.current)}),[h,I]),ce((()=>()=>{var e;null===(e=_.current)||void 0===e||e.removeView(T)}),[T]);const U=zo((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I&&(L.current||O.current)&&!Xp(g,w)&&(O.current?I.playSegment(O.current,e,T):I.play(e,T))})),W=zo((()=>{(0,k.YS)(U)})),H=zo((()=>{null!=I&&I.isPlaying()&&I.pause(T)}));if(vi((e=>{let[t]=e;void 0!==t&&d!==t&&(null==I||I.setNoLoop(d))}),[d,I]),vi((e=>{let[t]=e;void 0!==t&&b!==t&&(null==I||I.setSharedCanvasCoords(T,b))}),[b,T,I]),ce((()=>{I&&(D?Xp(g,w)||U(d):H())}),[I,D,d,U,H,g,w]),ce((()=>{I&&(x.current?x.current=!1:i&&(I.changeData(i),U(d)))}),[U,I,i,d]),qp(H,U,g||n.pz||!D),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=zo(e),o=zo(t);ce((()=>{if(!n)return jp.addCallback(a),Yp.addCallback(o),()=>{Yp.removeCallback(o),jp.removeCallback(a)}}),[n,a,o])}(H,U,!D),Bl(H,W,!D||w),!y)return ge.createElement("div",{ref:A,className:o,style:Pp(void 0!==u&&!m&&`width: ${u}px; height: ${u}px;`,E&&!n.cp&&"cursor: pointer",r),onClick:E})}));function Xp(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!n.pz&&B()||!e&&_l()}function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jp.apply(null,arguments)}const Zp=fe((function(e){const{size:t,play:n=!0,noLoop:a=!0,className:o,noTransition:r,nonInteractive:i,onLoad:s,onClick:c,...l}=e,[d,u]=rm(!1),m=Fp(r||d),p=zo((()=>{u(),null==s||s()})),[f,h]=ie(String(Math.random())),g=zo((()=>{!0===n&&h(String(Math.random())),null==c||c()}));return ge.createElement(Qp,Jp({ref:m,className:o,size:t,play:!0===n?f:n,noLoop:a,onClick:i?void 0:g,onLoad:p},l))})),ef="haM4SCte";function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tf.apply(null,arguments)}const nf=new Set,af=150,of=fe(je((t=>({noAnimation:t.settings.animationLevel===e.dnp})))((function(e){const{size:t=af,previewUrl:n,iconPreviewClass:a,thumbDataUri:o,className:r,noAnimation:i,noPreviewTransition:s,...c}=e,[l,d]=rm(Boolean(a)||Boolean(o)||nf.has(n)),u=Fp(l||s),[m,p,f]=rm(!1);ce((()=>{i&&f()}),[f,i]);const h=zo((()=>{d(),nf.add(n)}));return ge.createElement("div",{ref:s?void 0:u,className:xr(r,"aNPdKxlh"),style:Pp(void 0!==t&&!c.shouldStretch&&`width: ${t}px; height: ${t}px;`),"data-preview-url":n},o&&!n&&!m&&ge.createElement("img",{src:o,className:ef}),n&&!m&&ge.createElement("img",{src:n,className:ef,onLoad:h}),a&&!m&&ge.createElement("i",{className:xr(ef,a),"aria-hidden":!0}),!i&&ge.createElement(Zp,tf({size:t},c,{onLoad:p,noTransition:!0})))}))),rf={wrapper:"LCV_ofSL",input:"O85V9ajV",error:"hhZYLQar",disabled:"sAhrzaLV",input_password:"MawuFp3r",inputPassword:"MawuFp3r",rich:"_JfHIm8U",rich__value:"VyaUZjoQ",richValue:"VyaUZjoQ",rich__placeholder:"Fd5oMpfT",richPlaceholder:"Fd5oMpfT",isLoading:"oLkTqd0H",large:"cp2mDTzv",inputWrapperStatic:"_30fntf1",input__wrapper:"Q9N6yVvw",inputWrapper:"Q9N6yVvw",input__wrapper_hasFocus:"xJ8YLUEc",inputWrapperHasFocus:"xJ8YLUEc",visibilityToggle:"tXgxOPqo",visibilityToggle_push:"uXlOxDsj",visibilityTogglePush:"uXlOxDsj",fractional:"Q68NbVRf",label:"dGKNlTrc",label_error:"PFA7oH6u",labelError:"PFA7oH6u",label_forPassword:"i9G7zfox",labelForPassword:"i9G7zfox",label_errorUnderInput:"N0y6_7Nt",labelErrorUnderInput:"N0y6_7Nt",label_errorBottom:"fAnhlq4h",labelErrorBottom:"fAnhlq4h",swapCorner:"hcCyNq6V",swapCorner_error:"tRQeFT_t",swapCornerError:"tRQeFT_t",mask:"dYsHTHj3",inputContainer:"vjJxciaS",input_withValueOverlay:"qHmkgxAZ",inputWithValueOverlay:"qHmkgxAZ",valueOverlay:"yLnZrd5z",static:"PXCfAg02"},sf=fe((function(e){let{ref:t,id:n,label:a,placeholder:o,valueOverlay:r,inputMode:i,isRequired:s,isDisabled:c,isMultiline:l,hasError:d,type:u="text",error:m,value:p="",maxLength:f,inputArg:h,className:g,wrapperClassName:v,autoCapitalize:w,autoComplete:y,autoCorrect:b,isStatic:E,enterKeyHint:C,children:N,onInput:S,onKeyDown:A,onFocus:T,onBlur:I}=e;const B=_r(),[_,x]=ie(!1),[D,L,O]=rm(!1),M=Boolean(r&&!D),P=e=>{S(e.currentTarget.value,h)},F=e=>{L(),null==T||T(e)},R=e=>{O(),null==I||I(e)},U="text"===u||_?"text":"password",W=xr(rf.input,g,"password"===u&&rf.input_password,(d||m)&&rf.error,c&&rf.disabled,r&&rf.input_withvalueOverlay),H=xr(rf.label,(d||m)&&rf.error,(d||m)&&"password"===u&&rf.label_forPassword);return ge.createElement("div",{className:xr(rf.wrapper,v)},m&&!!a&&ge.createElement("label",{className:xr(rf.label,rf.label_error,rf.error),htmlFor:n},m),!!a&&ge.createElement("label",{className:H,htmlFor:n},a),ge.createElement("div",{className:rf.inputContainer},l?ge.createElement("textarea",{ref:t,id:n,className:W,value:p,disabled:c,maxLength:f,autoComplete:y,onInput:P,onChange:e=>{const{currentTarget:t}=e,{scrollHeight:n}=t;(0,k.RK)((()=>{t.style.height="0",t.style.height=`${n}px`}))},onKeyDown:A,onFocus:F,onBlur:R,tabIndex:0,required:s,placeholder:r?void 0:o}):ge.createElement("input",{ref:t,id:n,className:W,type:U,value:p,disabled:c,inputMode:i,maxLength:f,autoCapitalize:w,autoComplete:y,autoCorrect:b,spellCheck:b,onInput:P,onKeyDown:A,onFocus:F,onBlur:R,tabIndex:0,required:s,placeholder:r?void 0:o,enterKeyHint:C}),M&&ge.createElement("div",{className:xr(rf.valueOverlay,E&&rf.static)},r)),"password"===u&&ge.createElement("button",{className:xr(rf.visibilityToggle,a&&rf.visibilityToggle_push),type:"button",onClick:()=>{x(!_)},"aria-label":B("Change password visibility"),tabIndex:-1},ge.createElement("i",{className:_?"icon-eye":"icon-eye-closed","aria-hidden":!0})),N,m&&!a&&ge.createElement("label",{className:xr(rf.label,rf.label_errorBottom,rf.error),htmlFor:n},m))}));function cf(e,t,n,a){return lf("animationend",e,t,n,a)}function lf(e,t,n,a,o){let r=!1;function i(){t.removeEventListener(e,s)}function s(e){r||e.target!==e.currentTarget||a&&(e instanceof TransitionEvent&&e.propertyName===a||e instanceof AnimationEvent&&e.animationName===a)||(r=!0,i(),setTimeout((()=>{n()}),50))}return t.addEventListener(e,s),o&&setTimeout((()=>{r||(i(),n())}),o),i}const df=d.qM.easeOutCubic,uf="swipe-disabled";let mf,pf,ff,hf,gf=!1;function vf(e,t){return Hr(e,{swipeThreshold:10,withNativeDrag:!0,excludedClosestSelector:`.${uf}`,onSwipe(e,a,o){if(a===Pr.Left){var r;null===(r=t.onSwipeLeftStart)||void 0===r||r.call(t)}else{if(a!==Pr.Right)return!1;var i;null===(i=t.onSwipeRightStart)||void 0===i||i.call(t)}return n.pz&&(gf=!0,mf=o),!0},onDrag(e,t,n){var a;gf&&(null===(a=pf)||void 0===a||a(n))},onRelease(){var e;gf&&(gf=!1,null===(e=ff)||void 0===e||e(t.onCancel),pf=void 0,ff=void 0)}})}function wf(e,t){e.map((e=>e.getAnimations())).flat().forEach((e=>{e.currentTime=e.effect.getTiming().duration*t}))}function yf(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}function bf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[n,a]=ie(e);return ce((()=>{if(e===n)return;const o=window.setTimeout((()=>{a(e)}),t);return()=>{window.clearTimeout(o)}}),[e,t,n]),n}const Ef="jLzZScDB",kf="oVsGIXA4",Cf=fe((function(e){let{value:t,children:n,className:a,isDisabled:o,onClick:r}=e;const[i,s]=ie(!1);return ge.createElement("div",{onMouseDown:o?void 0:()=>{ul(),null==r||r(t),s(!0),setTimeout((()=>{s(!1)}),200)},className:xr("lnaBx8hc",i&&"qBoIeNzV",a),role:"button",tabIndex:0},t||n)})),Nf=ha.Z2,Sf="Transition_slide-active",Af="Transition_slide-from",Tf="Transition_slide-to",If="Transition_slide-inactive",Bf=Sf,_f=Tf,xf=function(t){let{ref:n,activeKey:a,nextKey:o,prevKey:r,name:i,direction:s="auto",renderCount:c,shouldRestoreHeight:l,shouldCleanup:u,cleanupExceptionKey:m,shouldWrap:p,wrapExceptionKey:f,id:h,className:g,slideClassName:v,withSwipeControl:w,onStart:y,onStop:b,onContainerClick:E,onScroll:C,children:N}=t;const S=me(),{animationLevel:A}=Ve().settings,T=A===e.dnp;let I=me();n&&(I=n);const B=me({}),x=be(a),D=ve(),L=me(!1),O=me(!1),M=void 0!==x&&a!==x;!c&&M&&(B.current={[x]:B.current[x]}),B.current[a]=N,r&&(B.current[r]=N),o&&(B.current[o]=N);const P=-1===s||"auto"===s&&x>a||"inverse"===s&&x<a;le((()=>{function e(){if(!u)return;const e=void 0!==m?B.current[m]:void 0;B.current=e?{[m]:e}:{},D()}const t="slideOptimized"===i||"slideOptimizedRtl"===i,n=I.current,o=Object.keys(B.current).map(Number),r=c?x:o.indexOf(x),s=c?a:o.indexOf(a),p=Array.from(n.childNodes);if(!p.length)return;const f=Array.from(n.children);if(f.forEach((e=>{_s(e,"Transition_slide"),v&&v.split(/\s+/).forEach((t=>{_s(e,t)}))})),!M){if(L.current)return;return void f.forEach((e=>{e===p[s]?(_s(e,Sf),t&&Ls(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):t||_s(e,If)}))}if(S.current=a,t){if(!p[s])return;return void function(e,t,n,a,o,r,i,s,c,l,d,u,m){if(e)return Ds(s,`Transition-${t}`,!n),Ds(s,`Transition-${t}Backwards`,n),l instanceof HTMLElement&&(xs(l,Sf),Ls(l,{transition:"none",transform:""})),c instanceof HTMLElement&&(_s(c,Sf),Ls(c,{transition:"none",transform:"translate3d(0, 0, 0)"})),void a();"slideOptimizedRtl"===t&&(n=!n),i.current=!0;const p=_();null==u||u(),Ds(s,`Transition-${t}`,!n),Ds(s,`Transition-${t}Backwards`,n),l instanceof HTMLElement&&Ls(l,{transition:"none",transform:"translate3d(0, 0, 0)"}),c instanceof HTMLElement&&Ls(c,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,k.gm)((()=>(c instanceof HTMLElement&&c.offsetWidth,()=>{l instanceof HTMLElement&&(xs(l,Sf),Ls(l,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),c instanceof HTMLElement&&(_s(c,Sf),Ls(c,{transition:"",transform:"translate3d(0, 0, 0)"}))}))),lf("transitionend",c,(()=>{const e=c instanceof HTMLElement?c.clientHeight:void 0;(0,k.RK)((()=>{o===r.current?(l instanceof HTMLElement&&Ls(l,{transition:"none",transform:""}),d&&e&&c instanceof HTMLElement&&(Ls(c,{height:"auto"}),Ls(s,{height:`${e}px`})),null==m||m(),p(),i.current=!1,a()):p()}))}),undefined,undefined)}(T,i,P,e,a,S,L,n,p[s],p[r],l,y,b)}if("none"===i||T||O.current)return O.current&&(O.current=!1),p.forEach(((e,t)=>{e instanceof HTMLElement&&(xs(e,Af),xs(e,Tf),Ds(e,Sf,t===s),Ds(e,If,t!==s))})),void e();p.forEach(((e,t)=>{e instanceof HTMLElement&&(xs(e,Sf),Ds(e,Af,t===r),Ds(e,Tf,t===s),Ds(e,If,t!==r&&t!==s))})),L.current=!0;const h=_();function g(){const t=n.querySelector(`.${Sf}`),{clientHeight:o}=t||{};(0,k.RK)((()=>{a===S.current?(xs(n,`Transition-${i}`),xs(n,`Transition-${i}Backwards`),p.forEach(((e,t)=>{e instanceof HTMLElement&&(xs(e,Af),xs(e,Tf),Ds(e,Sf,t===s),Ds(e,If,t!==s))})),l&&t&&(Ls(t,{height:"auto"}),Ls(n,{height:`${o}px`})),null==b||b(),h(),L.current=!1,e()):h()}))}null==y||y(),Ds(n,`Transition-${i}`,!P),Ds(n,`Transition-${i}Backwards`,P);const E="reveal"!==i&&"slideFadeAndroid"!==i||!P?p[s]:p[r];if(E)if(w&&p[r]){const e=cf(E,g);!function(e,t,n){var a;if(null===(a=hf)||void 0===a||a(),!gf)return;const o=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=yf(e.transform);if(t)return t}}(e);if(!o)return;let r;e.getAnimations().forEach((e=>e.pause())),t.getAnimations().forEach((e=>e.pause())),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,k.YS)((()=>{const a=(i=getComputedStyle(e).transform,s=o.axis,i.slice(7,-1).split(",").map(Number)["X"===s?4:5]);var i,s;const c=("px"===o.units?o.value:o.value/100*("X"===o.axis?e.offsetWidth:e.offsetHeight))-a;let l=0;pf=n=>{let{dragOffsetX:a,dragOffsetY:i}=n;const s="X"===o.axis?a-mf.dragOffsetX:i-mf.dragOffsetY,d=Lr(s/c,0,1);r=d>l?1:-1,l=d,wf([e,t],l)},ff=a=>{const o=-1===r;function i(){e.getAnimations().forEach((e=>e.cancel())),t.getAnimations().forEach((e=>e.cancel())),(0,k.RK)((()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""}))}o||cf(e,i),hf=(0,d.Hd)({from:l,to:o?0:1,duration:300,timing:df,onUpdate(n){wf([e,t],n)},onEnd(){hf=void 0,(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||o)&&(i(),n(),a())}})}}))}(p[r],p[s],(()=>{e(),O.current=!0,null==b||b(),h(),L.current=!1}))}else cf(E,g,void 0,Nf);else g()}),[a,o,x,M,P,i,y,b,c,l,u,v,m,T,D,w]),ce((()=>{if(!l)return;const e=I.current,t=e.querySelector(`.${Sf}`)||e.querySelector(`.${Af}`);if(!t)return;const{clientHeight:n}=t||{};n&&(0,k.RK)((()=>{Ls(t,{height:"auto"}),Ls(e,{height:`${n}px`,flexBasis:`${n}px`})}))}),[l,N]);const F=!c,R=B.current,U=Object.keys(c?new Array(c).fill(void 0):R).map(Number).map((e=>{const t=R[e];if(!t)return;const n="function"==typeof t?t(e===a,e===x,e,a):t;return p&&e!==f||F?ge.createElement("div",{key:e,teactOrderKey:e},n):n}));return ge.createElement("div",{ref:I,onScroll:C,onClick:E,id:h,className:xr("Transition",g),teactFastList:F},U)},Df=4,Lf=1500,Of=n.pz?650:300,Mf=fe(je((e=>{const{isPinAccepted:t}=e;return{isPinAccepted:t}}))((function(t){let{isActive:a,title:o,type:r,value:i,resetStateDelayMs:s=Lf,length:c=Df,isPinAccepted:l,className:d,isMinified:u,topContent:m,onBiometricsClick:p,onChange:f,onClearError:h,onSubmit:g,onLogOutClick:v}=t;const{clearIsPinAccepted:w}=Ke(),y=ol(),b=i.length>0,E="success"===r||l,k=bf(E,Of),C=be(l),N=E||i.length===c&&"error"!==r,S=xr("r4k7w6HQ","error"===r&&Ef,(E||k)&&kf),A=Dp("error"===r,e.Avc);ce((()=>{C&&!l&&c===i.length&&f("")}),[l,c,f,C,i.length]),ce((()=>w),[]),vi((e=>{let[t]=e;n.bA&&(a?xo.clearScrollPatch():t&&xo.applyScrollPatch())}),[a]),ce((()=>{if("error"!==r)return;const e=window.setTimeout((()=>{i.length===c&&f(""),null==h||h()}),s);return ml(),()=>{window.clearTimeout(e)}}),[c,f,h,s,r,i.length]),ce((()=>{if(a)return Yr(),()=>{Gr()}}),[a]);const T=zo((e=>{if(i.length!==c&&0!==i.length||null==h||h(),i.length===c)return void f(e);const t=`${i}${e}`;f(t),t.length===c&&g(t)})),I=zo((()=>{null==h||h(),i.length&&f(i.slice(0,-1))}));return ge.createElement("div",{className:xr("Lbq2gMzt",d,uf)},m??ge.createElement("div",{className:S},o),function(){const e=xr("__vkSP7q","error"===r&&"LI_tisFH",(E||k)&&"HnSSbC5N");return ge.createElement("div",{className:e,"aria-hidden":!0},Array.from({length:c},((e,t)=>ge.createElement("div",{key:t,className:xr("CH4h9HQz",t<i.length&&"r_kAZ0Dm","error"===r&&Ef,(E||k)&&kf)}))))}(),ge.createElement("div",{className:xr("CUQ0KIAI",u&&"MGnO4hqt")},ge.createElement(Cf,{value:"1",onClick:T,isDisabled:N}),ge.createElement(Cf,{value:"2",onClick:T,isDisabled:N}),ge.createElement(Cf,{value:"3",onClick:T,isDisabled:N}),ge.createElement(Cf,{value:"4",onClick:T,isDisabled:N}),ge.createElement(Cf,{value:"5",onClick:T,isDisabled:N}),ge.createElement(Cf,{value:"6",onClick:T,isDisabled:N}),ge.createElement(Cf,{value:"7",onClick:T,isDisabled:N}),ge.createElement(Cf,{value:"8",onClick:T,isDisabled:N}),ge.createElement(Cf,{value:"9",onClick:T,isDisabled:N}),p?ge.createElement(Cf,{onClick:p,isDisabled:E},ge.createElement("i",{className:xr("icon",y?"icon-face-id":"icon-touch-id"),"aria-hidden":!0})):ge.createElement("span",null),ge.createElement(Cf,{value:"0",onClick:T,isDisabled:N}),ge.createElement(xf,{name:"zoomFade",activeKey:A&&!i.length?0:1},v&&A&&!i.length?ge.createElement(Cf,{className:"nvnxE80n",onClick:v},ge.createElement("i",{className:"icon icon-exit","aria-hidden":!0})):ge.createElement(Cf,{className:!b&&"c_i4rWyo",isDisabled:!b||E,onClick:I},ge.createElement("i",{className:"icon icon-backspace","aria-hidden":!0})))))}))),Pf={sticker:"ifHfFY2u",label:"C3jlHNpF",title:"kC9WGOYP",errorMessage:"q8niLQND",verify:"SDEJGboy",error:"ZokzPDAj",pinPadHeader:"sftOkqxr",closeButton:"twjZlrDJ",autoConfirmCheckbox:"MgA9JMMb",logOutWrapper:"N0lWn9sM",logOutButton:"jhtp0Nsp"},Ff=180,[Rf,Uf]=E(Date.now());function Wf(e){e&&Do(e),Uf(Date.now())}const Hf=fe(je((e=>{const{isPasswordNumeric:t,authConfig:n,isAutoConfirmEnabled:a}=e.settings;return{isPasswordNumeric:t,isBiometricAuthEnabled:St(e),isNativeBiometricAuthEnabled:At(e),authConfig:n,isAutoConfirmEnabled:a}}))((function(t){let{isActive:o,isLoading:r,operationType:i,isPasswordNumeric:s,isBiometricAuthEnabled:c,isNativeBiometricAuthEnabled:d,authConfig:u,cancelLabel:m,submitLabel:p,stickerSize:f=Ff,placeholder:h="Enter your password",error:g,help:v,resetStateDelayMs:w,containerClassName:y,pinPadClassName:b,children:E,withCloseButton:k,noAnimatedIcon:C,inputWrapperClassName:N,forceBiometricsInMain:S,skipAuthScreen:A,isAutoConfirmEnabled:T,onUpdate:I,onCancel:B,onSubmit:_}=t;const{openSettings:x,setInMemoryPassword:D,setIsAutoConfirmEnabled:L}=Ke(),O=_r(),M=me(),P=function(e){const t=de((()=>wm()),[]);return t&&!e.current&&ym().then((t=>{e.current=t})),t}(M),F=A&&P,R=me(),[U,W]=ie(""),[H,$]=ie(""),[V,z]=ie(0),[K,q,j]=rm(!1),{isSmallHeight:Y,isPortrait:G}=hi(),Q=!U.length&&!F,X=il(),[J,Z,ee]=rm(!1),te=Dp(!!g||!!H,e.Avc),ne=function(t){const{showDialog:n}=Ke();return zo((()=>{n({title:"$storage_cleared_title",message:Ir("$storage_cleared_message",{support_link:ge.createElement("a",{href:`https://t.me/${e.Fkn}`,target:"_blank",rel:"noreferrer"},"@",e.Fkn)}),buttons:{cancel:{title:"Cancel"},confirm:{title:"Log Out",isDestructive:!0,action:"signOutAll"}},noBackdropClose:!0,isInAppLock:"unlock"===t})}))}(i);ce((()=>{o&&($(""),W(""),z(0))}),[o]);const ae=zo((async e=>{const t=F?M.current:e;if(_(t),F)return;const n=await(0,a.p)("verifyPassword",t);if(!n&&!await(0,a.p)("checkWorkerStorageIntegrity"))return ne();n&&D({password:t})})),oe=zo((()=>{ae(U)})),re=zo((async()=>{try{$("");const e=await So(u);e?ae(e):(z(V+1),$("Biometric confirmation failed"),n.xy&&V>2&&q())}catch(e){$(e.message||O("Something went wrong."))}}));ce((()=>{n.KI&&!S||!o||!c||F||(0,l.v7)(300).then(re)}),[S,re,o,c,F]),ye((()=>Rf.subscribe(re))),xp(R,!o||c);const se=zo((()=>{$(""),I()})),le=zo((()=>{j(),null==B||B(),x()})),ue=zo((e=>{W(e),g&&I()})),pe=zo((e=>{L({isEnabled:e})})),fe=zo((e=>{Do(e),Z()}));ce((()=>Q||r?void 0:zr({onEnter:oe})),[oe,r,Q]);const he="unlock"===i,ve=xr(Gs.footerButtons,he&&Gs.footerButtonFullWidth);function we(){return ge.createElement("div",{className:ve},B&&ge.createElement(js,{isLoading:r&&c,isDisabled:r&&!c,className:Gs.buttonHalfWidth,onClick:B},m||O("Cancel")),c&&Boolean(H)&&ge.createElement(js,{isPrimary:!0,isLoading:r,isDisabled:r,className:Gs.buttonHalfWidth,onClick:r?void 0:re,shouldStopPropagation:!0},O("Try Again")),(!c||F)&&ge.createElement(js,{isPrimary:!0,isLoading:r,isDisabled:Q,className:he?Gs.buttonFullWidth:Gs.buttonHalfWidth,onClick:r?void 0:oe},p||O("Send")))}function be(){return ge.createElement(Lp,{checked:!!T,onChange:pe,className:Pf.autoConfirmCheckbox},O("Remember for %1$d minutes",e.gbw))}const Ee="turnOnBiometrics"!==i&&!c;if(X){const t=Boolean(H||g),n=function(){switch(i){case"unfreeze":return"Confirm Unfreezing";case"passcode":case"turnOnBiometrics":return"Confirm Passcode";case"transfer":case"sending":return"Confirm Sending";case"staking":return"Confirm Staking";case"unstaking":return"Confirm Unstaking";case"swap":return"Confirm Swap";case"unlock":return;case"claim":return"Confirm Rewards Claim";case"mintCard":return"Confirm Upgrading";default:return"Confirm Action"}}(),a=O(d?ol()?"Enter code or use Face ID":rl()?"Enter code or use Touch ID":"Enter code or use biometrics":"Enter code"),r=ge.createElement(ge.Fragment,null,k&&ge.createElement(js,{isRound:!0,className:xr(Gs.closeButton,Pf.closeButton),ariaLabel:O("Close"),onClick:B},ge.createElement("i",{className:xr(Gs.closeIcon,"icon-close"),"aria-hidden":!0})),ge.createElement("div",{className:Pf.pinPadHeader},G&&!C&&ge.createElement(of,{play:o,tgsUrl:_p.guard,previewUrl:_p.guardPreview,noLoop:!1,nonInteractive:!0}),!Y&&n&&ge.createElement("div",{className:Pf.title},O(n)),E),F?we():ge.createElement(Mf,{isActive:o,title:O(t?H||g:Y&&n?n:a),type:t?"error":void 0,length:e.NEx,resetStateDelayMs:w,value:U,topContent:Ee?be():void 0,className:b,onBiometricsClick:d?re:void 0,onLogOutClick:"unlock"===i?Z:void 0,onChange:W,onClearError:se,onSubmit:ae}),"unlock"===i&&ge.createElement(Mp,{isOpen:J,onClose:ee,isInAppLock:!0}));return F?ge.createElement("div",{className:Gs.transitionContent},r):r}return ge.createElement("div",{className:xr(Gs.transitionContent,y)},!C&&ge.createElement(of,{tgsUrl:_p.holdTon,previewUrl:_p.holdTonPreview,play:o,size:f,nonInteractive:!0,noLoop:!1,className:Pf.sticker}),E,!F&&(c?function(){const e=H||g;return e?ge.createElement("div",{className:Pf.error},O(e)):ge.createElement("div",{className:Pf.verify},O("transfer"===i?"Please confirm transaction using biometrics":"Please confirm operation using biometrics"))}():ge.createElement(ge.Fragment,null,ge.createElement(sf,{ref:R,type:"password",isRequired:!0,id:"first-password",wrapperClassName:N,inputMode:s?"numeric":void 0,error:g?O(g):H,placeholder:O(h),value:U,onInput:ue,maxLength:s?e.NEx:void 0}),H&&ge.createElement("div",{className:Pf.errorMessage},O(H)),v&&!g&&ge.createElement("div",{className:Pf.label},v),Ee&&be())),te&&"unlock"===i&&ge.createElement("div",{className:Pf.logOutWrapper},O("Can't confirm?"),ge.createElement("span",{role:"button",tabIndex:0,className:Pf.logOutButton,onClick:fe},O("Exit all wallets"),ge.createElement("i",{className:xr("icon-chevron-right",Pf.detailsIcon),"aria-hidden":!0}))),we(),ge.createElement(ac,{isOpen:K,isCompact:!0,title:O("Biometric authentication failed"),onClose:j},ge.createElement("p",{className:Gs.text},O("Reinstall biometrics in your device's system settings, or use a passcode.")),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{className:Gs.button,onClick:j},O("Close")),ge.createElement(js,{isPrimary:!0,className:Gs.button,onClick:le},O("Settings")))),"unlock"===i&&ge.createElement(Mp,{isOpen:J,onClose:ee,isInAppLock:!0}))}))),$f=window.matchMedia("(prefers-color-scheme: dark)"),Vf=function(e){const[t,n]=ie("system"===e?$f.matches?"dark":"light":e),a=zo((()=>{n((()=>"system"===e?$f.matches?"dark":"light":e))}));return ce((()=>{if("system"===e)return $f.addEventListener("change",a),()=>{$f.removeEventListener("change",a)}}),[e]),a(),t},zf=new Set,Kf=fe((function(e){let{url:t,alt:n,loading:a,isSlow:o,className:r,imageClassName:i,children:s,fallback:c}=e;const l=me(),[d,u]=rm(zf.has(t)),[m,p]=rm(),f=(m||!t)&&!!c,h=Fp(d||f);return ge.createElement("div",{ref:h,className:r,style:o?"transition-duration: 0.5s;":void 0},f?c:ge.createElement("img",{ref:l,src:t,alt:n,loading:a,className:i,draggable:!1,referrerPolicy:"same-origin",onLoad:d?void 0:()=>{u(),zf.add(t)},onError:p}),s)})),qf="a0ISx2DN",jf="Mg8ZA3ww",Yf="AfTARhCR",Gf=i.p+"logoCoreWallet.7209423c2390840b4a91.svg",Qf=i.p+"logoDark.db78fa7a76eea19a30e7.svg",Xf=i.p+"logoLight.c9797ad4583a416a16c9.svg",Jf=fe((function(t){let{theme:n}=t;const a=_r(),o=Vf(n),r=e.TI6?Gf:"light"===o?Xf:Qf;return ge.createElement("div",{className:Yf},ge.createElement(Kf,{className:Yf,imageClassName:Yf,url:r,alt:a("Logo")}))})),Zf=fe((function(t){let{isActive:n,ref:o,theme:r,innerContentTopPosition:i=0,shouldHideBiometrics:s,onSubmit:c}=t;const l=_r(),{setIsPinAccepted:d}=Ke(),[u,m]=ie(""),p=zo((async e=>{await(0,a.p)("verifyPassword",e)?(il()&&(d(),await pl(!0)),c()):m("Wrong password, please try again.")})),f=zo((()=>m("")));return ge.createElement("div",{ref:o,className:qf,style:`--position-top: ${i}px;`},ge.createElement(Hf,{isActive:!(!n||al()&&s),noAnimatedIcon:!0,forceBiometricsInMain:!0,error:u,resetStateDelayMs:300,operationType:"unlock",containerClassName:xr("y8VDu2CW","custom-scroll"),pinPadClassName:"TBzkDy1l",inputWrapperClassName:"lpSqrTfE",submitLabel:l("Unlock"),onSubmit:p,onUpdate:f},ge.createElement(Jf,{theme:r}),ge.createElement("span",{className:xr(jf,"rounded-font")},e.C39)))})),eh=fe((function(t){let{ref:n,theme:a,innerContentTopPosition:o=0,handleChangeSlideForBiometricAuth:r}=t;const i=_r();return ge.createElement("div",{ref:n,className:qf,style:`--position-top: ${o}px;`},ge.createElement(Jf,{theme:a}),ge.createElement("span",{className:xr(jf,"rounded-font")},e.C39),ge.createElement(js,{isPrimary:!0,onClick:r},i("Unlock")))})),th=["focus","mousemove","touch","wheel","keydown"],nh={capture:!0};var ah=function(e){return e[e.button=0]="button",e[e.passwordForm=1]="passwordForm",e}(ah||{});const[oh,rh]=E(Date.now());const ih=fe(je((t=>{const{autolockValue:n,isAppLockEnabled:a}=t.settings,o=bt(t),r=St(t),i=At(t);return{isNonNativeBiometricAuthEnabled:r&&(!i||e.tKX),autolockValue:n,canRender:Boolean(a&&o),isAppLockEnabled:a,theme:t.settings.theme,isManualLockActive:t.isManualLockActive,shouldHideBiometrics:t.appLockHideBiometrics}}))((function(t){let{isNonNativeBiometricAuthEnabled:a,autolockValue:o="never",theme:r,isManualLockActive:i,isAppLockEnabled:s,shouldHideBiometrics:c,canRender:l}=t;const{clearIsPinAccepted:d,submitAppLockActivityEvent:u,setIsManualLockActive:m,setIsAppLockActive:p}=Ke(),[f,h,g,v]=function(e,t,n){const a=me(!0),o=me("never"!==e||t),r=me(),i=ve();o.current&&!n&&(o.current=!1);const s=zo((()=>{o.current=!0,i()})),c=zo((()=>{o.current=!1,r.current=void 0,i()}));return r.current=!t||a.current&&"never"!==e?"autolock":"manual",a.current=!1,[!!o.current,s,c,r.current]}(o,!!i,l),[w,y,b]=rm(f),E=me(Date.now()),{ref:k,innerContentTopPosition:C,unfixSlide:N,slideForBiometricAuth:S,setSlideForBiometricAuth:A,getDefaultSlideForBiometricAuth:T}=function(e,t,n){const a=me();function o(){return(_l()||"manual"===n)&&e?ah.button:ah.passwordForm}const[r,i]=ie(o()),[s,c]=ie(),l=void 0!==s,d=!il()&&e;function u(e){const n=a.current;if(n&&(!l||e)&&t&&d){const e=n.getBoundingClientRect().top;c(e)}}function m(){c(void 0)}ce((()=>{u()}),[t]);const{height:p}=um();return ce((()=>{d&&(m(),requestAnimationFrame((()=>u(!0))))}),[p]),{ref:a,innerContentTopPosition:s,unfixSlide:m,slideForBiometricAuth:r,setSlideForBiometricAuth:i,getDefaultSlideForBiometricAuth:o}}(a,f,v),I=zo((()=>{n.bA?u():E.current=Date.now()})),B=lm(I,[I],5e3),_=zo((()=>{var e;b(),A(T()),null===(e=ic())||void 0===e||e.show(),d(),I(),m({isActive:void 0,shouldHideBiometrics:void 0}),n.KI&&xo.show(),N(),p({isActive:!1}),ul()})),x=de((()=>e.zTb.find((e=>e.value===o)).period),[o]),{ref:D}=$s({isOpen:f,noMountTransition:!0,className:"slow",onCloseAnimationEnd:_});ce((()=>{f!==Ve().isAppLockActive&&p({isActive:!!f})}),[f]);const L=zo((()=>{var e;h(),y(),document.activeElement&&document.activeElement.blur(),n.KI&&xo.hide(),null===(e=ic())||void 0===e||e.hide(),A(T()),p({isActive:!0})})),O=zo((()=>{("never"!==o||i)&&l&&L()}));e.Oig&&(window.lock=O),!i||f||w||O();const M=zo((()=>{A(ah.passwordForm)}));ye((()=>{for(const e of th)window.addEventListener(e,B,nh);return()=>{for(const e of th)window.removeEventListener(e,B,nh)}})),ye((()=>{if(!n.bA)return oh.subscribe(B)}));const P=zo((e=>{Do(e),m({isActive:!0,shouldHideBiometrics:!0})}));cm(de((()=>s&&!f?{"Ctrl+Shift+L":P,"Alt+Shift+L":P,"Meta+Shift+L":P,...n.cp&&{"Mod+L":P}}:void 0),[s,f])),ce((()=>{if(n.bA)return;const e=setInterval((()=>{s&&!f&&Date.now()-E.current>x&&O()}),5e3);return()=>clearInterval(e)}),[f,x,O,s]),Bl(void 0,M);const F=Number(S===ah.passwordForm)+2*Number(w),R=a?S===ah.passwordForm?e.tKX?void 0:Wf:M:void 0;if(cm(de((()=>s&&f&&R?{Space:R,Enter:R,Escape:R}:void 0),[s,f,R])),!n.bA)return ge.createElement(xf,{ref:D,name:a&&e.tKX?"slideFade":"semiFade",onContainerClick:R,activeKey:F,className:"F1wWh0wj",shouldCleanup:!0},w?function(e){return ge.createElement("div",{className:xr("VzAZj1DO",void 0!==C&&"bO3Yeq_N",il()&&S===ah.passwordForm&&"KGdyJD8j")},S===ah.button&&a?ge.createElement(eh,{ref:k,theme:r,innerContentTopPosition:C,handleChangeSlideForBiometricAuth:M}):ge.createElement(Zf,{ref:k,isActive:e,theme:r,innerContentTopPosition:C,shouldHideBiometrics:!!c,onSubmit:g}))}:void 0)}))),sh=n.xy?`${e.p8S?e.yq6:e.DvZ}/version.txt`:"version.txt";qe("showActivityInfo",((e,t,a)=>{let{id:o}=a;if(!n.bA)return Jl(e,{currentActivityId:o});Ul("showActivityInfo",{id:o})})),qe("showAnyAccountTx",(async(e,t,a)=>{let{txId:o,accountId:r,network:i}=a;n.bA?Ul("showAnyAccountTx",{txId:o,accountId:r,network:i}):(await Promise.all([sc(),qd(e,r,i)]),t.showActivityInfo({id:o}))})),qe("showAnyAccountTokenActivity",(async(e,t,a)=>{let{slug:o,accountId:r,network:i}=a;n.bA?Ul("showAnyAccountTokenActivity",{slug:o,accountId:r,network:i}):(await Promise.all([sc(),qd(e,r,i)]),t.showTokenActivity({slug:o}))})),qe("closeActivityInfo",((e,t,n)=>{var a;let{id:o}=n;if((null===(a=ct(e))||void 0===a?void 0:a.currentActivityId)===o)return Jl(e,{currentActivityId:void 0})})),qe("addSavedAddress",((e,t,n)=>{let{address:a,name:o,chain:r}=n;const{savedAddresses:i=[]}=ct(e)||{};return Jl(e,{savedAddresses:[...i,{address:a,name:o,chain:r}]})})),qe("removeFromSavedAddress",((e,t,n)=>{let{address:a,chain:o}=n;const{savedAddresses:r=[]}=ct(e)||{};return Jl(e,{savedAddresses:r.filter((e=>!(e.address===a&&e.chain===o)))})})),qe("toggleTinyTransfersHidden",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,areTinyTransfersHidden:n}}})),qe("setCurrentTokenPeriod",((e,t,n)=>{let{period:a}=n;return Jl(e,{currentTokenPeriod:a})})),qe("addAccount",(async(e,t,o)=>{let{method:r,password:i,isAuthFlow:s}=o;const c=bt(e),l="importMnemonic"===r;if(c){if(s||(e=ql(e,{isLoading:!0}),ze(e)),!await(0,a.p)("verifyPassword",i))return e=Ve(),e=s?Kl(e,{isLoading:void 0,error:"Wrong password, please try again."}):ql(Ve(),{isLoading:void 0,error:"Wrong password, please try again."}),void ze(e);il()&&(e=jl(Ve()),ze(e)),await pl(!0)}e=Ve(),e=l||!c?{...e,isAddAccountModalOpen:void 0}:ql(e,{isLoading:!0}),ze(e),n.bA?Ul("addAccount2",{method:r,password:i}):t.addAccount2({method:r,password:i})})),qe("addAccount2",((e,t,a)=>{let{method:o,password:r}=a;const i="importMnemonic"===o,s=bt(e),c=s?i?An.importWallet:void 0:il()?An.createPin:n.uh?An.createBiometrics:An.createPassword;!i&&s||(e={...e,appState:Sn.Auth}),e=md(e=hd(e=Kl(e,{password:r,state:c}))),ze(e),i?t.startImportingWallet():t.startCreatingWallet()})),qe("renameAccount",((e,t,n)=>{let{accountId:a,title:o}=n;e={...e,shouldForceAccountEdit:!1},ze(function(e,t,n){return Ql(e,t,{title:n})}(e,a,o)),t.renameNotificationAccount({accountId:a})})),qe("clearAccountError",(e=>ql(e,{error:void 0}))),qe("openAddAccountModal",((e,t,a)=>{const{forceAddingTonOnlyAccount:o}=a||{};!n.bA||e.areSettingsOpen?(e={...e,isAddAccountModalOpen:!0},o&&(e=Kl(e,{forceAddingTonOnlyAccount:o})),ze(e)):Ul("openAddAccountModal",a)})),qe("closeAddAccountModal",((e,t,n)=>(il()&&(e=Yl(e)),e=Kl(e,{forceAddingTonOnlyAccount:void 0}),{...e,isAddAccountModalOpen:void 0}))),qe("changeNetwork",((e,t,n)=>{let{network:a}=n;return{...e,settings:{...e.settings,isTestnet:"testnet"===a}}})),qe("openSettings",(e=>(e=ed(e,{state:Hn.Initial}),{...e,areSettingsOpen:!0}))),qe("openSettingsWithState",((e,t,a)=>{let{state:o}=a;!n.bA||e.areSettingsOpen?(e=ed(e,{state:o}),ze({...e,areSettingsOpen:!0})):Ul("openSettingsWithState",{state:o})})),qe("setSettingsState",((e,t,n)=>{let{state:a}=n;e=ed(e,{state:a}),ze(e)})),qe("closeSettings",(e=>e.currentAccountId?{...e,areSettingsOpen:!1}:e)),qe("openBackupWalletModal",(e=>{if(!n.bA)return{...e,isBackupWalletModalOpen:!0};Ul("openBackupWalletModal")})),qe("closeBackupWalletModal",(e=>({...e,isBackupWalletModalOpen:void 0}))),qe("toggleInvestorView",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,isInvestorViewEnabled:n}}})),qe("changeLanguage",((e,t,n)=>{let{langCode:a}=n;return{...e,settings:{...e.settings,langCode:a}}})),qe("toggleCanPlaySounds",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,canPlaySounds:n}}})),qe("setLandscapeActionsActiveTabIndex",((e,t,n)=>{let{index:a}=n;return Jl(e,{landscapeActionsActiveTabIndex:a})})),qe("closeSecurityWarning",(e=>({...e,settings:{...e.settings,isSecurityWarningHidden:!0}}))),qe("toggleTokensWithNoCost",((e,t,n)=>{let{isEnabled:a}=n;return ed(e,{areTokensWithNoCostHidden:a})})),qe("toggleSortByValue",((e,t,n)=>{let{isEnabled:a}=n;return ed(e,{isSortByValueEnabled:a})})),qe("updateOrderedSlugs",((e,t,n)=>{let{orderedSlugs:a}=n;return nd(e,{...ut(e),orderedSlugs:a})})),qe("toggleTokenVisibility",((e,t,n)=>{let{slug:a,shouldShow:o}=n;const r=ut(e)??{},{alwaysShownSlugs:i=[],alwaysHiddenSlugs:s=[]}=r,c=new Set(i),l=new Set(s);return o?(l.delete(a),c.add(a)):(c.delete(a),l.add(a)),nd(e,{...r,alwaysHiddenSlugs:Array.from(l),alwaysShownSlugs:Array.from(c)})})),qe("deleteToken",((e,t,n)=>{var a,o,r,i;let{slug:s}=n;const c=ut(e)??{};return nd(e,{...c,orderedSlugs:null===(a=c.orderedSlugs)||void 0===a?void 0:a.filter((e=>e!==s)),alwaysHiddenSlugs:null===(o=c.alwaysHiddenSlugs)||void 0===o?void 0:o.filter((e=>e!==s)),alwaysShownSlugs:null===(r=c.alwaysShownSlugs)||void 0===r?void 0:r.filter((e=>e!==s)),deletedSlugs:[...c.deletedSlugs??[],s],importedSlugs:null===(i=c.importedSlugs)||void 0===i?void 0:i.filter((e=>e!==s))})})),qe("checkAppVersion",(t=>{fetch(`${sh}?${Date.now()}`).then((e=>e.text())).then((n=>{(function(e,t){const n=e.trim();return!!om.test(n)&&n!==t})(n=n.trim(),e.hl5)&&(t=Ve(),t={...t,isAppUpdateAvailable:!0,latestAppVersion:n.trim()},ze(t))})).catch((t=>{e.Oig&&console.error("[checkAppVersion failed] ",t)}))})),qe("requestConfetti",(t=>t.settings.animationLevel===e.dnp?t:{...t,confettiRequestedAt:Date.now()})),qe("requestOpenQrScanner",(async(e,t)=>{if((0,n.v3)()){const e=ro();return void(null==e||e.showScanQrPopup({},(n=>{pl(),e.closeScanQrPopup(),t.handleQrCode({data:n})})))}if(n.bA)return void Ul("requestOpenQrScanner");let a;e.currentTransfer.state===In.Initial?a={currentTransfer:e.currentTransfer}:e.currentSwap.state===Ln.Blockchain?a={currentSwap:e.currentSwap}:e.currentDomainLinking.state===Dn.Initial&&(a={currentDomainLinking:e.currentDomainLinking});const{camera:o}=await am.requestPermissions();"granted"===o||"limited"===o?(e=Ve(),e={...e,isQrScannerOpen:!0,currentQrScan:a},ze(e)):t.showNotification({message:Ir("Permission denied. Please grant camera permission to use the QR code scanner.")})})),qe("closeQrScanner",(e=>(n.bA&&Ul("closeQrScanner"),{...e,isQrScannerOpen:void 0,currentQrScan:void 0}))),qe("handleQrCode",(async(e,t,a)=>{let{data:o}=a;if(n.bA)return void Ul("handleQrCode",{data:o});const{currentTransfer:r,currentSwap:i,currentDomainLinking:s}=e.currentQrScan||{};if(r){const n=xc(o,e);return void(n?("error"in n&&t.showError({error:n.error}),ze(fd(e,{...r,...(0,c.cJ)(n,["error"])}))):ze(wd(fd(e,r),o)))}if(i||s){const t=xc(o,e),n=(null==t?void 0:t.toAddress)??o;return void ze(i?ud(e,{...i,toAddress:n}):Vd(e,{...s,walletAddress:n}))}if(await Sc(o))return;const l=function(e,t){var n;const a=function(e,t){for(const n of Object.keys(t))if(Ea(e,n))return n}(t,(null===(n=rt(e))||void 0===n?void 0:n.addressByChain)??{});if(!a)return;const o=e.currentTransfer.tokenSlug;return{toAddress:t,tokenSlug:a!==Zn(o)?Jn(a).slug:o}}(e=Ve(),o);l?t.startTransfer({...l,isPortrait:gi()}):t.showDialog({title:"This QR Code is not supported",message:""})})),qe("changeBaseCurrency",(async(e,t,o)=>{let{currency:r}=o;n.bA&&Ul("changeBaseCurrency",{currency:r}),await(0,a.p)("setBaseCurrency",r),await(0,a.p)("tryUpdateTokens"),await(0,a.p)("tryUpdateSwapTokens")})),qe("setIsPinAccepted",(e=>jl(e))),qe("clearIsPinAccepted",(e=>(n.bA&&Ul("clearIsPinAccepted"),Yl(e)))),qe("openOnRampWidgetModal",((e,t,a)=>{let{chain:o}=a;n.bA?Ul("openOnRampWidgetModal",{chain:o}):ze({...e,chainForOnRampWidgetModal:o})})),qe("closeOnRampWidgetModal",(e=>{ze({...e,chainForOnRampWidgetModal:void 0})})),qe("openMediaViewer",((e,t,n)=>{let{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}=n;const c=ct(e),{byAddress:l}=(null==c?void 0:c.nfts)||{};if(null==l?void 0:l[a])return{...e,mediaViewer:{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}}})),qe("closeMediaViewer",(e=>({...e,mediaViewer:{mediaId:void 0,mediaType:void 0}}))),qe("setReceiveActiveTab",((e,t,n)=>{let{chain:a}=n;return Jl(e,{receiveModalChain:a})})),qe("openReceiveModal",((e,t,a)=>{n.bA?Ul("openReceiveModal",a):(e=Jl(e,{receiveModalChain:null==a?void 0:a.chain}),e={...e,isReceiveModalOpen:!0},ze(e))})),qe("closeReceiveModal",(e=>(e=Jl(e,{receiveModalChain:void 0}),{...e,isReceiveModalOpen:void 0}))),qe("openInvoiceModal",((e,t,a)=>{n.bA?Ul("openInvoiceModal",a):(e=Jl(e,{invoiceTokenSlug:null==a?void 0:a.tokenSlug}),ze({...e,isInvoiceModalOpen:!0}))})),qe("changeInvoiceToken",((e,t,a)=>{n.bA&&Ul("changeInvoiceToken",a),e=Jl(e,{invoiceTokenSlug:a.tokenSlug}),ze(e)})),qe("closeInvoiceModal",(e=>(e=Jl(e,{invoiceTokenSlug:void 0}),{...e,isInvoiceModalOpen:void 0}))),qe("showIncorrectTimeError",((e,t)=>(t.showDialog({message:Ir("Time synchronization issue. Please ensure your device's time settings are correct.")}),{...e,isIncorrectTimeNotificationReceived:!0}))),qe("openLoadingOverlay",(e=>{ze({...e,isLoadingOverlayOpen:!0})})),qe("closeLoadingOverlay",(e=>{ze({...e,isLoadingOverlayOpen:void 0})})),qe("clearAccountLoading",(e=>{n.bA&&Ul("clearAccountLoading"),ze(ql(e,{isLoading:void 0}))})),qe("setIsAccountLoading",((e,t,n)=>{let{isLoading:a}=n;ze(ql(e,{isLoading:a}))})),qe("authorizeDiesel",(t=>{const n=rt(t).addressByChain.ton;if(!n)throw new Error("TON address missing");ze(Jl(t,{isDieselAuthorizationStarted:!0})),dc(`https://t.me/${e.B9l}?start=auth-${n}`)})),qe("submitAppLockActivityEvent",(()=>{n.bA?Ul("submitAppLockActivityEvent"):rh(Date.now())})),qe("closeAnyModal",(()=>{n.bA?Ul("closeAnyModal"):Zs(Date.now())})),qe("openExplore",(e=>({...e,isExploreOpen:!0}))),qe("closeExplore",(e=>({...e,isExploreOpen:void 0}))),qe("openFullscreen",(e=>{ze({...e,isFullscreen:!0}),ul()})),qe("closeFullscreen",(e=>{ze({...e,isFullscreen:void 0}),ul()})),qe("setIsSensitiveDataHidden",((e,t,n)=>{let{isHidden:a}=n;ze(ed(e,{isSensitiveDataHidden:!!a||void 0})),ul()})),qe("setIsAppLockActive",((e,t,a)=>{let{isActive:o}=a;n.KI&&Wl("setIsAppLockActive",{isActive:o}),ze({...e,isAppLockActive:o||void 0})})),qe("switchAccountAndOpenUrl",(async(e,t,a)=>{n.bA?Ul("switchAccountAndOpenUrl",a):(await Promise.all([sc(),a.accountId&&qd(e,a.accountId,a.network)]),await Nc(a.url,a))})),qe("switchToWallet",((e,t)=>{const{areSettingsOpen:n,isExploreOpen:a}=e,o=ct(e),r=(null==o?void 0:o.activeContentTab)===zn.Assets,i=!a&&!n;t.closeExplore(void 0,{forceOnHeavyAnimation:!0}),t.closeSettings(void 0,{forceOnHeavyAnimation:!0}),!r&&i&&(t.selectToken({slug:void 0},{forceOnHeavyAnimation:!0}),t.setActiveContentTab({tab:zn.Assets},{forceOnHeavyAnimation:!0}))})),qe("switchToExplore",((e,t)=>{const{isExploreOpen:n}=e;n&&t.closeSiteCategory(void 0,{forceOnHeavyAnimation:!0}),t.closeSettings(void 0,{forceOnHeavyAnimation:!0}),t.openExplore(void 0,{forceOnHeavyAnimation:!0})})),qe("switchToSettings",((e,t)=>{t.closeExplore(void 0,{forceOnHeavyAnimation:!0}),t.openSettings(void 0,{forceOnHeavyAnimation:!0})})),qe("setAppLayout",((e,t,o)=>{let{layout:r}=o;var i;n.cp?null===(i=window.electron)||void 0===i||i.changeAppLayout(r):(0,a.p)("setAppLayout",r)})),qe("clearDappConnectRequestError",(e=>{e=function(e){return{...e,dappConnectRequest:{...e.dappConnectRequest,error:void 0}}}(e),ze(e)})),qe("showDappTransferTransaction",((e,t,n)=>{const{transactionIdx:a}=n;e=Nd(e,{state:In.Confirm,viewTransactionOnIdx:a}),ze(e)})),qe("setDappTransferScreen",((e,t,n)=>{const{state:a}=n;e=Nd(e,{state:a}),ze(e)})),qe("submitDappTransferConfirm",(async(e,t)=>{const n=await ym();pt(e=Ve())?(e=Nd(e=Kd(e),{state:In.ConnectHardware}),ze(e)):n?(e=Nd(e,{isLoading:!0}),ze(e),t.submitDappTransfer({password:n})):(e=Nd(e,{state:In.Password}),ze(e))})),qe("clearDappTransferError",(e=>{e=Nd(e,{error:void 0}),ze(e)})),qe("openBrowser",((e,t,n)=>{let{url:a,title:o,subtitle:r}=n;e={...e,currentBrowserOptions:{url:a,title:o,subtitle:r}},ze(e)})),qe("closeBrowser",(e=>{e={...e,currentBrowserOptions:void 0},ze(e)})),qe("addSiteToBrowserHistory",((t,n,a)=>{let{url:o}=a;const r=ct(t);t=Jl(t,{browserHistory:(0,c.Am)([o,...(null==r?void 0:r.browserHistory)||[]]).slice(0,e.uSm)}),ze(t)})),qe("removeSiteFromBrowserHistory",((e,t,n)=>{var a;let{url:o}=n;const r=ct(e),i=null==r||null===(a=r.browserHistory)||void 0===a?void 0:a.filter((e=>e!==o));e=Jl(e,{browserHistory:null!=i&&i.length?i:void 0}),ze(e)})),qe("updateDappLastOpenedAt",((e,t,n)=>{let{url:a}=n;const{dappLastOpenedDatesByUrl:o}=ct(e);e=Jl(e,{dappLastOpenedDatesByUrl:{...o,[a]:Date.now()}}),ze(e)})),qe("openSiteCategory",((e,t,n)=>{let{id:a}=n;return Jl(e,{currentSiteCategoryId:a})})),qe("closeSiteCategory",(e=>Jl(e,{currentSiteCategoryId:void 0}))),qe("closeDappTransfer",(e=>{e=Nd(e,{state:In.None}),ze(e)})),qe("setDappSignDataScreen",((e,t,n)=>{const{state:a}=n;return Ad(e,{state:a})})),qe("submitDappSignDataConfirm",(async(e,t)=>{const n=await ym();e=Ve(),n?(e=Ad(e,{isLoading:!0}),ze(e),t.submitDappSignData({password:n})):(e=Ad(e,{state:_n.Password}),ze(e))})),qe("clearDappSignDataError",(e=>Ad(e,{error:void 0}))),qe("closeDappSignData",(e=>Ad(e,{state:_n.None})));var ch=i(51915),lh=i(59301);async function dh(a,o,r){let s=Ve();ze(zd(s,{hardwareState:Rn.Connecting,hardwareWallets:void 0,isLedgerConnected:void 0,isTonAppConnected:void 0}));const c=await Promise.all([i.e(800),i.e(909),i.e(629),i.e(803)]).then(i.bind(i,50243)),d=await c.connectLedger(a);var u;if(s=Ve(),!d)return!e.hL1||n.Fe||r?(s=zd(s,{isLedgerConnected:!1,hardwareState:Rn.Failed}),"usb"===a&&null!==(u=s.hardware.availableTransports)&&void 0!==u&&u.includes("bluetooth")&&(s=zd(s,{lastUsedTransport:"bluetooth"})),void ze(s)):async function(e){ze(zd(Ve(),{hardwareState:Rn.WaitingForRemoteTab})),await(0,l.v7)(500);const t=await(0,ch.nm)(),n=await chrome.windows.getCurrent();await new Promise((e=>(0,ch.i6)(t,e))),await chrome.windows.update(n.id,{focused:!0}),await dh(e,!1,!0)}(a);if(ze(zd(s,{isLedgerConnected:!0})),n.Fe)return(0,ch.ks)();try{const e=await c.waitLedgerTonApp();if(s=Ve(),!e)return void ze(zd(s,{isTonAppConnected:!1,hardwareState:Rn.Failed}));ze(zd(s,{isTonAppConnected:!0}));const t=await async function(e){const t=Ve(),n=ot(t),a=function(e,t){const n=ft(e,t),a=null==n?void 0:n.map((e=>e.ledger.index)).sort(((e,t)=>e-t));if(0===a.length||0!==a[0])return-1;if(1===a.length)return 0;for(let e=1;e<a.length;e++)if(a[e]-a[e-1]!==1)return e-1;return a.length-1}(t,n),o=ft(t,n).map((e=>e.addressByChain.ton)).filter(Boolean),r=await e.getNextLedgerWallets(n,a,o);if("error"in r)throw Ke().showError({error:r.error}),Error(r.error);return r}(c),n=1===t.length?Rn.ConnectedWithSingleWallet:Rn.ConnectedWithSeveralWallets;ze(zd(Ve(),{hardwareWallets:t,hardwareState:n,lastUsedTransport:a}))}catch(e){const n=(0,lh.HN)(e.name);if(n&&!o)return dh(a,!0,r);s=Ve(),ze(zd(s,{isLedgerConnected:!n,isTonAppConnected:n?void 0:s.hardware.isTonAppConnected,hardwareState:Rn.Failed})),(0,t.SJ)("connectHardwareWallet",e)}}let uh;qe("initLedgerPage",(e=>({...e,appState:Sn.Ledger}))),qe("openHardwareWalletModal",(e=>(e=Kd(e),{...e,isHardwareModalOpen:!0}))),qe("closeHardwareWalletModal",(e=>({...e,isHardwareModalOpen:!1}))),qe("initializeHardwareWalletModal",(async(t,a)=>{const o=await Promise.all([i.e(800),i.e(909),i.e(629),i.e(803)]).then(i.bind(i,50243)),{isBluetoothAvailable:r,isUsbAvailable:s}=await o.detectAvailableTransports(),c=await o.hasUsbDevice(),l=[];s&&l.push("usb"),r&&l.push("bluetooth"),t=zd(t=Ve(),{availableTransports:l}),0===l.length?(ze(t),e.UMQ?a.showDialog({title:"Bluetooth unavailable",message:"$bluetooth_enable_guide",buttons:{confirm:{title:"Open Settings",action:"openBluetoothSettings"},cancel:{title:"Cancel"}}}):a.showNotification({message:"Ledger is not supported on this device."})):1===l.length?(ze(t),n.Fe||a.initializeHardwareWalletConnection({transport:l[0]})):(c||(t=zd(t,{lastUsedTransport:"bluetooth"})),ze(t))})),qe("initializeHardwareWalletConnection",(async(e,t,n)=>{await dh(n.transport)})),qe("resetHardwareWalletConnect",(e=>Kd(e))),qe("loadMoreHardwareWallets",(async(e,t,n)=>{let{lastIndex:a}=n;const o=ot(e),r=e.hardware.hardwareWallets??[],s=await Promise.all([i.e(800),i.e(909),i.e(629),i.e(803)]).then(i.bind(i,50243)),c=await s.getNextLedgerWallets(o,a);if(e=Ve(),"error"in c)throw t.showError({error:c.error}),Error(c.error);e=zd(e,{hardwareWallets:r.concat(c)}),ze(e)})),We((e=>{if(!uh||!uh.settings)return void(uh=e);const{settings:t}=uh,{settings:n}=e;n.theme!==t.theme&&ii(n.theme),n.langCode!==t.langCode&&Br(n.langCode),uh=e})),qe("setAppLockValue",((e,t,n)=>{let{value:a,isEnabled:o}=n;return{...e,settings:{...e.settings,autolockValue:a,isAppLockEnabled:o}}})),qe("setIsManualLockActive",((e,t,n)=>{let{isActive:a,shouldHideBiometrics:o}=n;return{...e,isManualLockActive:a,appLockHideBiometrics:o}})),qe("setIsAutoConfirmEnabled",((e,t,n)=>{let{isEnabled:a}=n;return a||t.setInMemoryPassword({password:void 0,force:!0}),{...e,settings:{...e.settings,isAutoConfirmEnabled:a||void 0}}})),qe("setIsAllowSuspiciousActions",((e,t,n)=>{let{isEnabled:a}=n;return td(e,e.currentAccountId,{isAllowSuspiciousActions:a||void 0})})),qe("setInMemoryPassword",((e,t,a)=>{let{password:o,isFinalCall:r,force:i}=a;return e.settings.isAutoConfirmEnabled||r||i?(St(e)||(bm(o),r||(n.KI&&Wl("setInMemoryPassword",{password:o,isFinalCall:!0}),n.bA&&Ul("setInMemoryPassword",{password:o,isFinalCall:!0}))),e):e})),qe("openSettingsHardwareWallet",(e=>{e=ed(e=Kd(e),{state:Hn.LedgerConnectHardware}),ze(e)})),qe("openNftCollection",((e,t,n)=>{let{address:a}=n;const o=e.currentAccountId;return Zl(e,o,{nfts:{...lt(e,o).nfts,currentCollectionAddress:a}})})),qe("closeNftCollection",(e=>Jl(e,{nfts:{...ct(e).nfts,currentCollectionAddress:void 0},selectedNftsToHide:void 0}))),qe("selectNfts",((e,t,n)=>{let{addresses:a}=n;e=function(e,t,n){const a=lt(e,t).nfts,o=[...(null==a?void 0:a.selectedAddresses)??[],...n];return Zl(e,t,{nfts:{...a,selectedAddresses:o}})}(e,e.currentAccountId,a),ze(e)})),qe("selectAllNfts",((e,t,n)=>{let{collectionAddress:a}=n;const o=e.currentAccountId,{blacklistedNftAddresses:r,whitelistedNftAddresses:i}=lt(e,o)||{},s=new Set(i),c=new Set(r),{nfts:l}=lt(e,o),d=Object.values(l.byAddress).filter((e=>(!e.isHidden||s.has(e.address))&&!c.has(e.address)&&(void 0===a||e.collectionAddress===a)));e=Zl(e,o,{nfts:{...l,selectedAddresses:d.map((e=>{let{address:t}=e;return t}))}}),ze(e)})),qe("clearNftSelection",((e,t,n)=>{let{address:a}=n;e=function(e,t,n){const a=lt(e,t).nfts,o=((null==a?void 0:a.selectedAddresses)??[]).filter((e=>e!==n));return Zl(e,t,{nfts:{...a,selectedAddresses:o.length?o:void 0}})}(e,e.currentAccountId,a),ze(e)})),qe("clearNftsSelection",(e=>{const t=e.currentAccountId;e=Zl(e,t,{nfts:{...lt(e,t).nfts,selectedAddresses:[]}}),ze(e)})),qe("addCollectionTab",((t,n,a)=>{let{collectionAddress:o,isAuto:r}=a;const i=t.currentAccountId,s=lt(t,i),c=(null==s?void 0:s.nfts)||{byAddress:{}};if(r&&o===e.X6R&&c.wasTelegramGiftsAutoAdded)return t;const l=c.collectionTabs||[];return l.includes(o)||(t=Zl(t,i,{nfts:{...c,collectionTabs:[...l,o],...r&&o===e.X6R&&{wasTelegramGiftsAutoAdded:!0}}})),t})),qe("removeCollectionTab",((e,t,n)=>{let{collectionAddress:a}=n;const o=e.currentAccountId,r=lt(e,o),i=(null==r?void 0:r.nfts)||{byAddress:{}};return i.collectionTabs?e=Zl(e,o,{nfts:{...i,collectionTabs:i.collectionTabs.filter((e=>e!==a))}}):e})),qe("openVestingModal",(e=>{ze({...e,isVestingModalOpen:!0})})),qe("closeVestingModal",(e=>{ze({...e,isVestingModalOpen:void 0})})),qe("startClaimingVesting",(e=>{if(n.bA)return void Ul("startClaimingVesting");const t=e.currentAccountId;e=pt(e=Wd(e={...e,isVestingModalOpen:void 0},t,{isConfirmRequested:!0}))?Wd(e=Kd(e),t,{unfreezeState:Wn.ConnectHardware}):Wd(e,t,{unfreezeState:Wn.Password}),ze(e)})),qe("cancelClaimingVesting",(e=>{e=Wd(e,e.currentAccountId,{isConfirmRequested:void 0}),ze(e)})),qe("clearVestingError",(e=>{e=Wd(e,e.currentAccountId,{error:void 0}),ze(e)})),qe("rebuildOrderedSlugs",(e=>{const t=ut(e)??{},{orderedSlugs:n=[]}=t,a=(Wt(e)??[]).map((e=>{let{slug:t}=e;return t})),o=(0,c.Am)([...n,...a]);return(0,c.k)(n,o)?e:nd(e,{...t,orderedSlugs:o})})),qe("showTokenActivity",((e,t,n)=>{let{slug:a}=n;t.selectToken({slug:a},{forceOnHeavyAnimation:!0}),t.setActiveContentTab({tab:zn.Activity})})),qe("startTransfer",((e,t,a)=>{var o,r;const i=e.currentTransfer.state!==In.None;if(n.bA&&!i)return void Ul("startTransfer",a);const{isPortrait:s,...c}=a??{},l=Symbol("nft"),d=null!==(o=e.currentTransfer.nfts)&&void 0!==o&&o.length?l:e.currentTransfer.tokenSlug,u=null!=a&&null!==(r=a.nfts)&&void 0!==r&&r.length?l:null==a?void 0:a.tokenSlug,m=u&&u!==d;ze(fd(e,{state:s?In.Initial:In.None,error:void 0,...m?{fee:void 0,realFee:void 0,diesel:void 0}:{},...c})),s||t.setLandscapeActionsActiveTabIndex({index:Vn.Transfer})})),qe("changeTransferToken",((e,t,n)=>{let{tokenSlug:a,withResetAmount:o}=n;const{amount:r,tokenSlug:i,nfts:s}=e.currentTransfer;if(!(null!=s&&s.length||a!==i||o))return;const c=i?e.tokenInfo.bySlug[i]:void 0,l=e.tokenInfo.bySlug[a];o?e=fd(e,{amount:void 0}):r&&(null==c?void 0:c.decimals)!==(null==l?void 0:l.decimals)&&(e=fd(e,{amount:(0,Pt.UH)((0,Pt.nI)(r,null==c?void 0:c.decimals),null==l?void 0:l.decimals)})),ze(fd(e,{tokenSlug:a,fee:void 0,realFee:void 0,diesel:void 0,nfts:void 0}))})),qe("setTransferScreen",((e,t,n)=>{const{state:a}=n;return fd(e,{state:a})})),qe("setTransferAmount",((e,t,n)=>{let{amount:a}=n;return fd(e,{amount:a})})),qe("setTransferToAddress",((e,t,n)=>{let{toAddress:a}=n;return wd(e,a)})),qe("setTransferComment",((e,t,n)=>{let{comment:a}=n;return fd(e,{comment:a})})),qe("setTransferShouldEncrypt",((e,t,n)=>{let{shouldEncrypt:a}=n;return fd(e,{shouldEncrypt:a})})),qe("submitTransferConfirm",(async(e,t)=>{const n=await ym();pt(e=Ve())?(e=fd(e=Kd(e),{state:In.ConnectHardware}),ze(e)):n?(e=fd(e,{isLoading:!0}),ze(e),t.submitTransfer({password:n})):(e=fd(e,{state:In.Password}),ze(e))})),qe("clearTransferError",(e=>{ze(fd(e,{error:void 0}))})),qe("dismissTransferScamWarning",(e=>{n.KI&&Wl("dismissTransferScamWarning"),e=fd(e,{scamWarningType:void 0}),ze(e)})),qe("showTransferScamWarning",((e,t,n)=>{let{type:a}=n;e=fd(e,{scamWarningType:a}),ze(e)})),qe("setTheme",((e,t,n)=>{let{theme:a}=n;return{...e,settings:{...e.settings,theme:a}}})),qe("setAnimationLevel",((e,t,n)=>{let{level:a}=n;return{...e,settings:{...e.settings,animationLevel:a}}})),qe("tryAddNotificationAccount",((t,n,a)=>{let{accountId:o}=a;t.pushNotifications.isAvailable&&Object.keys(tt(t)||{}).length<=e.vdF&&n.createNotificationAccount({accountId:o})})),qe("renameNotificationAccount",((e,t,n)=>{let{accountId:a}=n;const{enabledAccounts:o,isAvailable:r}=e.pushNotifications;r&&null!=o&&o[a]&&t.createNotificationAccount({accountId:a})})),qe("toggleNotificationAccount",((t,n,a)=>{let{accountId:o}=a;const{enabledAccounts:r,userToken:i,platform:s}=t.pushNotifications;if(!i||!s)return;const c=r&&r[o];!c&&r&&Qe(r,e.vdF-1)||(c?n.deleteNotificationAccount({accountId:o,withAbort:!0}):n.createNotificationAccount({accountId:o,withAbort:!0}))})),qe("deleteAllNotificationAccounts",(async(e,t,n)=>{const{enabledAccounts:o,userToken:r}=e.pushNotifications;if(!o||!r)return;const i=(null==n?void 0:n.accountIds)||Object.keys(o);await(0,a.p)("unsubscribeNotifications",{userToken:r,addresses:Object.values(Hc(e,i))}),e=Ve(),ze(Hu(e))}));var mh=i(41074);const ph={light:["#31AFC7","#35C759","#FF9500","#FF2C55","#AF52DE","#5856D7","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#1FC863","#929395","#E4B102","#000000"],dark:["#3AB5CC","#32D74B","#FF9F0B","#FF325A","#BF5AF2","#7977FF","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#2CD36F","#C3C5C6","#DDBA00","#FFFFFF"]},fh=new Set([13,14,15,16]);function hh(e,t,n){const a=n?ph[t][n]:void 0;le((()=>{const t="body"===e?document.body:e.current;t&&(Ls(t,{"--color-accent":a||"inherit","--color-accent-10o":a?`${a}1A`:"inherit","--color-accent-button-background":a||"inherit","--color-accent-button-background-hover":a?`${a}CC`:"inherit","--color-accent-button-text":"#FFFFFF"===a?"#000000":"inherit","--color-accent-button-text-hover":"#FFFFFF"===a?"#000000":"inherit"}),Ds(document.documentElement,"is-white-accent","#FFFFFF"===a))}),[e,a])}async function gh(e){const{mtwCardType:n,mtwCardBorderShineType:a}=e.metadata;if("radioactive"===a)return 13;if("silver"===n)return 14;if("gold"===n)return 15;if("platinum"===n||"black"===n)return 16;const o=ar(e);if(o)try{return await(0,mh.M1)({name:"offscreen-canvas:processNftImage",args:[o,1,2]},Math.round(e.index)%mh.bP)}catch(e){return void(0,t.SJ)("getAccentColorIndexFromNft",e)}}ph.light.map(((e,t)=>({color:e,index:t}))).filter((e=>{let{index:t}=e;return!fh.has(t)})),qe("openMintCardModal",(e=>Hd(e,{state:$n.Initial}))),qe("closeMintCardModal",(e=>({...e,currentMintCard:void 0}))),qe("startCardMinting",((e,t,n)=>{let{type:a}=n;return pt(e)?Hd(e=Kd(e),{state:$n.ConnectHardware}):Hd(e,{state:$n.Password})})),qe("clearMintCardError",(e=>Hd(e,{error:void 0}))),qe("setCardBackgroundNft",((e,t,a)=>{let{nft:o}=a;n.bA?Ul("setCardBackgroundNft",{nft:o}):(e=nd(e,{cardBackgroundNft:o}),ze(e))})),qe("clearCardBackgroundNft",(e=>{n.bA?Ul("clearCardBackgroundNft"):(e=nd(e,{cardBackgroundNft:void 0}),ze(e))})),qe("installAccentColorFromNft",(async(e,t,n)=>{let{nft:a}=n;const o=await gh(a);e=nd(e=Ve(),{accentColorNft:a,accentColorIndex:o}),ze(e)})),qe("clearAccentColorFromNft",(e=>nd(e,{accentColorNft:void 0,accentColorIndex:void 0}))),qe("openDomainRenewalModal",(async(e,t,n)=>{var a;let{accountId:o,network:r,addresses:i}=n;if(o&&await Promise.all([sc(),qd(e,o,r)]),!await(0,l.fm)((()=>{var e;return Boolean(null===(e=ct(Ve()))||void 0===e||null===(e=e.nfts)||void 0===e?void 0:e.byAddress)}),1e3,30))return;e=Ve();const{byAddress:s}=(null===(a=ct(e))||void 0===a?void 0:a.nfts)||{};i=(i||[]).filter((e=>null==s?void 0:s[e])),i.length&&(e=$d(e,{state:xn.Initial,addresses:i}),ze(e))})),qe("startDomainsRenewal",(e=>pt(e)?$d(e=Kd(e),{state:xn.ConnectHardware}):$d(e,{state:xn.Password}))),qe("clearDomainsRenewalError",(e=>$d(e,{error:void 0}))),qe("cancelDomainsRenewal",(e=>({...e,currentDomainRenewal:$l.currentDomainRenewal}))),qe("openDomainLinkingModal",((e,t,n)=>{let{address:a}=n;return Vd(e,{state:Dn.Initial,address:a})})),qe("startDomainLinking",(e=>pt(e)?Vd(e=Kd(e),{state:Dn.ConnectHardware}):Vd(e,{state:Dn.Password}))),qe("clearDomainLinkingError",(e=>Vd(e,{error:void 0}))),qe("cancelDomainLinking",(e=>({...e,currentDomainLinking:$l.currentDomainLinking}))),qe("setDomainLinkingWalletAddress",((e,t,n)=>{let{address:a}=n;return Vd(e,{walletAddress:a})}));const vh=e.UMQ?500:5e3,wh=(0,l.nF)((()=>x((()=>Sh()))),vh,!1),yh=()=>Sh(!0);let bh,Eh,kh=!1;function Ch(){var e;kh&&(window.removeEventListener("blur",yh),null===(e=bh)||void 0===e||e(),function(e){const t=Be.indexOf(e);-1!==t&&Be.splice(t,1)}(wh),kh=!1)}const Nh=t=>{const n=new Set(Object.keys(e.lfO));if(t.currentAccountId){var a;const e=null===(a=t.byAccountId[t.currentAccountId])||void 0===a?void 0:a.currentTokenSlug;e&&n.add(e)}return Object.values(t.byAccountId).forEach((e=>{const{balances:t,activities:a,staking:o}=e;Object.keys((null==t?void 0:t.bySlug)??{}).forEach((e=>n.add(e))),Object.keys((null==a?void 0:a.byId)??{}).forEach((e=>{sn(a.byId[e]).forEach((e=>n.add(e)))})),Object.keys((null==a?void 0:a.idsBySlug)??{}).forEach((e=>n.add(e))),Object.keys((null==o?void 0:o.stateById)??{}).forEach((e=>{n.add(o.stateById[e].tokenSlug)}))})),Array.from(n)};function Sh(t){var n;if(e.UuV||!kh||!t&&B())return;const a=Ve(),o=(null===(n=a.accounts)||void 0===n?void 0:n.byId)||{},r={...$l,...(0,c.Up)(a,["currentAccountId","stateVersion","restrictions","pushNotifications","isFullscreen","isManualLockActive","stakingDefault"]),accounts:{byId:o},byAccountId:Ah(a),settings:{...a.settings,byAccountId:(0,c.Up)(a.settings.byAccountId,Object.keys(o))}},i=Nh(r);r.tokenInfo={bySlug:(0,c._E)(a.tokenInfo.bySlug,i)};const s=JSON.stringify(r);localStorage.setItem(e.pge,s)}function Ah(t){return Object.entries(t.byAccountId).reduce(((n,a)=>{var o,r,i;let[s,l]=a;if(null===(o=t.accounts)||void 0===o||!o.byId[s])return n;n[s]=(0,c.Up)(l,["isBackupRequired","currentTokenSlug","currentTokenPeriod","savedAddresses","staking","activeContentTab","landscapeActionsActiveTabIndex","browserHistory","blacklistedNftAddresses","whitelistedNftAddresses","dappLastOpenedDatesByUrl","dapps"]),null!==(r=l.nfts)&&void 0!==r&&r.collectionTabs&&(n[s].nfts={collectionTabs:l.nfts.collectionTabs,wasTelegramGiftsAutoAdded:l.nfts.wasTelegramGiftsAutoAdded});const d=function(t,n){const{currentTokenSlug:a}=lt(t,n)??{},o=(0,c.JY)(Vt(t,n)??[],"slug").slice(0,30);return o.includes(e.Tu9.slug)||o.push(e.Tu9.slug),a&&!o.includes(a)&&o.push(a),o}(t,s);var u,m;return n[s].balances=(m=d,null!=(u=l.balances)&&u.bySlug&&m?{...u,bySlug:(0,c.Up)(u.bySlug,m)}:u),n[s].activities=function(e,t){const{idsBySlug:n,newestActivitiesBySlug:a,byId:o,idsMain:r}=e||{};if(!(t&&n&&o&&r))return;const i=Th(r,o),s=(0,c.LG)((0,c._E)(n,t),(e=>Th(e,o))),l=a?(0,c.Up)(a,t):void 0,d=Object.values(s).concat(i).flat();return{byId:(0,c.Up)(o,d),idsMain:i,idsBySlug:s,newestActivitiesBySlug:l}}(l.activities,d),n[s].staking=function(e){let{stakingId:t,stateById:n}=e??{};var a;n&&!Ge(n)&&(n=(0,c.lk)(n,lu),t&&t in n||(t=null===(a=Object.values(n)[0])||void 0===a?void 0:a.id));return{...e,stateById:n,stakingId:t}}(l.staking),n[s].stakingHistory=null!==(i=l.stakingHistory)&&void 0!==i&&i.length?l.stakingHistory.slice(0,30):void 0,n}),{})}function Th(e,t){const n=[];let a=0;return e.filter((e=>function(e,t){const n=t[e];return n&&!on(e)&&!gn(n)}(e,t))).forEach((e=>{20!==a&&(t[e].shouldHide||(a+=1),n.push(e))})),n}n.bA||e.UuV||(qe("afterSignIn",(function(){kh||(kh=!0,We(wh),bh=(0,l.yu)(yh,!0),window.addEventListener("blur",yh),yh())})),qe("afterSignOut",((t,n,a)=>{Zt(),null!=a&&a.shouldReset&&(Eh=(0,c.Up)(t,["swapTokenInfo","tokenInfo","restrictions"]),Ch(),localStorage.removeItem(e.pge))})),qe("cancelCaching",Ch)),qe("init",((t,a)=>{const o=(0,c.mg)($l),r=function(t){if(e.UuV)return t;e.Oig&&console.time("global-state-cache-read");const a=localStorage.getItem(e.pge);let o=a?JSON.parse(a,ua.bk):void 0;if(e.Oig&&console.timeEnd("global-state-cache-read"),o)try{!function(t,a){if(t.settings={...a.settings,...t.settings},45!==t.stateVersion){var o;if(t.byAccountId||(t.accounts={byId:{[e.Kih]:{address:t.addresses.byAccountId[e.Kih],title:"Main Account"}}},delete t.addresses,t.byAccountId={},t.byAccountId[e.Kih]={isBackupRequired:Boolean(t.isBackupRequired),currentTokenSlug:t.currentTokenSlug,currentTokenPeriod:t.currentTokenPeriod},"balances"in t&&(t.byAccountId[e.Kih].balances=t.balances.byAccountId[e.Kih],delete t.balances),"transactions"in t&&(t.byAccountId[e.Kih].transactions=t.transactions,delete t.transactions),"nfts"in t&&(t.byAccountId[e.Kih].nfts=t.nfts,delete t.nfts),"savedAddresses"in t&&(t.byAccountId[e.Kih].savedAddresses=t.savedAddresses,delete t.savedAddresses),"backupWallet"in t&&delete t.backupWallet),t.currentAccountId&&t.byAccountId[t.currentAccountId]||!Object.keys(t.byAccountId).length||(t.currentAccountId=Object.keys(t.byAccountId)[0]),t.stateVersion||!t.accounts||Ge(t.accounts)||(t.stateVersion=1),1===t.stateVersion&&(t.stateVersion=2,null!==(o=t.tokenInfo)&&void 0!==o&&o.bySlug&&(t.tokenInfo.bySlug={toncoin:{...t.tokenInfo.bySlug.toncoin,decimals:e.Tu9.decimals}}),t.byAccountId&&Object.values(t.byAccountId).forEach((e=>{var t;null!==(t=e.balances)&&void 0!==t&&t.bySlug&&(e.balances.bySlug=(0,c.Up)(e.balances.bySlug,["toncoin"])),e.transactions&&delete e.transactions}))),2===t.stateVersion){t.stateVersion=3;const n="0",a=e.Kih;if(t.accounts&&n in t.accounts.byId&&(t.currentAccountId===n&&(t.currentAccountId=a),t.accounts.byId[a]=t.accounts.byId[n],delete t.accounts.byId[n],t.byAccountId[a]=t.byAccountId[n],delete t.byAccountId[n]),t.accounts)for(const e of Object.keys(t.accounts.byId)){const n=(0,Ye.zu)({...(0,Ye.cK)(e),network:"testnet"});t.accounts.byId[n]=(0,c.mg)(t.accounts.byId[e]),t.byAccountId[n]={}}}if(3===t.stateVersion&&(t.stateVersion=4,t.byAccountId))for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].transactions;if(4===t.stateVersion&&(t.stateVersion=5,t.staking={state:Un.None}),5===t.stateVersion&&(t.stateVersion=6,t.byAccountId))for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].transactions;if(6===t.stateVersion&&(t.stateVersion=7,t.byAccountId))for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].transactions;if(7===t.stateVersion){if(t.byAccountId)for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].backupWallet;t.stateVersion=8}if(8===t.stateVersion&&(t.settings&&n.cp&&(t.settings.isDeeplinkHookEnabled=!0),t.stateVersion=9),9===t.stateVersion&&(i(),t.stateVersion=10),10===t.stateVersion&&(void 0===t.settings.areTokensWithNoBalanceHidden&&(t.settings.areTokensWithNoBalanceHidden=!0),t.stateVersion=11),11===t.stateVersion&&(i(),t.stateVersion=12),12===t.stateVersion){if(t.byAccountId)for(const e of Object.keys(t.byAccountId)){delete t.byAccountId[e].activities;const{balances:n}=t.byAccountId[e];n&&(n.bySlug=Object.entries(n.bySlug).reduce(((e,t)=>{let[n,a]=t;return e[n]=BigInt(a),e}),{}))}t.stateVersion=13}if(13===t.stateVersion){const{areTokensWithNoPriceHidden:e,areTokensWithNoBalanceHidden:n}=t.settings;t.settings.areTokensWithNoCostHidden=Boolean(e||n),t.stateVersion=14}if(t.stateVersion>=14&&t.stateVersion<=17&&(i(),t.stateVersion=18),18===t.stateVersion||19===t.stateVersion){for(const e of Object.keys(t.byAccountId))t.byAccountId[e].currentTokenPeriod="1D";t.stateVersion=20}if(t.stateVersion>=20&&t.stateVersion<=22&&(i(),t.stateVersion=23),23===t.stateVersion&&("isSortByValueEnabled"in t.settings||(t.settings.isSortByValueEnabled=a.settings.isSortByValueEnabled),t.stateVersion=24),24===t.stateVersion){if(t.accounts){i();for(const e of Object.values(t.accounts.byId))e.addressByChain={ton:e.address},delete e.address}t.stateVersion=25}if(25===t.stateVersion){if(t.byAccountId)for(const e of Object.keys(t.byAccountId)){const n=t.byAccountId[e].savedAddresses;n&&!("length"in n)&&(t.byAccountId[e].savedAddresses=Object.keys(n).map((e=>({name:n[e],address:e,chain:"ton"}))))}t.stateVersion=26}if(26===t.stateVersion&&(i(),t.stateVersion=27),27===t.stateVersion&&(delete t.settings.dapps,t.stateVersion=28),28===t.stateVersion){const e=Object.keys(t.settings.byAccountId);for(const n of e){const e=t.settings.byAccountId[n].exceptionSlugs;t.settings.areTokensWithNoCostHidden?t.settings.byAccountId[n].alwaysShownSlugs=e:t.settings.byAccountId[n].alwaysHiddenSlugs=e}t.stateVersion=29}if(29===t.stateVersion&&(t.currentTransfer.tokenSlug=e.Tu9.slug,t.stateVersion=30),30===t.stateVersion&&(i(),t.stateVersion=31),31===t.stateVersion&&(t.settings.autolockValue&&"never"!==t.settings.autolockValue&&(t.settings.isAppLockEnabled=!0),t.stateVersion=32),t.stateVersion>=32&&t.stateVersion<=35&&(i(),t.stateVersion=36),36===t.stateVersion){for(const e of Object.values((null===(r=t.accounts)||void 0===r?void 0:r.byId)??{})){var r;e.type=e.isHardware?"hardware":"mnemonic",delete e.isHardware}t.stateVersion=37}if(37===t.stateVersion){for(const e of Object.values(t.tokenInfo.bySlug))e.price||(e.price=0),e.percentChange24h||(e.percentChange24h=0),e.priceUsd||(e.priceUsd=0),e.quote&&delete e.quote;t.stateVersion=38}if(t.stateVersion>=38&&t.stateVersion<=41&&(i(),t.stateVersion=42),41===t.stateVersion){for(const e of Object.keys(t.byAccountId)){const n=t.byAccountId[e];n.dappLastOpenedDatesByOrigin&&(n.dappLastOpenedDatesByUrl=n.dappLastOpenedDatesByOrigin,delete n.dappLastOpenedDatesByOrigin)}t.stateVersion=42}t.stateVersion>=42&&t.stateVersion<=44&&(i(),t.stateVersion=45)}function i(){if(t.byAccountId)for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].activities}}(o,t),function(e){if(!e.currentAccountId)return;const{byId:t,newestActivitiesBySlug:n}=e.byAccountId[e.currentAccountId].activities||{};t&&Object.values(t).forEach((e=>{"transaction"===e.kind&&e.isIncoming&&Xt(e)})),n&&Object.values(n).forEach((e=>{"transaction"===e.kind&&e.isIncoming&&Xt(e)}))}(o)}catch(e){console.error(e),o=void 0}return{...t,...Eh,...o}}(o);return n.bA?{...o,settings:{...o.settings,theme:r.settings.theme}}:n.Fe?(a.initLedgerPage(),{...o,settings:{...o.settings,theme:r.settings.theme}}):(function(e){return Boolean(e.currentAccountId)}(r)&&a.afterSignIn(),r)})),BigInt.prototype.toJSON=function(){return`${ua.tH}${this.toString()}`};let Ih=!1;async function Bh(){await new Promise((e=>{const t=[];let n=performance.now();(0,d.i0)((()=>{const a=performance.now();if(t.push(a-n),n=a,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0}),l.IJ)}))<=35&&function(){Ih=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame((()=>{t.addEventListener("transitionend",(()=>{e.remove()})),t.style.transform=""}))}()}let _h=function(e){return e.DEEPLINK="deeplink",e.UPDATE_ERROR="update-error",e.UPDATE_DOWNLOADED="update-downloaded",e}({});const xh=function(){let e,t=!1;const a=function(n){var a;t=!0,null===(a=e)||void 0===a||a.call(this,{...n,preventScroll:!0})},o=()=>{Dh(n.Ni&&t),t=!1};return{install(){e||(e=HTMLElement.prototype.focus,HTMLElement.prototype.focus=a,window.addEventListener("focusin",o))},uninstall(){e&&(HTMLElement.prototype.focus=e,e=void 0,window.removeEventListener("focusin",o))}}}();function Dh(e){const t=document.activeElement;if(!t)return;const n=t.dataset.focusScrollPosition??"nearest";(0,k.YS)((()=>{t.scrollIntoView({block:n,behavior:e?"instant":"auto"})}))}const Lh=n.Fe||n.bA||n.cp||e.tKX,Oh=String(Date.now()+Math.random());let Mh;Lh||localStorage.setItem(e.tOu,Oh);const Ph=window.setInterval((()=>{!Lh&&Mh&&localStorage.getItem(e.tOu)!==Oh&&(Mh(),clearInterval(Ph))}),2e3);var Fh=i(37448);const Rh=(0,Oa.F3)("Filesystem",{web:()=>i.e(956).then(i.bind(i,69956)).then((e=>new e.FilesystemWeb))}),Uh=(0,Oa.F3)("Share",{web:()=>i.e(104).then(i.bind(i,78104)).then((e=>new e.ShareWeb))});async function Wh(e,t){const n={url:e,title:t};await Hh(n)||await $h(n)||(await hl(e),Ke().showNotification({message:Ir("Link was copied!"),icon:"icon-link"}))}async function Hh(t){if(!e.UMQ)return!1;try{return await Uh.share(t),!0}catch(e){if(e instanceof Error&&"Share canceled"===e.message)return!0;if(e instanceof Error&&"Can't share while sharing is in progress"===e.message)return!1;throw e}}async function $h(e){if(!n.TF||!navigator.share)return!1;try{return await navigator.share(e),!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return!0;if(e instanceof Error&&"NotAllowedError"===e.name)return!1;throw e}}function Vh(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=be(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return t||null!=e?e:n}const zh={button:"zVKWQb4E",item:"p6wqAx5G",wide:"r6y8uqO8",interactive:"Q9ntFVQX",label:"D1GD_LrJ",light:"soVchDDr",inherit:"wFCZ8RVE",disabled:"pvIBCUiV",dangerous:"pGdKfZ0g",buttonIcon:"N6o0srlb",item_selected:"RsC78CT6",itemSelected:"RsC78CT6",item_with_icon:"U_181tTH",itemWithIcon:"U_181tTH",itemIcon:"Y6vHSLLj",itemMainIcon:"j8oqwmMI",itemOverlayIcon:"Kyq0Mbfk",fontIcon:"YG4KjBia",itemName:"Mj3kpKk7",itemDescription:"SGTt7OqT",delimiter:"MtXTN7mi",delimiterAfter:"K5zqNd8W",dropdownButtonWrapper:"M88J3eDx",spinner:"O6oZGmyS"},Kh=fe((function(e){let{item:t,shouldUseSelectedName:n,shouldTranslate:a,prefix:o,suffix:r,className:i,iconClassName:s,iconOverlayClassName:c,fontIconClassName:l,itemClassName:d,itemDescriptionClassName:u,onClick:m}=e;const p=_r(),f=n?t.selectedName??t.name:t.name,h=xr(t.isDisabled&&zh.disabled,t.isDangerous&&zh.dangerous,i);return ge.createElement("button",{type:"button",className:h,disabled:t.isDisabled,onClick:m&&(e=>m(e,t.value))},o,t.icon&&ge.createElement("span",{className:xr("icon",zh.itemIcon,s)},ge.createElement("img",{src:t.icon,alt:"",className:zh.itemMainIcon}),t.overlayIcon&&ge.createElement("img",{src:t.overlayIcon,alt:"",className:xr("icon",zh.itemOverlayIcon,c)})),t.fontIcon&&ge.createElement("i",{className:xr(`icon icon-${t.fontIcon}`,zh.fontIcon,l),"aria-hidden":!0}),ge.createElement("span",{className:xr(zh.itemName,d)},a?p(f):f,!!t.description&&ge.createElement("span",{className:xr(zh.itemDescription,u)},a&&"string"==typeof t.description?p(t.description):t.description)),r)}));function qh(e){return zr({onEsc:()=>{e()}})}const jh={wrapper:"VydD7Rve",inPortal:"vcuzKHhA",bubble:"mY0hTIiL",top:"FsyRNnQH",bottom:"tkKrx8OR",left:"MvEERemq",right:"y6xJQNRF",backdrop:"gc2eH8vQ",menu:"gtd29jbF",suggestion:"BYQgxGEv",dropdown:"IxGdkmhI"},Yh=16,Gh={width:0,left:0,height:0,top:0,right:0,bottom:0};function Qh(e,t,n){let{anchor:a,positionX:o="left",positionY:r="top",transformOriginX:i,transformOriginY:s,style:c,bubbleStyle:l}=n;const d=e.current,u=t.current;let m=c;a&&!c&&(m=`left: ${a.x}px; top: ${a.y}px`),m&&(d.style.cssText=m),l&&(u.style.cssText=l),o&&(xs(u,jh.left),xs(u,jh.right),_s(u,jh[o])),r&&(xs(u,jh.top),xs(u,jh.bottom),_s(u,jh[r])),Ls(u,{transformOrigin:[i?`${i}px`:o,s?`${s}px`:r].join(" ")})}const Xh=200,Jh=e=>{let{children:t,isOpen:n,id:a,menuRef:o,className:r,bubbleClassName:i,type:s="menu",autoClose:c=!1,shouldSkipTransition:l,noBackdrop:d=!1,withPortal:u,noCloseOnBackdrop:m=!1,shouldCleanup:p,onCloseAnimationEnd:f,onClose:h,onMouseEnter:g,onMouseLeave:v,...w}=e;const y=me();let b=me();o&&(b=o),function(e,t,n,a){const o=Vo(a);le((()=>{if(!e)return;const a=o.current;!function(e){return"getRootElement"in e}(a)?Qh(t,n,a):(0,k.gm)((()=>{const e=function(e){let{anchor:t,getRootElement:n,getMenuElement:a,getTriggerElement:o,getLayout:r,withMaxHeight:i}=e;const s=(null==r?void 0:r())||{},{triggerRect:c,rootRect:l,menuDimensions:d}=function(e){let{getTriggerElement:t,getRootElement:n,getMenuElement:a,layout:o,anchor:r}=e;const i=null==t?void 0:t(),s=n(),c=a(),{extraMarginTop:l=0,menuElMinWidth:d=0}=o,u=i?i.getBoundingClientRect():{...Gh,left:r.x,top:r.y,right:r.x,bottom:r.y},m=s?s.getBoundingClientRect():Gh;let p;if(m.height-=qa().safeAreaBottom,c){const e=parseInt(getComputedStyle(c).marginTop,10)+l,{offsetWidth:t,offsetHeight:n}=c;p={width:Math.max(t,d),height:n+e,marginTop:e}}else p={width:0,height:0,marginTop:0};return{triggerRect:u,rootRect:m,menuDimensions:p}}({getTriggerElement:o,getRootElement:n,getMenuElement:a,layout:s,anchor:t}),{positionX:u,x:m}=function(e,t,n,a){let o,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"right",i=e.x;return"right"===r?i-n>=t.left+Yh?(o="right",i-=3):(o="left",i+=3):i+n<=t.right-Yh?(o="left",i+=3):(o="right",i-=3),i+=a,{positionX:o,x:i}}(t,l,d.width,s.deltaX||0,s.preferredPositionX),{positionY:p,y:f}=function(e,t,n,a,o){const{topShiftY:r=0,extraTopPadding:i=0,isDense:s=!1,doNotCoverTrigger:c=!1,preferredPositionY:l}=o;let d,u=e.y;if(c){const e=t.bottom+6+a<=n.bottom,o=t.top-6-a>=n.top;e&&"bottom"!==l?(d="top",u=t.bottom+6):o?(d="bottom",u=t.top-6):(d="bottom",u=n.top+n.height)}else{const e=u+r,o=e+t.height+a<n.height+n.top,c=u-t.height-a>=n.top+i;"bottom"===l&&c||!s&&!o?(d="bottom",c||(u=n.top+n.height)):(d="top",u=e)}return{positionY:d,y:u}}(t,c,l,d.height,s),h=function(e,t,n,a,o,r){const{shouldAvoidNegativePosition:i=!1,withPortal:s=!1,isDense:c=!1,menuElMinWidth:l=0,centerHorizontally:d=!1}=r;let{x:u,y:m}=e;if(d)u=n.left+(n.width-o.width)/2,u=Lr(u,a.left+Yh,a.right-o.width-Yh),s||(m-=n.top);else{const e=Math.min(u-n.left,a.width-o.width-Yh);"left"===t?u=s||i?Math.max(Yh,e):e:u-=n.left,s?u+=n.left:m-=n.top}c&&(u=Math.min(u,a.width-o.width-Yh),m=Math.min(m,a.height-o.height-Yh)),s&&!d&&(u="left"===t?Math.min(u,a.width-o.width-Yh):Math.max(u,Yh+o.width));const p=l?Math.max(0,(l-(o.width-l))/2):0;return u-p<0&&i&&(u=p+Yh),{x:u,y:m}}({x:m,y:f},u,c,l,d,s),g=function(e,t,n,a,o,r){const i=r?{x:a.left,y:a.top}:{x:0,y:0},s=e.x+i.x-a.left-t.x,c=e.y+i.y-a.top-t.y-o.marginTop;return{x:"left"===n.positionX?s:o.width+s,y:"bottom"===n.positionY?o.height+c:c}}(t,h,{positionX:u,positionY:p},c,d,s.withPortal||!1),v=`left: ${h.x}px; top: ${h.y}px; --menu-width: ${d.width}px;`;let w;return i&&(w=`max-height: ${l.height-12-d.marginTop}px;`),{positionX:u,positionY:p,transformOriginX:g.x,transformOriginY:g.y,style:v,bubbleStyle:w}}(a);return()=>{Qh(t,n,e)}}))}),[e,t,n,o])}(n,y,b,w),Yi({isActive:Boolean(n&&h),onBack:h,shouldBeReplaced:!0});const{shouldRender:E}=$s({isOpen:n,ref:b,onCloseAnimationEnd:f,noMountTransition:l,noCloseTransition:l,withShouldRender:!0});ce((()=>n&&h?qh(h):void 0),[n,h]),vi((e=>{let[t]=e;(n||!n&&!0===t)&&_(Xh)}),[n]),function(e,t,n){ce((()=>{const a=e=>{const a=t.current,o=e.target;a&&o&&(a.contains(e.target)&&!o.classList.contains(jh.backdrop)||(e.preventDefault(),e.stopPropagation(),n&&n()))};return e&&n&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}}),[e,t,n])}(n&&!d,y,m?void 0:h);const C=xr(jh.bubble,i,"menu-bubble",jh[s]);if(p&&!E)return;const N=ge.createElement("div",{ref:y,id:a,className:xr(jh.wrapper,r,u&&jh.inPortal),onMouseEnter:g,onMouseLeave:n?v:void 0},n&&!d&&ge.createElement("div",{className:jh.backdrop,onClick:Do}),ge.createElement("div",{ref:b,className:C,onClick:c?h:void 0},t));return u?ge.createElement(Ys,null,N):N};function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zh.apply(null,arguments)}const eg=fe((function(e){let{isOpen:t,ref:n,selectedValue:a,items:o,withPortal:r,menuAnchor:i,menuPositionX:s,menuPositionY:c,shouldTranslateOptions:l,className:d,bubbleClassName:u,buttonClassName:m,iconClassName:p,fontIconClassName:f,itemDescriptionClassName:h,shouldCleanup:g,onSelect:v,onClose:w,getTriggerElement:y,getRootElement:b,getMenuElement:E,getLayout:k,onCloseAnimationEnd:C}=e,N=me();n&&(N=n);const S=i&&y&&b&&E?{anchor:i,getTriggerElement:y,getRootElement:b,getMenuElement:E,getLayout:k}:i&&b&&E?{anchor:i,getRootElement:b,getMenuElement:E,getLayout:k,positionX:s,positionY:c}:{anchor:i,positionX:s,positionY:c},A=zo(((e,t)=>{e.stopPropagation(),null==v||v(t,e),w()}));return ge.createElement(Jh,Zh({menuRef:N,isOpen:t,type:"dropdown",withPortal:r,className:d,bubbleClassName:u,shouldCleanup:g,onClose:w,onCloseAnimationEnd:C},S),o.map(((e,t)=>{const n=xr(zh.item,(e.icon||e.fontIcon)&&zh.item_with_icon,e.withDelimiter&&t>0&&zh.delimiter,e.withDelimiterAfter&&zh.delimiterAfter,a===e.value&&zh.item_selected,m,"capture-scroll");return ge.createElement(Kh,{key:e.value,item:e,shouldTranslate:l,className:n,iconClassName:p,fontIconClassName:f,itemClassName:"menuItemName",itemDescriptionClassName:h,onClick:A})})))})),tg=fe((function(e){let{title:t,className:n,withNotch:a,closeClassName:o,menuItems:r,onClose:i,onBackButtonClick:s,onMenuItemClick:c}=e;const l=_r(),d=me(),u=me(),[m,p]=ie(),f=Boolean(null==r?void 0:r.length),h=Boolean(m),g=zo((()=>u.current)),v=zo((()=>document.body)),w=zo((()=>d.current)),y=zo((()=>({withPortal:!0}))),b=zo((()=>p(void 0))),E=zo((()=>{if(h)b();else{const{right:e,y:t,height:n}=u.current.getBoundingClientRect();p({x:e,y:t+n})}}));return ge.createElement("div",{className:xr(Gs.header,"with-notch-on-scroll",a&&"is-scrolled",!s&&Gs.header_wideContent,n,h&&"is-menu-open")},s&&ge.createElement(js,{isSimple:!0,isText:!0,onClick:s,className:Gs.header_back},ge.createElement("i",{className:xr(Gs.header_backIcon,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),void 0!==t&&ge.createElement("div",{className:xr(Gs.title,Gs.singleTitle)},t),f&&ge.createElement(js,{ref:u,isSimple:!0,className:xr(Gs.menuButton,o),ariaLabel:l("Menu"),onClick:E},ge.createElement("i",{className:xr(Gs.menuIcon,"icon-menu-dots"),"aria-hidden":!0})),i&&ge.createElement(js,{isRound:!0,className:xr(Gs.closeButton,o),ariaLabel:l("Close"),onClick:i},ge.createElement("i",{className:xr(Gs.closeIcon,"icon-close"),"aria-hidden":!0})),f&&ge.createElement(eg,{isOpen:h,ref:d,items:r,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:m,getTriggerElement:g,getRootElement:v,getMenuElement:w,getLayout:y,onSelect:c,onClose:b}))})),ng={"tonscan.org":"TON Explorer","multisend.mytonwallet.io":"Multi-Send","localhost:4323":"Multi-Send"},ag=[{value:"reload",name:"Reload",fontIcon:"menu-reload"},{value:"openInBrowser",name:"Open in Browser",fontIcon:"menu-globe"},{value:"copyUrl",name:"Copy Link",fontIcon:"menu-copy"},{value:"close",name:"Close",fontIcon:"menu-close",withDelimiter:!0}],og=fe(je((e=>{const{currentBrowserOptions:t}=e;return{url:null==t?void 0:t.url,title:null==t?void 0:t.title}}))((function(t){let{url:n,title:a}=t;const{closeBrowser:o,showNotification:r}=Ke(),i=_r(),s=me(),{setupDappBridge:c}=function(t){const n=me(),a=zo((a=>{var o;null===(o=n.current)||void 0===o||o.call(n);const r=a.target;n.current=(0,Po.kB)($o(t),new URL(t).origin,r.contentWindow,e.hUJ)}));return ce((()=>{if(t)return()=>{var e;null===(e=n.current)||void 0===e||e.call(n)}}),[t]),{setupDappBridge:a}}(n),l=de((()=>n&&new URL(n).host),[n]),d=Vh(a||l&&(ng[l]||l)),u=zo((e=>{if(!n)return;const t=s.current;switch(e){case"reload":t.src="about:blank",t.addEventListener("load",(()=>{t.src=n}),{once:!0});break;case"openInBrowser":dc(n,{isExternal:!0});break;case"copyUrl":hl(n),r({message:i("URL was copied!"),icon:"icon-copy"});break;case"share":Wh(n,d);break;case"close":o()}}));return ge.createElement(ac,{isOpen:Boolean(n),dialogClassName:"sszvWMpD",onClose:o},ge.createElement(tg,{title:d,menuItems:ag,onMenuItemClick:u,className:"ndvLaNkq"}),ge.createElement("iframe",{ref:s,title:d,src:n,className:"qm6h4mWP",allow:"web-share; clipboard-write",onLoad:c}))})));function rg(e,t){let{rootRef:n,throttleMs:a,throttleScheduler:o,debounceMs:r,shouldSkipFirst:i,margin:s,threshold:c,isDisabled:d}=e;const u=me(),m=me(),p=me(0),f=me();m.current=t;const h=zo((()=>{p.current++})),g=zo((()=>{p.current&&(p.current--,!p.current&&f.current&&(f.current(),f.current=void 0))}));qp(h,g),ce((()=>{if(!d)return()=>{u.current&&(u.current.observer.disconnect(),u.current.callbacks.clear(),u.current=void 0)}}),[d]);const v=zo(((e,t)=>{u.current||function(){const e=new Map,t=new Map;let d;function h(){if(p.current)return void(f.current=d);const n=Array.from(t.values());n.forEach((t=>{const a=e.get(t.target);a&&a(t,n)})),m.current&&m.current(n),t.clear()}d="function"==typeof o?(0,l.nb)(o,h):a?(0,l.nF)(h,a,!i):r?(0,l.sg)(h,r,!i):h;const g=new IntersectionObserver((e=>{e.forEach((e=>{t.set(e.target,e)})),p.current?f.current=d:d()}),{root:null==n?void 0:n.current,rootMargin:s?`${s}px`:void 0,threshold:c});u.current={observer:g,callbacks:e}}();const d=u.current;return d.observer.observe(e),t&&d.callbacks.set(e,t),()=>{t&&d.callbacks.delete(e),d.observer.unobserve(e)}}));return{observe:v,freeze:h,unfreeze:g}}function ig(e,t,n){const[a,o]=pe(!t);return function(e,t,n){const a=zo(n);ce((()=>t?t(e.current,a):void 0),[a,t,e])}(e,t,(e=>{o(e.isIntersecting),n&&n(e)})),a}let sg;const cg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=zo(e);ce((()=>{if(void 0===t)return;const e=setInterval(a,t);return n||a(),()=>clearInterval(e)}),[t,a,n])},lg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=zo(e);ce((()=>{if("number"==typeof t)return(0,l.Gf)(t,a)}),[t,a,...n])},dg="T1ztMNGQ",ug=i.p+"app-inactive.e835efd0bf0191aaa6ab.png",mg=i.p+"app-inactive.70579bd9a710cd418aff.webp",pg=function(){const t=_r(),n=zo((()=>{window.location.reload()}));return ge.createElement("div",{className:"cFGCnqcA"},ge.createElement("div",{className:"sRTywfr2"},ge.createElement("picture",{className:dg},ge.createElement("source",{src:mg}),ge.createElement("img",{src:ug,alt:"",className:dg})),ge.createElement("h3",{className:"UervEVFY"},t("Such error, many tabs")),ge.createElement("div",{className:"rO8yQetD"},rr(t("$many_tabs_error_description",{app_name:e.C39}))),ge.createElement("div",{className:"u6bKEBnR"},ge.createElement(js,{isText:!0,className:"eymlW7_B",onClick:n},t("Reload App")))))};function fg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const[t,n]=ie(!0),[a,o]=ie(!0),r=zo((t=>{if(!t)return;const{scrollHeight:a,scrollTop:r,clientHeight:i}=t;n(r<e),o(a-r-i<e)}));return{isAtBeginning:t,isAtEnd:a,isScrolled:!t,handleScroll:zo((e=>{r(e.target)})),update:r}}const hg={root:"YO7I0Ma0"},gg={"🥷":"1f977","🦄":"1f984","⚠️":"26a0"},vg=new Set,wg=fe((function(e){let{from:t}=e;const n=t in gg?gg[t]:t,a=`./emoji/${n}.png`,[o,r]=rm(vg.has(a)),i=Fp(o),s=zo((()=>{r(),vg.add(a)}));return ge.createElement("img",{ref:i,src:a,alt:t,className:xr(hg.root,hg[`key-${n}`]),onLoad:s})})),yg={wrapper:"T7fZ5IMk",slide:"syDfunZP",modalDialog:"xRqyv_rX",header:"aDfdss28",withTopSpace:"dtjdV8GY",nestedTransition:"jX5Ya3FK",transitionContainer:"yVzk5dwl",developerCloseButton:"yn74reot",onlyTextHeader:"CgjtBlIK",headerInsideModal:"eFeOVzRI",languageHeader:"ZrejUKsI",headerBack:"ehDj7x2p",isInsideModal:"Wccw6pgw",hidden:"yTnK4aVo",iconChevron:"Qea3kUMy",headerBackInContent:"zvnNb8eo",headerTitle:"aZVKC5O6",modalHeader:"vwHnpdwF",content:"rgMxxE39",content_noScroll:"lh0I5gIh",contentNoScroll:"lh0I5gIh",withBottomSpace:"cjfvEx15",contentInModal:"ug6WizbB",contentFullSize:"BpFwAWae",blockTitle:"dBOj5NnG",menuIcon:"M1WSmGuc",themeWrapper:"cfK5v5m1",blockAbout:"yuZIbS8n",theme:"N5nUfRHH",theme_active:"eTa03cXj",themeActive:"eTa03cXj",themeIcon:"tZRnZj9J",themeIcon_active:"eEiBESrS",themeIconActive:"eEiBESrS",themeImg:"H_nvpBU5",colorList:"ftMWz1de",colorButton:"OaFvanYP",colorButtonCurrent:"GthJhaus",iconLock:"n1s4Ycb6",iconLockInverted:"r9kXSmsP",subBlockAsButton:"ImElqofC",block:"wJjymc4L",text:"sU0zQDmb",settingsBlockWithDescription:"xosGoD5d",settingsBlock:"_0TWKZFz4",iconChevronRight:"RHurCQ9b",iconQuestion:"CLKLBCVt",item:"o1nQhJ_F",draggable:"k2juknci",item_red:"yYJCYbbd",itemRed:"yYJCYbbd",item_small:"cC1nd9dM",itemSmall:"cC1nd9dM",item_lang:"kIWs2Jxk",itemLang:"kIWs2Jxk",item_wallet_version:"tTZZHEdN",itemWalletVersion:"tTZZHEdN",item_token:"LMTs4OeN",itemToken:"LMTs4OeN",item_disabled:"F3nzrEuV",itemDisabled:"F3nzrEuV",itemAutoLock:"TAmUTusj",itemInfo:"S5Kk31wp",small:"gq4usdgr",version:"oGJ2X15D",languageMain:"cIO_6vYD",languageNative:"NGS7pE5c",wideTooltip:"xZy_xEHS",disconnectButton:"Wu3RiwSF",dapps:"eyE78PWW",changePasswordButton:"xBpPU4Jb",passwordFormContent:"KQuDNpn5",passwordFormContentInModal:"OzmF3O5t",sticker:"aMwtPBfB",blockDescription:"HuH8igQi",emptyList:"ThoQya6m",emptyListTitle:"lek7Y5aS",dapp:"xc0VaBDP",backButton:"QlOjly_V",logo:"LQ5MMcSf",stickerNativeBiometric:"nLxfZG3p",pinPadHeader:"tnqhb1Qi",pinPadHeaderMinified:"K1fiksuZ",pinPadTitle:"MxOcmI0_",title:"sDP2AWSj",titleLink:"r7iIIH6q",heading:"Sh2kuIH2",github:"dBqNllGm",telegram:"sggkOqTT",tokenSortIcon:"V7Nh7XEi",tokenTitle:"wkk1b7Dc",tokenDescription:"cv6gw8az",tokenAmount:"BekK0Dwp",dot:"Zfi1H_we",dotLarge:"LIr9yHMx",contentRelative:"EiFz4WrA",sortableContainer:"zmQzVO7l",modalDialogWeb:"E67Qdj_t",modalContent:"mjHzkDZB",deleteText:"d8sxNodF",languageInfo:"AXAMGE3T",tokenInfo:"ll1f03qi",stickerAndTitle:"upR_yI1c",sideTitle:"atPnEcVz",aboutFooterWrapper:"EYMlspWb",aboutFooterContent:"U1sbe5pk",blockWalletVersionText:"poUctQOF",walletVersionInfo:"spNULnGc",walletVersionInfoRight:"Ez0t7GFF",walletVersionTitle:"DbBBKMBg",walletVersionTokens:"DUzHgWKY",walletVersionAddress:"xPrZcrFZ",walletVersionAmount:"nvPRmXTF",blockWalletVersionReadMore:"g3U3zj6y",nftPrimaryCell:"zpLwMrPQ",nftName:"JHu8TtpB",nftCollection:"mbtZbU1u",nftImage:"pifBd9KV",nftButtonUnhide:"_o8QIssq",account:"TXe6O6ZF",accountDisabled:"vf82b5zy"},bg=fe((function(t){let{isActive:n,isInsideModal:a,theme:o,headerClassName:r,handleBackClick:i}=t;const s=_r();Yi({isActive:n,onBack:i});const{handleScroll:c,isScrolled:l}=fg(),d="light"===Vf(o)?Xf:Qf,u=s("$about_extension_link_text",{app_name:e.C39});return ge.createElement("div",{className:yg.slide},a?ge.createElement(tg,{title:s("About %app_name%",{app_name:e.C39}),withNotch:l,onBackButtonClick:i,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,r,"with-notch-on-scroll",l&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:i,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,s("Back"))),ge.createElement("span",{className:yg.headerTitle},s("About %app_name%",{app_name:e.C39}))),ge.createElement("div",{className:xr(yg.content,a&&"custom-scroll",!a&&yg.content_noScroll),onScroll:a?c:void 0},ge.createElement("img",{src:d,alt:s("Logo"),className:yg.logo}),ge.createElement("h2",{className:yg.title},e.C39," ",e.hl5," ",e.vOV,!e.TI6&&ge.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",className:yg.titleLink,rel:"noreferrer"},"mytonwallet.io")),ge.createElement("div",{className:xr(yg.blockAbout,!a&&"custom-scroll")},ge.createElement("p",{className:yg.text},rr(s("$about_description1"))),ge.createElement("p",{className:yg.text},rr(s("$about_description2"))),e.hL1?ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:xr(yg.text,yg.heading)},ge.createElement(wg,{from:"🥷"})," ",s("What is TON Proxy?")),ge.createElement("p",{className:yg.text},rr(s("$about_extension_description1"))," ",ge.createElement("a",{href:"https://telegra.ph/TON-Sites-TON-WWW-and-TON-Proxy-09-29-2",target:"_blank",rel:"noopener noreferrer"},s("More info and demo."))),ge.createElement("h3",{className:xr(yg.text,yg.heading)},ge.createElement(wg,{from:"🦄"})," ",s("What is TON Magic?")),ge.createElement("p",{className:yg.text},rr(s("$about_extension_description2"))),ge.createElement("p",{className:yg.text},s("$about_extension_description3")," ",ge.createElement("a",{href:"https://telegra.ph/Telegram--TON-11-10",target:"_blank",rel:"noopener noreferrer"},s("More info and demo.")))):ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:xr(yg.text,yg.heading)},s("$about_proxy_magic_title",{ninja:ge.createElement(wg,{from:"🥷"}),unicorn:ge.createElement(wg,{from:"🦄"})})),ge.createElement("p",{className:yg.text},s("$about_proxy_magic_description",{extension_link:ge.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",rel:"noreferrer"},rr(u))}))),ge.createElement("h3",{className:xr(yg.text,yg.heading)},ge.createElement("i",{className:xr(yg.github,"icon-github"),"aria-hidden":!0})," ",s("Is it open source?")),ge.createElement("p",{className:yg.text},s("$about_wallet_github",{github_link:ge.createElement("a",{href:e.V3_,target:"_blank",rel:"noreferrer"},rr(s("$about_github_link_text")))})),ge.createElement("h3",{className:yg.heading},ge.createElement("i",{className:xr(yg.telegram,"icon-telegram"),"aria-hidden":!0})," ",s("Is there a community?")),ge.createElement("p",{className:yg.text},s("$about_wallet_community",{community_link:ge.createElement("a",{href:"ru"===s.code?"https://t.me/MyTonWalletRu":"https://t.me/MyTonWalletEn",target:"_blank",rel:"noreferrer"},rr(s("$about_community_link_text")))}))),ge.createElement("div",{className:yg.aboutFooterWrapper},ge.createElement("div",{className:yg.aboutFooterContent},ge.createElement("a",{href:"https://mytonwallet.io/terms-of-use",target:"_blank",rel:"noreferrer",onClick:mc},s("Terms of Use")),ge.createElement("i",{className:yg.dotLarge,"aria-hidden":!0}),ge.createElement("a",{href:"https://mytonwallet.io/privacy-policy",target:"_blank",rel:"noreferrer",onClick:mc},s("Privacy Policy"))))))})),Eg={wrapper:"ULZ34zm7",transitionContainer:"IpdZLqJd",transitionSlide:"XE9A_oIT",container:"PaAMLiEx",container_scrollable:"Kl8WYoh1",containerScrollable:"Kl8WYoh1",container_password:"UbkFqyhU",containerPassword:"UbkFqyhU",containerAlignTop:"kjX3jz7x",containerFullSize:"TyvpW2dz",aboutHeader:"fW4ULVz8",logo:"ehC1Upu8",appName:"IDG3Q9do",title:"GWv6k9kV",title_afterSmallSticker:"A9um3wzK",titleAfterSmallSticker:"A9um3wzK",titleSmallMargin:"XUVoSlvz",infoBlock:"PxIcz2Ce",text:"ehvMomrX",informationCheckbox:"EnuqqZk3",informationCheckboxContent:"GFpWMNm5",info:"WrpQj6v4",info_push:"I7MJaI4h",infoPush:"I7MJaI4h",info__space:"D8smEaJr",infoSpace:"D8smEaJr",infoPull:"NnW2gTZ2",infoSmallFont:"NNleMmCd",counter:"BMrG2A2B",counterTitle:"IFpNJ6G4",counterDigit:"FvuWBVMK",small:"I1fhFmAn",sticker:"hkc_A2ok",viewModeSticker:"lD3yvgO7",stickerAndTitle:"I_XB4JzC",backupNotice:"jSFFHbPH",backupNoticeButtons:"kUt_RfrB",modalSticker:"oxNcdksx",form:"VKREIrDv",formWidgets:"Vj7_u12z",passwordForm:"Stc9sPH6",errors:"vozeQrSV",passwordRules:"usE91GiK",passwordRule:"zwUB1a_J",valid:"tAmeBNo9",error:"B8vH7CYQ",buttons:"ODle5ROH",buttons__inner:"oNN6ymiQ",buttonsInner:"oNN6ymiQ",footerButton:"sarw89g5",btn:"SWvNin2D",btn_push:"W1k0H_HF",btnPush:"W1k0H_HF",btn_text:"qoCa264k",btnText:"qoCa264k",btn_about:"hc6SmKii",btnAbout:"hc6SmKii",btn_wide:"nfn0Ol3p",btnWide:"nfn0Ol3p",btn_mini:"Q2imCrap",btnMini:"Q2imCrap",btn_single:"uEEAE1sZ",btnSingle:"uEEAE1sZ",btnHalfWidth:"X7zz6SZl",modalDialog:"fGexmyHI",privateKey:"q7ZIxYSc",importingContent:"NH8rGjmE",footerError:"BZGziOTc",importButtonsBlock:"NM17kdjV",importButtonsBlockSimple:"PPE4xSFG",importText:"MHwkgrIZ",importButtons:"dYD_CpfV",biometricsStep:"t3qgjBKg",warning:"bs9tLaLO",biometricsError:"Es3mlsbs",stepTransition:"POUbGjea",passwordFormContainer:"t9A5nUYe",header:"iowmPhKV",headerTitle:"x58Cmt9r",pinPadHeader:"yHcMeGVS",headerBack:"ZzxVO58v",headerBackBlock:"NVF8z8CV",iconChevron:"vP8i059j",biometricsIcon:"ss3uFaAC",biometricsTitle:"VTH_ATCk",biometricsSubtitle:"C3vZhdz7",actionsSection:"Lfkf9AW5",importModalContent:"vb2ESy1T",disclaimerBackupDialog:"ZjhuaYXI"},kg=fe((function(e){let{isActive:t,isLoading:n,error:a,method:o}=e;const{resetAuth:r,cleanAuthError:i,addAccount:s}=Ke(),c=_r(),l="createAccount"!==o,d=zo((e=>{s({method:l?"importMnemonic":"createAccount",password:e,isAuthFlow:!0})}));return ge.createElement("div",{className:xr(Eg.container,Eg.container_scrollable,"custom-scroll")},ge.createElement(Hf,{isActive:t,isLoading:n,error:a,containerClassName:Eg.passwordForm,submitLabel:c("Send"),cancelLabel:c("Back"),onSubmit:d,onCancel:r,onUpdate:i},ge.createElement("div",{className:Eg.title},c("Enter your password"))))})),Cg={suggestions:"wSbrkEKB",bottom:"YGdWEJ33",top:"jKY8_1nT",suggestion:"MtG_CWxm",active:"kdLCV21p"},Ng=fe((function(e){let{position:t="bottom",suggestions:n,activeIndex:a,isInModal:o,onSelect:r}=e;const i=_r(),s=e=>{e.preventDefault();const t=e.target.innerText.trim();r(t)};return n.length?ge.createElement("ul",{className:xr(Cg.suggestions,Cg[t],o&&Cg.embedded)},n.map(((e,t)=>ge.createElement("li",{key:e,role:"button",tabIndex:0,className:xr(Cg.suggestion,t===a&&Cg.active),onMouseDown:s},e)))):ge.createElement("div",{className:Cg.suggestions},ge.createElement("li",{className:Cg.suggestion},i("No suggestions, you're on your own!")))})),Sg={wrapper:"fZW_3WXP",wrapper_focus:"sqh1ynr8",wrapperFocus:"sqh1ynr8",wrapper_error:"z4J8kfq3",wrapperError:"z4J8kfq3",input:"L1vlW70a",label:"Qg48sdUG"},Ag=fe((function(t){let{id:n,nextId:o,labelText:r,className:i,value:s="",isInModal:c,suggestionsPosition:l,inputArg:d,onInput:u,onEnter:m}=t;const[p,f,h]=rm(),[g,v]=ie(!1),[w,y]=ie([]),[b,E]=ie(0),[C,N]=ie(!1),[S,A]=ie([]),T=C&&s&&w.length>0;ce((()=>{(0,a.p)("getMnemonicWordList").then((e=>A(e??[])))}),[]),ce((()=>{const t=!s||C&&w.length>0||function(t,n){return t.length===e.PcM||n.includes(t)}(s,S);v(!t)}),[C,w.length,s,S]);const I=e=>{const t=S.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))).slice(0,7);u(e,d),y(t),E(0),N(!0)},B=zo((e=>{if(!s)return;m&&!C&&m();const t=w[b];t&&(u(t,d),y([t]),E(0),N(!1),C&&e.preventDefault(),o&&(0,k.YS)((()=>{(0,k.YS)((()=>{const e=document.getElementById(o);null==e||e.focus(),null==e||e.select()}))})))}));ce((()=>p?zr({onEnter:B,onTab:e=>{e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||B(e)},onUp:()=>{b>0&&E(b-1)},onDown:()=>{b<w.length-1&&E(b+1)}}):void 0));const _=zo((e=>{u(e,d),N(!1),E(0),y([]),o&&(0,k.YS)((()=>{(0,k.YS)((()=>{const e=document.getElementById(o);null==e||e.focus(),null==e||e.select()}))}))}));return ge.createElement("div",{className:xr(Sg.wrapper,i,p&&Sg.wrapper_focus,g&&Sg.wrapper_error)},T&&ge.createElement(Ng,{suggestions:w,activeIndex:b,position:l,isInModal:c,onSelect:_}),ge.createElement("label",{className:Sg.label,htmlFor:n},r,"."),ge.createElement("input",{id:n,className:xr(Sg.input,""!==s&&Sg.touched),type:"text",autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,spellCheck:!1,onChange:e=>{const t=e.target.value;I(t)},onFocus:e=>{I(e.target.value),f()},onBlur:e=>{e.target.blur(),h(),requestAnimationFrame((()=>{N(!1),y([])}))},onPaste:e=>{const t=e.clipboardData.getData("text");t&&I(t)},value:s,tabIndex:0,"data-focus-scroll-position":"top"===l?"end":"start"}))})),Tg="L6u18JBd",Ig="NvN6uNIF",Bg="u7rnL9q6",_g="o4FCVeIa",xg="jCCt2XRK",Dg="pfd8fIrT",Lg=fe((function(t){var n;let{isActive:a,isInModal:o,checkIndexes:r,mnemonic:i,descriptionClassName:s,formClassName:l,errorClassName:d,onSubmit:u}=t;const m=_r(),[p,f]=ie({}),[h,g]=ie(!1),v=zo((e=>{e.preventDefault();const t=i&&(null==r?void 0:r.map((e=>i[e])));t&&(0,c.k)(t,Object.values(p))?u():g(!0)}));ce((()=>{a&&(f({}),g(!1))}),[a]);const w=zo(((e,t)=>{f({...p,[t]:null==e?void 0:e.toLowerCase()})}));return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:s},rr(m("$mnemonic_check_words_list",null==r||null===(n=r.map((e=>e+1)))||void 0===n?void 0:n.join(", ")))),ge.createElement("form",{className:l,onSubmit:v,id:"check_mnemonic_form"},r.map(((t,n)=>ge.createElement(Ag,{key:t,id:`check-mnemonic-${n}`,nextId:n+1<e.ow1?`check-mnemonic-${n+1}`:void 0,labelText:`${t+1}`,value:p[t],isInModal:o,suggestionsPosition:n<=1?"bottom":"top",inputArg:t,className:"_YK5KiZw",onInput:w})))),h&&ge.createElement("div",{className:d},rr(m("$mnemonic_check_error"))))})),Og=fe((function(t){let{isActive:n,checkIndexes:a,mnemonic:o}=t;const{closeCheckWordsPage:r}=Ke(),i=zo((()=>{r({isBackupCreated:!0})})),s=_r();return ge.createElement(ge.Fragment,null,ge.createElement(of,{tgsUrl:_p.bill,previewUrl:_p.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:Tg}),ge.createElement("p",{className:xr(_g,Dg)},rr(s("$check_words_description"))),ge.createElement(Lg,{descriptionClassName:xr(_g,Dg),formClassName:"ftYLMV0R",isActive:n,mnemonic:o,checkIndexes:a,errorClassName:"WeqRS7VQ",onSubmit:i}),ge.createElement("div",{className:Ig},ge.createElement(js,{isPrimary:!0,forFormId:"check_mnemonic_form",className:Bg},s("Continue"))))})),Mg=fe((e=>{let{isActive:t,mnemonic:n,checkIndexes:a}=e;const{openMnemonicPage:o}=Ke(),r=_r();return Yi({isActive:t,onBack:o}),ge.createElement("div",{className:Eg.wrapper},ge.createElement("div",{className:xr(Eg.container,"custom-scroll")},ge.createElement("div",{className:Eg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:o,className:Eg.headerBackBlock},ge.createElement("i",{className:xr(Eg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("span",{className:Eg.headerTitle},r("Let's Check!"))),ge.createElement(Og,{isActive:t,mnemonic:n,checkIndexes:a})))})),Pg=ha.Z2,Fg=fe((function(e){let{isActive:t,biometricsStep:n,error:a,isLoading:o}=e;const{afterCreateBiometrics:r,resetAuth:i,cancelCreateBiometrics:s}=Ke();lg(r,t?Pg:void 0,[t]);const c=_r(),l=Boolean(n),d=Boolean(a&&!l),u=Vh(a,!0);return Yi({isActive:t,onBack:i}),ge.createElement("div",{className:xr(Eg.container,Eg.container_scrollable,"custom-scroll")},ge.createElement(of,{play:t,tgsUrl:_p.guard,previewUrl:_p.guardPreview,noLoop:!1,nonInteractive:!0,className:Eg.sticker}),ge.createElement("div",{className:Eg.title},c("Turn On Biometrics")),l&&ge.createElement("div",{className:Eg.biometricsStep},c(1===n?"Step 1 of 2. Registration":"Step 2 of 2. Verification")),d&&ge.createElement("div",{className:xr(Eg.biometricsError)},ge.createElement("div",null,c(u||"Unknown error")),ge.createElement("div",null,c("Please try to confirm your biometrics again"))),ge.createElement("div",{className:Eg.buttons},ge.createElement("div",{className:Eg.buttons__inner},ge.createElement(js,{isDisabled:Boolean(n)||o,className:xr(Eg.btn,Eg.btnHalfWidth),onClick:s},c("Cancel")),d&&ge.createElement(js,{isPrimary:!0,className:xr(Eg.btn,Eg.btnHalfWidth),isDisabled:Boolean(n)||o,onClick:r},c("Try Again")))))})),Rg=fe(je((e=>({pin:e.auth.password})))((t=>{let{isActive:n,method:a,pin:o}=t;const{confirmPin:r,cancelConfirmPin:i}=Ke(),s=_r(),[c,d]=ie(""),[u,m]=ie(""),[p,f]=ie(!1),h="createAccount"!==a,g=zo((()=>{i({isImporting:h})}));Yi({isActive:n,onBack:g}),ce((()=>{n&&(d(""),m(""),f(!1))}),[n]);const v=zo((e=>{d(e),m("")})),w=zo((async e=>{e===o?(f(!0),await(0,l.v7)(1500),r({isImporting:h})):m(s("Codes don't match"))}));return ge.createElement("div",{className:xr(Eg.container,Eg.containerFullSize)},ge.createElement(js,{isSimple:!0,isText:!0,onClick:g,className:Eg.headerBack},ge.createElement("i",{className:xr(Eg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,s("Back"))),ge.createElement("div",{className:Eg.pinPadHeader},ge.createElement(of,{play:n,tgsUrl:_p.guard,previewUrl:_p.guardPreview,noLoop:!1,nonInteractive:!0}),ge.createElement("div",{className:Eg.title},s(h?"Wallet is imported!":"Wallet is ready!"))),ge.createElement(Mf,{isActive:n,title:p?s("Code set successfully"):u||s("Enter your code again"),type:p?"success":u?"error":void 0,length:e.NEx,value:c,onChange:v,onSubmit:w}))}))),Ug=fe((function(t){let{isActive:n}=t;const{skipCheckMnemonic:a,openAuthBackupWalletModal:o,resetAuth:r}=Ke(),i=_r();Yi({isActive:n,onBack:r});const s=!e.p8S;return ge.createElement("div",{className:Eg.wrapper},ge.createElement("div",{className:xr(Eg.container,"custom-scroll")},ge.createElement("div",{className:Eg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:r,className:Eg.headerBackBlock},ge.createElement("i",{className:xr(Eg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("span",{className:Eg.headerTitle}," ")),ge.createElement(of,{play:n,tgsUrl:_p.snitch,previewUrl:_p.snitchPreview,noLoop:!1,nonInteractive:!0,className:Eg.sticker}),ge.createElement("div",{className:Eg.title},i("Create Backup")),ge.createElement("div",{className:Eg.info},ge.createElement("p",{className:Eg.info__space},rr(i("$auth_backup_description1"))),ge.createElement("p",null,rr(i("$auth_backup_description2"))),ge.createElement("p",null,rr(i("$auth_backup_description3")))),ge.createElement("div",{className:Eg.buttons},ge.createElement(js,{isPrimary:!0,className:xr(Eg.btn,Eg.btn_wide,!s&&Eg.btn_single),onClick:o},i("$back_up_auth")),s&&ge.createElement(js,{isDestructive:!0,isText:!0,className:xr(Eg.btn,Eg.btn_push),onClick:a},i("Later")))))})),Wg=fe((e=>{let{isActive:t,method:n}=e;const{startCreatingBiometrics:a,resetAuth:o,skipCreateBiometrics:r}=Ke(),i=_r(),s="createAccount"!==n;return Yi({isActive:t,onBack:o}),ge.createElement("div",{className:xr(Eg.container,Eg.container_scrollable,"custom-scroll")},ge.createElement(of,{play:t,tgsUrl:_p.happy,previewUrl:_p.happyPreview,noLoop:!1,nonInteractive:!0,className:Eg.sticker}),ge.createElement("div",{className:Eg.title},i("Congratulations!")),ge.createElement("p",{className:Eg.info},ge.createElement("b",null,i(s?"The wallet is imported":"The wallet is ready"),".")),ge.createElement("p",{className:Eg.info},i("Create a password or use biometric authentication to protect it.")),ge.createElement("div",{className:Eg.buttons},ge.createElement(js,{isPrimary:!0,className:Eg.btn,onClick:a},i("Connect Biometrics")),ge.createElement(js,{isText:!0,className:xr(Eg.btn,Eg.btn_text),onClick:r},i("Use Password"))))})),Hg=i.p+"settings_biometrics.507638446829e8e0d552.svg",$g=i.p+"settings_face-id.9114cd96723fdb063bc4.svg",Vg=fe((e=>{let{isActive:t,isLoading:n}=e;const{afterCreateNativeBiometrics:a,skipCreateNativeBiometrics:o,resetAuth:r}=Ke(),i=_r(),s=ol(),c=rl();return Yi({isActive:t,onBack:r}),ge.createElement("div",{className:Eg.container},ge.createElement(js,{isSimple:!0,isText:!0,onClick:r,className:Eg.headerBack},ge.createElement("i",{className:xr(Eg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("img",{src:s?$g:Hg,alt:"",className:Eg.biometricsIcon}),ge.createElement("div",{className:Eg.biometricsTitle},i(s?"Use Face ID":c?"Use Touch ID":"Use Biometrics")),ge.createElement("div",{className:Eg.biometricsSubtitle},i("You can connect your biometric data for more convenience")),ge.createElement("div",{className:Eg.buttons},ge.createElement(js,{isPrimary:!0,className:Eg.btn,isLoading:n,onClick:n?void 0:a},i(s?"Connect Face ID":c?"Connect Touch ID":"Connect Biometrics")),ge.createElement(js,{isText:!0,isDisabled:n,className:xr(Eg.btn,Eg.btn_text),onClick:o},i("Not Now"))))})),zg=/[`!@#$%^&*()_+\-=\]{};':"\\|,.<>?~]/,Kg=fe((function(t){let{isActive:a,isLoading:o,formId:r,onCancel:i,onSubmit:s,containerClassName:c}=t;const l=_r(),d=n.pz||n.Ni,u=me(),[m,p]=ie(!1),[f,h]=ie(""),[g,v]=ie(""),[w,y,b]=rm(!1),[E,k,C]=rm(!1),[N,S]=ie(!1),[A,T]=ie(!1),[I,B,_]=rm(!1),x=a&&f.length>0&&g.length>0&&!N,D=N&&!w,L=(e=>{let{firstPassword:t="",secondPassword:n="",requiredMinLength:a=8,requiredLength:o,isOnlyNumbers:r}=e;const[i,s]=ie(!1),[c,l]=ie(!1),[d,u]=ie(!1),[m,p]=ie(!1),[f,h]=ie(!1),[g,v]=ie(!1);return ce((()=>{const e=Boolean(!o&&t.length<a||o&&t.length!==o);s(e),u(!r&&t.toLowerCase()===t),p(!r&&t.toUpperCase()===t),l(!/\d/.test(t)),v(Boolean(t&&t!==n)),h(!r&&!zg.test(t))}),[t,n,a,r,o]),{invalidLength:i,noNumber:c,noUpperCase:d,noLowerCase:m,noEqual:g,noSpecialChar:f}})({firstPassword:f,secondPassword:g,isOnlyNumbers:d,requiredLength:d?e.NEx:void 0});xp(u,!a),ce((()=>{if(T(!1),""===f||!a||w)return void S(!1);const{noEqual:e,invalidLength:t}=L;I&&!m||!e||""===g?(!e||""===g||I&&!m)&&S(!1):(S(!0),T(!0)),d&&t&&!m&&S(!0)}),[a,f,g,L,I,w,m,d]);const O=zo((e=>{h(e),m&&p(!1)})),M=zo((e=>{v(e),m&&p(!1)})),P=zo((e=>{if(Do(e),!x)return;if(f!==g)return p(!0),S(!0),void T(!0);const t=Object.values(L).find((e=>e));d||!t||E?(E&&C(),s(f,d)):k()}));return ge.createElement(ge.Fragment,null,ge.createElement("form",{id:r,className:xr(Eg.form,c),onSubmit:P},ge.createElement("div",{className:Eg.formWidgets},ge.createElement(sf,{ref:u,type:"password",isRequired:!0,id:"first-password",inputMode:d?"numeric":void 0,hasError:D,placeholder:l("Enter your password..."),value:f,autoComplete:"new-password",onInput:O,onFocus:y,onBlur:b,className:Eg.input,maxLength:d?e.NEx:void 0,enterKeyHint:"next"}),ge.createElement(sf,{type:"password",isRequired:!0,id:"second-password",inputMode:d?"numeric":void 0,placeholder:l("...and repeat it"),hasError:A,value:g,autoComplete:"new-password",onInput:M,onFocus:B,onBlur:_,className:Eg.input,maxLength:d?e.NEx:void 0,enterKeyHint:"next"})),function(){if(A)return ge.createElement("div",{className:xr(Eg.errors,Eg.error)},l("Passwords must be equal."));const{invalidLength:t,noUpperCase:n,noLowerCase:a,noNumber:o,noSpecialChar:r}=L;return d?ge.createElement("div",{className:Eg.passwordRules},ge.createElement("span",{className:qg(D,t||o)},l("Password must contain %length% digits.",{length:e.NEx}))):ge.createElement("div",{className:Eg.passwordRules},l("To protect your wallet as much as possible, use a password with"),ge.createElement("span",{className:qg(D,t)}," ",l("$auth_password_rule_8chars"),","),ge.createElement("span",{className:qg(D,a)}," ",l("$auth_password_rule_one_small_char"),","),ge.createElement("span",{className:qg(D,n)}," ",l("$auth_password_rule_one_capital_char"),","),ge.createElement("span",{className:qg(D,o)}," ",l("$auth_password_rule_one_digit"),","),ge.createElement("span",{className:qg(D,r)}," ",l("$auth_password_rule_one_special_char")),".")}(),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:i,className:Gs.button,isDisabled:o},l("Cancel")),ge.createElement(js,{isSubmit:!0,isPrimary:!0,isDisabled:A||""===f,isLoading:o,className:Gs.button},l("Continue")))),ge.createElement(ac,{isOpen:E,isCompact:!0,onClose:C,title:l("Insecure Password")},ge.createElement("p",{className:Gs.text},l("Your have entered an insecure password, which can be easily guessed by scammers.")),ge.createElement("p",{className:Gs.text},l("Continue or change password to something more secure?")),ge.createElement("div",{className:xr(Gs.buttons,Gs.buttonsNoExtraSpace)},ge.createElement(js,{isPrimary:!0,onClick:C,className:Gs.button},l("Change")),ge.createElement(js,{forFormId:r,isSubmit:!0,isDestructive:!0,className:Gs.button},l("Continue")))))}));function qg(e,t){return xr(Eg.passwordRule,t?e?Eg.invalid:void 0:Eg.valid)}const jg=fe((e=>{let{isActive:t,method:a,isLoading:o}=e;const{afterCreatePassword:r,resetAuth:i}=Ke(),s=_r(),c="createAccount"!==a,l=function(e){switch(e){case"createAccount":return"auth_create_password";case"importMnemonic":return"auth_import_mnemonic_password";case"importHardwareWallet":return"auth_import_hardware_password"}}(a),d=!(n.uh||al());Yi({isActive:t,onBack:i});const u=zo(((e,t)=>{r({password:e,isPasswordNumeric:t})}));return ge.createElement("div",{className:xr(Eg.container,Eg.container_scrollable,"custom-scroll")},ge.createElement(of,{play:t,tgsUrl:_p.guard,previewUrl:_p.guardPreview,noLoop:!1,nonInteractive:!0,className:Eg.sticker}),ge.createElement("div",{className:xr(Eg.title,!d&&Eg.titleSmallMargin)},s(d?"Congratulations!":"Create Password")),d&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Eg.info},ge.createElement("b",null,s(c?"The wallet is imported":"The wallet is ready"),".")),ge.createElement("p",{className:Eg.info},s("Create a password to protect it."))),ge.createElement(Kg,{isActive:t,isLoading:o,formId:l,onCancel:i,onSubmit:u}))})),Yg=fe((t=>{let{isActive:n,method:a}=t;const{createPin:o,resetAuth:r}=Ke(),i=_r(),[s,c]=ie(""),d="createAccount"!==a;ce((()=>{n&&c("")}),[n]),Yi({isActive:n,onBack:r});const u=zo((async e=>{await(0,l.v7)(750),o({pin:e,isImporting:d})}));return ge.createElement("div",{className:xr(Eg.container,Eg.containerFullSize)},ge.createElement(js,{isSimple:!0,isText:!0,onClick:r,className:Eg.headerBack},ge.createElement("i",{className:xr(Eg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("div",{className:Eg.pinPadHeader},ge.createElement(of,{play:n,tgsUrl:_p.guard,previewUrl:_p.guardPreview,noLoop:!1,nonInteractive:!0}),ge.createElement("div",{className:Eg.title},i(d?"Wallet is imported!":"Wallet is ready!"))),ge.createElement(Mf,{isActive:n,title:i("Create a code to protect it"),length:e.NEx,value:s,onChange:c,onSubmit:u}))})),Gg=ha.Z2,Qg=fe((e=>{let{isActive:t}=e;const n=_r(),[a,o]=rm(),[r,i]=rm(),[s,c]=rm();lg(o,t?700:void 0),lg(i,t?700+Gg:void 0),lg(c,t?700+2*Gg:void 0);const l=Fp(a),d=Fp(r),u=Fp(s);return ge.createElement("div",{className:xr(Eg.container,"custom-scroll")},ge.createElement(of,{play:t,tgsUrl:_p.hello,previewUrl:_p.helloPreview,nonInteractive:!0,noLoop:!1}),ge.createElement("div",{className:Eg.title},n("Creating Wallet...")),ge.createElement("div",{className:Eg.counter},ge.createElement("p",{className:Eg.counterTitle},n("On the count of three...")),ge.createElement("b",{ref:l,className:xr(Eg.counterDigit,"rounded-font")},"1"),ge.createElement("b",{ref:d,className:xr(Eg.counterDigit,"rounded-font")},"2"),ge.createElement("b",{ref:u,className:xr(Eg.counterDigit,"rounded-font")},"3")))})),Xg=fe((function(t){let{isOpen:n,onSkip:a,onClose:o}=t;const{openAuthBackupWalletModal:r}=Ke(),i=zo((()=>{o(),r()})),s=_r(),c=!e.p8S;return ge.createElement(ac,{isOpen:n,onClose:o,forceBottomSheet:!0,nativeBottomSheetKey:"backup-warning",dialogClassName:Eg.disclaimerBackupDialog},ge.createElement("p",{className:Eg.backupNotice},rr(s("$auth_backup_warning_notice"))),ge.createElement("div",{className:Eg.backupNoticeButtons},ge.createElement(js,{isPrimary:!0,className:xr(Eg.btn,Eg.btn_wide,!c&&Eg.btn_single),onClick:i},s("Back Up Now")),c&&ge.createElement(js,{isDestructive:!0,className:xr(Eg.btn,Eg.btn_mini),onClick:a},s("Later"))))})),Jg=fe((t=>{let{isActive:n,isImport:a}=t;const{skipCheckMnemonic:o,confirmDisclaimer:r,cancelDisclaimer:i}=Ke(),s=_r(),[c,l,d]=rm(!1);Yi({isActive:n,onBack:i});const u=zo((e=>{e?(l(),a&&window.setTimeout(r,350)):d()}));Ni("backup-warning",l);const m=zo((()=>{u(!1)})),p=zo((()=>{o(),m()}));return ge.createElement("div",{className:Eg.wrapper},ge.createElement("div",{className:xr(Eg.container,Eg.container_scrollable,"custom-scroll")},ge.createElement("div",{className:Eg.stickerAndTitle},ge.createElement(of,{play:n,tgsUrl:_p.snitch,previewUrl:_p.snitchPreview,noLoop:!1,nonInteractive:!0,size:e.lWW,className:Eg.sticker}),ge.createElement("div",{className:Eg.title},s("Use Responsibly"))),ge.createElement("div",{className:Eg.infoBlock},ge.createElement("p",{className:Eg.text},rr(s("$auth_responsibly_description1",{app_name:e.C39}))),ge.createElement("p",{className:Eg.text},rr(s("$auth_responsibly_description2"))),ge.createElement("p",{className:Eg.text},rr(s("$auth_responsibly_description3",{app_name:e.C39}))),ge.createElement("p",{className:Eg.text},rr(s("$auth_responsibly_description4")))),ge.createElement(Lp,{id:"information-confirmed",checked:c,isDisabled:a&&c,className:Eg.informationCheckbox,contentClassName:Eg.informationCheckboxContent,onChange:u},s("I have read and accept this information")),!a&&ge.createElement(Xg,{isOpen:c,onClose:m,onSkip:p})))})),Zg=[...Array(e.xA_)].map(((e,t)=>({id:t,label:`${t+1}`}))),ev=e.PcM,tv=fe(je((e=>({error:e.auth.error,isLoading:e.auth.isLoading})))((t=>{let{isActive:n,isLoading:o,error:r}=t;const{afterImportMnemonic:i,resetAuth:s,cleanAuthError:l}=Ke(),d=_r(),[u,m]=ie({}),{isPortrait:p}=hi(),f=zo((t=>{var n;(e.Yyb.includes(t.length)||vl(t))&&(requestAnimationFrame((()=>{m(t)})),null!==(n=document.activeElement)&&void 0!==n&&n.id.startsWith("import-mnemonic-")&&document.activeElement.blur())})),h=zo((e=>{var t;const n=nv(e);if(1===n.length&&null!==(t=document.activeElement)&&void 0!==t&&t.id.startsWith("import-mnemonic-")){document.activeElement.value=n[0];const e=new Event("input");document.activeElement.dispatchEvent(e)}else f(n)}));((e,t)=>{ce((()=>{if(e)return document.addEventListener("paste",n,!1),()=>{document.removeEventListener("paste",n,!1)};function n(e){if(!e.clipboardData)return;const n=e.clipboardData.getData("text").substring(0,4096);n&&(e.preventDefault(),t(n))}}),[e,t])})(Boolean(n),h);const g=de((()=>{const t=(0,c.oE)(Object.values(u));return!e.Yyb.includes(t.length)&&!vl(t)||!!r}),[u,r]),v=zo(((t,n)=>{l();const a=nv(t);e.Yyb.includes(a.length)?f(a):m({...u,[n]:a[0].toLowerCase()})})),w=zo((()=>{setTimeout((()=>{s()}),250)})),y=zo((async()=>{if(g)return;const e=(0,c.oE)(Object.values(u));(12!==e.length||await(0,a.p)("validateMnemonic",e))&&i({mnemonic:e})}));return Yi({isActive:n,onBack:w}),ce((()=>g||o?void 0:zr({onEnter:{handler:y,noStopPropagation:!0}})),[y,o,g,u]),ge.createElement("div",{className:xr(Eg.container,Eg.container_scrollable,"custom-scroll")},ge.createElement(of,{play:n,size:e.jzp,tgsUrl:_p.snitch,previewUrl:_p.snitchPreview,nonInteractive:!0,noLoop:!1,className:Eg.sticker}),ge.createElement("div",{className:xr(Eg.title,Eg.title_afterSmallSticker)},d("Enter Secret Words")),ge.createElement("div",{className:xr(Eg.info,Eg.infoSmallFont,Eg.infoPull)},rr(d(e.iAh?"$auth_import_mnemonic_description":"$auth_import_24_mnemonic_description"))),ge.createElement("div",{className:Eg.importingContent},Zg.map(((t,n)=>{let{id:a,label:o}=t;return ge.createElement(Ag,{key:a,id:`import-mnemonic-${a}`,nextId:a+1<e.xA_?`import-mnemonic-${a+1}`:void 0,labelText:o,value:u[a],suggestionsPosition:av(a,p),inputArg:a,onInput:v,onEnter:n===e.xA_-1?y:void 0})}))),ge.createElement("div",{className:Eg.buttons},r&&ge.createElement("div",{className:Eg.footerError},d(r)),ge.createElement("div",{className:Eg.buttons__inner},ge.createElement(js,{onClick:w,className:Eg.footerButton},d("Cancel")),ge.createElement(js,{isPrimary:!0,isDisabled:g,isLoading:o,className:Eg.footerButton,onClick:y},d("Continue")))))})));function nv(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(?:\r\n)+|[\r\n\s;,\t]+/g," ").trim().split(" ").map((e=>e.slice(0,ev)))}function av(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e>5&&e<8||e>13&&e<16||e>21?"top":void 0}const ov=fe((function(e){let{isActive:t,isLoading:n,onCancel:a,onClose:o}=e;const{importViewAccount:r}=Ke(),i=_r(),s=me(),[c,l]=ie(""),[d,u]=ie(!1);xp(s,!t),Yi({isActive:t,onBack:a});const m=zo((e=>{l(e),d&&u(!1)}));return ge.createElement("div",{className:Gs.transitionContentWrapper},ge.createElement(tg,{title:i("View Any Address"),onClose:o,onBackButtonClick:a}),ge.createElement("form",{action:"#",className:xr(Gs.transitionContent,"custom-scroll"),onSubmit:function(e){if(Do(e),d||n)return;const t=c.trim().split(/\s+/),a={};var o;t.reduce(((e,t)=>Ea(t,"ton")?(a.ton=t,!0):Ea(t,"tron")?(a.tron=t,!0):e),!1)?(r({addressByChain:a}),null===(o=s.current)||void 0===o||o.blur()):u(!0)}},ge.createElement(of,{play:t,tgsUrl:_p.bill,previewUrl:_p.billPreview,noLoop:!1,nonInteractive:!0,className:Eg.viewModeSticker}),ge.createElement(sf,{ref:s,value:c,hasError:d,placeholder:i("Wallet Address or Domain"),autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,enterKeyHint:"done",onInput:m}),ge.createElement("p",{className:Eg.info},rr(i("$import_view_account_note"))),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,isSubmit:!0,className:Gs.buttonFullWidth,isLoading:n,isDisabled:d},i(d?"Invalid Address":"Continue")))))})),rv=fe((function(t){let{customStickerClassName:n,customButtonWrapperClassName:a,isFullSizeButton:o,isActive:r,isFirstCheckboxSelected:i,isSecondCheckboxSelected:s,isThirdCheckboxSelected:c,textFirst:l,textSecond:d,textThird:u,onFirstCheckboxClick:m,onSecondCheckboxClick:p,onThirdCheckboxClick:f,onSubmit:h}=t;const g=_r(),v=i&&s&&c,w=zo((()=>{v&&h()}));return ge.createElement(ge.Fragment,null,ge.createElement(of,{tgsUrl:_p.bill,previewUrl:_p.billPreview,size:e.lWW,play:r,nonInteractive:!0,noLoop:!1,className:n||Tg}),ge.createElement(Lp,{checked:i,onChange:m},rr(l)),ge.createElement(Lp,{checked:s,onChange:p},rr(d)),ge.createElement(Lp,{checked:c,onChange:f},rr(u)),ge.createElement("div",{className:a||Ig},ge.createElement(js,{isPrimary:!0,isDisabled:!v,className:o?Bg:void 0,onClick:w},g("Understood"))))})),iv=fe((e=>{let{isActive:t}=e;const{openCreateBackUpPage:n,openMnemonicPage:a}=Ke(),[o,r]=ie(!1),[i,s]=ie(!1),[c,l]=ie(!1);Yi({isActive:t,onBack:n});const d=_r();return ge.createElement("div",{className:Eg.wrapper},ge.createElement("div",{className:xr(Eg.container,"custom-scroll")},ge.createElement("div",{className:Eg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:n,className:Eg.headerBackBlock},ge.createElement("i",{className:xr(Eg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back"))),ge.createElement("span",{className:Eg.headerTitle},d("Safety Rules"))),ge.createElement(rv,{isActive:t,isFullSizeButton:!0,textFirst:d("$safety_rules_one"),textSecond:d("$safety_rules_two"),textThird:d("$safety_rules_three"),isFirstCheckboxSelected:o,onFirstCheckboxClick:r,isSecondCheckboxSelected:i,onSecondCheckboxClick:s,isThirdCheckboxSelected:c,onThirdCheckboxClick:l,onSubmit:a})))})),sv=fe((function(e){let{mnemonic:t}=e;const n=_r();return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:xr(_g,Dg)},rr(n("$mnemonic_list_description"))),ge.createElement("p",{className:xr(xg)},rr(n("$mnemonic_warning"))),ge.createElement("ol",{className:"Yaqcau6G"},null==t?void 0:t.map(((e,t)=>ge.createElement("li",{key:t,className:"qdW2OhFc"},e)))))})),cv=fe((function(t){let{isActive:n,mnemonic:a,onSubmit:o,buttonText:r}=t;return ge.createElement(ge.Fragment,null,ge.createElement(of,{tgsUrl:_p.bill,previewUrl:_p.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:Tg}),ge.createElement(sv,{mnemonic:a}),ge.createElement("div",{className:Ig},ge.createElement(js,{isPrimary:!0,onClick:o,className:Bg},r)))})),lv=fe((e=>{let{isActive:t,mnemonic:n}=e;const{openAuthBackupWalletModal:a,openCheckWordsPage:o}=Ke(),r=_r();Yi({isActive:t,onBack:a});const i=(null==n?void 0:n.length)||0;return ge.createElement("div",{className:Eg.wrapper},ge.createElement("div",{className:xr(Eg.container,Eg.containerAlignTop,"custom-scroll")},ge.createElement("div",{className:Eg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:a,className:Eg.headerBackBlock},ge.createElement("i",{className:xr(Eg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("span",{className:Eg.headerTitle},r("%1$d Secret Words",i))),ge.createElement(cv,{isActive:t,mnemonic:n,onSubmit:o,buttonText:r("Let's Check")})))})),dv=fe(je((e=>({hasAccounts:Boolean(e.currentAccountId),isLoading:e.auth.isLoading,theme:e.settings.theme})))((function(t){let{isActive:a,hasAccounts:o,isLoading:r,theme:i}=t;const{startCreatingWallet:s,startImportingWallet:c,openAbout:l,openHardwareWalletModal:d,resetAuth:u,openAuthImportWalletModal:m}=Ke(),p=_r(),f="light"===Vf(i)?Xf:Qf,[h,g]=rm(),v=Fp(h);return ge.createElement("div",{className:xr(Eg.container,"custom-scroll")},o&&ge.createElement(js,{isSimple:!0,isText:!0,onClick:u,className:Eg.headerBack},ge.createElement("i",{className:xr(Eg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,p("Back"))),e.TI6?ge.createElement(of,{play:a,tgsUrl:_p.coreWalletLogo,previewUrl:_p.coreWalletLogoPreview,noLoop:!1,nonInteractive:!0}):ge.createElement("img",{ref:v,src:f,alt:e.C39,className:Eg.logo,onLoad:g}),ge.createElement("div",{className:xr(Eg.appName,"rounded-font")},e.C39),ge.createElement("div",{className:Eg.info},rr(p("$auth_intro"))),!e.TI6&&ge.createElement(js,{isText:!0,className:xr(Eg.btn,Eg.btn_about),onClick:l},p("More about %app_name%",{app_name:e.C39}),ge.createElement("i",{className:"icon-chevron-right","aria-hidden":!0})),ge.createElement("div",{className:xr(Eg.importButtonsBlock,e.TI6&&Eg.importButtonsBlockSimple)},ge.createElement(js,{isPrimary:!0,className:xr(Eg.btn,!e.TI6&&Eg.btn_single,!e.TI6&&Eg.btn_wide),isLoading:r,onClick:r?void 0:s},p("Create Wallet")),e.TI6?ge.createElement(ge.Fragment,null,ge.createElement("span",{className:Eg.importText},p("or import from")),ge.createElement("div",{className:Eg.importButtons},ge.createElement(js,{className:xr(Eg.btn,!n.sC&&Eg.btn_single),onClick:r?void 0:c},p("Secret Words")),n.sC&&ge.createElement(js,{className:xr(Eg.btn,Eg.btn_mini),onClick:r?void 0:d},p("Ledger")))):ge.createElement(js,{className:xr(Eg.btn,Eg.btn_wide,Eg.btn_single),onClick:r?void 0:m},p("Import Existing Wallet"))))}))),uv=Object.keys(An).length/2,mv=fe(je((e=>({...(0,c.Up)(e.auth,["state","biometricsStep","error","mnemonic","mnemonicCheckIndexes","isLoading","method"]),theme:e.settings.theme})))((e=>{let{state:t,biometricsStep:a,error:o,isLoading:r,mnemonic:i,mnemonicCheckIndexes:s,method:c,theme:l}=e;const{closeAbout:d,closeImportViewAccount:u}=Ke(),{isPortrait:m}=hi(),p=Vh(t===An.ready?void 0:t,!0)??-1,[f,h]=ie(void 0),[g,v]=ie(p+1),w=zo((()=>{v(p+1),h(p===An.confirmPin?An.createPin:void 0)}));function y(e,t,n){switch(n){case An.none:return ge.createElement(dv,{isActive:e});case An.createWallet:return ge.createElement(Qg,{isActive:e});case An.checkPassword:return ge.createElement(kg,{isActive:e,isLoading:r,method:"createAccount",error:o});case An.createPin:return ge.createElement(Yg,{isActive:e,method:"createAccount"});case An.confirmPin:return ge.createElement(Rg,{isActive:e,method:"createAccount"});case An.createBiometrics:return ge.createElement(Wg,{isActive:e,method:"createAccount"});case An.confirmBiometrics:return ge.createElement(Fg,{isActive:e,isLoading:r,error:o,biometricsStep:a});case An.createNativeBiometrics:return ge.createElement(Vg,{isActive:e,isLoading:r});case An.createPassword:return ge.createElement(jg,{isActive:e,isLoading:r,method:"createAccount"});case An.createBackup:return ge.createElement(Ug,{isActive:e});case An.disclaimerAndBackup:return ge.createElement(Jg,{key:"create",isActive:e});case An.importWallet:return ge.createElement(tv,{isActive:e});case An.importWalletCreatePin:return ge.createElement(Yg,{isActive:e,method:"importMnemonic"});case An.importWalletConfirmPin:return ge.createElement(Rg,{isActive:e,method:"importMnemonic"});case An.importWalletCheckPassword:return ge.createElement(kg,{isActive:e,isLoading:r,method:"importMnemonic",error:o});case An.disclaimer:return ge.createElement(Jg,{key:"import",isActive:e,isImport:!0});case An.importWalletCreateNativeBiometrics:return ge.createElement(Vg,{isActive:e,isLoading:r});case An.importWalletCreatePassword:return ge.createElement(jg,{isActive:e,isLoading:r,method:c});case An.importWalletCreateBiometrics:return ge.createElement(Wg,{isActive:e,method:c});case An.importWalletConfirmBiometrics:return ge.createElement(Fg,{isActive:e,isLoading:r,error:o,biometricsStep:a});case An.about:return ge.createElement(bg,{isActive:e,theme:l,headerClassName:Eg.aboutHeader,handleBackClick:d});case An.safetyRules:return ge.createElement(iv,{isActive:e});case An.mnemonicPage:return ge.createElement(lv,{isActive:e,mnemonic:i});case An.checkWords:return ge.createElement(Mg,{isActive:e,mnemonic:i,checkIndexes:s});case An.importViewAccount:return ge.createElement(ov,{isActive:e,isLoading:r,onCancel:u})}}return ge.createElement(xf,{name:m?n.Ni?"slideFade":"slideLayers":"semiFade",activeKey:p,renderCount:uv,shouldCleanup:!0,className:Eg.transitionContainer,slideClassName:Eg.transitionSlide,prevKey:f,nextKey:g,onStop:w,shouldWrap:!0},y)}))),pv={spinner:"o7Soo94L",inner:"fnzgQDjn",spin:"dPrfSpVS",white:"ZwvOHvLC"},fv=fe((function(e){let{ref:t,color:n,className:a}=e;const o=_r(),r=xr(pv.spinner,n&&pv[n],a);return ge.createElement("div",{ref:t,className:r,"aria-label":o("Loading...")},ge.createElement("i",{className:xr(pv.inner,"icon-spinner"),"aria-hidden":!0}))})),hv={root:"h8WmgaJB",icon:"KW5fEe2q",rightItem:"yxdpwMGG",spinner:"_o9pbmfe"},gv=fe((function(e){let{icon:t,label:n,className:a,isLoading:o,onClick:r}=e;return ge.createElement("button",{type:"button",className:xr(hv.root,a),onClick:r,disabled:o},ge.createElement("i",{className:xr(hv.icon,`icon-${t}`),"aria-hidden":!0}),ge.createElement("span",{className:hv.label},n),o?ge.createElement(fv,{className:xr(hv.rightItem,hv.spinner)}):ge.createElement("i",{className:xr(hv.rightItem,"icon-chevron-right"),"aria-hidden":!0}))})),vv=fe(je((e=>({isOpen:e.auth.isImportModalOpen})))((function(t){let{isOpen:a}=t;const{startImportingWallet:o,startImportViewAccount:r,openHardwareWalletModal:i,closeAuthImportWalletModal:s}=Ke(),c=_r(),l=zo((()=>{s(),o()})),d=zo((()=>{s(),i()})),u=zo((()=>{s(),r()}));return ge.createElement(ac,{isOpen:a,title:c("Import Wallet"),hasCloseButton:!0,forceBottomSheet:!0,nativeBottomSheetKey:"import-account",contentClassName:Eg.importModalContent,onClose:s},ge.createElement("div",{className:Eg.actionsSection},ge.createElement(gv,{icon:"key",label:c(e.TI6?"24 Secret Words":"12/24 Secret Words"),onClick:l}),n.sC&&ge.createElement(gv,{icon:"ledger-alt",label:c("Ledger"),onClick:d})),!e.TI6&&ge.createElement("div",{className:Eg.actionsSection},ge.createElement(gv,{icon:"wallet-view",label:c("View Any Address"),onClick:u})))})));function wv(){return n.Ni?"slideFadeAndroid":n.pz?"slideLayers":"slideFade"}function yv(e,t){const n=Vh(t?e:void 0,!0)??-1,[a,o]=ie(),r=zo((()=>{o(t?n+1:void 0)}));return ce((()=>{t&&setTimeout(r,300)}),[t,r]),{renderingKey:n,nextKey:a,updateNextKey:r}}function bv(t){const{result:n}=((e,t,n)=>{const[a,o]=ie(!1),[r,i]=ie(),[s,c]=ie(n);return ce((()=>{o(!0);let t=!1;return e().then((e=>{t||(o(!1),c(e))}),(e=>{t||(o(!1),i(e))})),()=>{t=!0}}),t),{isLoading:a,error:r,result:s}})((()=>t?async function(t){const n=await caches.open(e.F9m),a=await n.match(t);if(a){const e=await a.blob();return URL.createObjectURL(e)}const o=await fetch(t);if(!o.ok)throw new Error(`Image loading error: ${o.statusText}. URL: ${t}`);await n.put(t,o.clone());const r=await o.blob();return URL.createObjectURL(r)}(t):Promise.resolve(void 0)),[t]);return ce((()=>n?()=>{URL.revokeObjectURL(n)}:void 0),[n]),{imageUrl:n}}function Ev(e){const{mtwCardType:t,mtwCardTextType:n,mtwCardBorderShineType:a}=(null==e?void 0:e.metadata)||{},o=!!t&&"standard"!==t,r="standard"!==t?void 0:"dark"===n?"MtwCard__darkText":"MtwCard__lightText";return{backgroundImageUrl:e?ar(e):void 0,withTextGradient:o,classNames:xr(t&&`MtwCard__${t}`,r),borderShineType:a}}const kv=function(e){let{isActive:t,accountId:n,addressByChain:a,accountType:o,title:r,cardBackgroundNft:i,canEditAccount:s,onClick:c,onEdit:l}=e;const d=_r(),u="hardware"===o,m="view"===o,p=Qe(a,1)?d("Multichain"):(0,jt.W)((0,Ye.LG)(a)??"","mnemonic"!==o?3:4,4),{backgroundImageUrl:f,withTextGradient:h,classNames:g}=Ev(i),{imageUrl:v}=bv(f),w=xr("bdfebopt",t&&"bMmcsmZO",v&&"HF2p9CT1",v&&g);return ge.createElement("div",{className:w,"aria-label":d("Switch Account"),onClick:t?void 0:()=>c(n),style:Pp(v&&`--bg: url(${v})`)},r&&ge.createElement("span",{className:xr("MUMjgNQ5",h&&"gradientText")},r),ge.createElement("div",{className:xr("dhGETdr1",h&&"gradientText")},u&&ge.createElement("i",{className:"icon-ledger","aria-hidden":!0}),m&&ge.createElement("i",{className:"icon-eye-filled","aria-hidden":!0}),ge.createElement("span",null,p)),t&&s&&ge.createElement("div",{className:"FRX4SQTO",onClick:e=>{Do(e),l()}},ge.createElement("i",{className:"icon-pen","aria-hidden":!0})))},Cv={accounts:"DP7r4ob0",accounts_two:"aMoUTjsw",accountsTwo:"aMoUTjsw",account:"feJs1qiP",account_current:"LGBe77Zo",accountCurrent:"LGBe77Zo",account_disabled:"QT4AQhSL",accountDisabled:"QT4AQhSL",account_inactive:"JLVV6MK1",accountInactive:"JLVV6MK1",accounts_single:"xq8sJcx0",accountsSingle:"xq8sJcx0",customCard:"QrKEFAWF",accountName:"xRepCoTw",button_current:"CMlJY5eP",buttonCurrent:"CMlJY5eP",accountFooter:"aSHneDhG",icon:"FzVzsW0Z",accountAddress:"U1ocd7xK",accountCheckMark:"WoJjd6rF",accountCheckMark_active:"Xs5JWZXM",accountCheckMarkActive:"Xs5JWZXM"},Nv=fe((function(e){let{accountId:t,address:n,title:a,accountType:o,ariaLabel:r,isActive:i,isLoading:s,className:c,withCheckbox:l,cardBackgroundNft:d,onClick:u}=e;const{backgroundImageUrl:m,withTextGradient:p,classNames:f}=Ev(d),{imageUrl:h}=bv(m),g="hardware"===o,v="view"===o,w=xr(c,Cv.account,h&&Cv.customCard,h&&f,i&&!l&&Cv.account_current,s&&Cv.account_disabled,!u&&Cv.account_inactive);return ge.createElement("div",{key:t,className:w,onClick:u,style:Pp(h&&`--bg: url(${h})`),"aria-label":r},a&&ge.createElement("span",{className:xr(Cv.accountName,p&&"gradientText")},a),ge.createElement("div",{className:xr(Cv.accountFooter,p&&"gradientText")},v&&ge.createElement("i",{className:xr("icon-eye-filled",Cv.icon),"aria-hidden":!0}),g&&ge.createElement("i",{className:xr("icon-ledger",Cv.icon),"aria-hidden":!0}),ge.createElement("span",{className:Cv.accountAddress},(0,jt.W)(n,g?3:4,4))),l&&ge.createElement("div",{className:xr(Cv.accountCheckMark,i&&Cv.accountCheckMark_active)}))})),Sv=fe((function(e){let{accountLength:t,labelText:n,children:a,className:o}=e;const r=xr(o,Cv.accounts,"custom-scroll",1===t&&Cv.accounts_single,2===t&&Cv.accounts_two);return ge.createElement(ge.Fragment,null,n&&ge.createElement("p",{className:Cv.label},n),ge.createElement("div",{className:r},a))})),Av={modalDialog:"zdmLsynF",modalDialogInsideSettings:"kYjygKEY",slide:"a2oy8Zll",container:"eM1PpsST",containerStatic:"jHYtCW5T",content:"_3mWK1CH",iconBlockSlide:"WEcWgMzV",iconBlockSlideStatic:"VCK1YGjr",iconBlock:"KE3Egymz",mobile:"kpjonisY",ledgerIcon:"iuLLqpxI",textBlock:"bn1fb2en",textBlock_gap:"bBaOfZlx",textBlockGap:"bBaOfZlx",textBlock_success:"j8GYzR5R",textBlockSuccess:"j8GYzR5R",textBlock_small:"Rt2IdHAB",textBlockSmall:"Rt2IdHAB",text:"GuAw_sFJ",textIcon:"SOw0Xtct",text_failed:"XPczA9Ds",textFailed:"XPczA9Ds",text_connected:"YyHAVq6P",textConnected:"YyHAVq6P",text_success:"tTgIgIgG",textSuccess:"tTgIgIgG",actionBlock:"hiaAxVr_",actionBlock_single:"ApwM97qB",actionBlockSingle:"ApwM97qB",button:"LZNOcG4M",button_single:"Hm4XX1NN",buttonSingle:"Hm4XX1NN",accounts:"qG6SFrZs",accounts_two:"o_4z0gP4",accountsTwo:"o_4z0gP4",account:"_Vsrbub9",account_current:"uo8yhRNU",accountCurrent:"uo8yhRNU",addAccountContainer:"E5i9UUtD",addAccountIcon:"j5VZHMly",accountName:"V6_KYxce",accountFooter:"LXgNcuuY",accountCurrencyIcon:"g_b7EuV5",accountAddress:"pL4iTSDM",accountCheckMark:"mpVXcyoe",accountCheckMark_active:"lVx2a3if",accountCheckMarkActive:"lVx2a3if",sticker:"MfAU5ZEs",declinedLabel:"aWyFXa02",declinedLabelDetailed:"q1lhwUmL",dropdownBlock:"_2MGoq5H"};var Tv=function(e){return e[e.Waiting=0]="Waiting",e[e.Error=1]="Error",e}(Tv||{});const Iv=fe((function(t){let{isActive:n,text:a,error:o,onClose:r,onTryAgain:i}=t;const s=_r(),[c,l]=ie(Tv.Waiting),[d,u]=ie(Tv.Error);function m(t,n,c){switch(c){case Tv.Waiting:return function(t){return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:s("Confirm via Ledger"),onClose:r}),ge.createElement("div",{className:Av.container},ge.createElement(of,{size:e.igk,play:t,noLoop:!1,nonInteractive:!0,className:Av.sticker,tgsUrl:_p.holdTon,previewUrl:_p.holdTonPreview}),ge.createElement("div",{className:xr(Av.textBlock,Av.textBlock_small)},ge.createElement("span",{className:Av.text},a)),ge.createElement("div",{className:xr(Av.actionBlock,Av.actionBlock_single)},ge.createElement(js,{onClick:r,className:xr(Av.button,Av.button_single)},s("Cancel")))))}(t);case Tv.Error:return function(t){const n=o&&["$hardware_blind_sign_not_enabled","$hardware_blind_sign_not_enabled_internal"].includes(o),a=n?ge.createElement("span",null,rr(s(o))):rr(s(o));return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:s("Confirm via Ledger"),onClose:r}),ge.createElement("div",{className:Av.container},ge.createElement(of,{size:e.igk,play:t,noLoop:!1,nonInteractive:!0,className:Av.sticker,tgsUrl:_p.holdTon,previewUrl:_p.holdTonPreview}),ge.createElement("div",{className:xr(Av.declinedLabel,n&&Av.declinedLabelDetailed)},a),ge.createElement("div",{className:Av.actionBlock},ge.createElement(js,{onClick:r,className:Av.button},s("Cancel")),ge.createElement(js,{isPrimary:!0,onClick:i,className:Av.button},s("Try Again")))))}(t)}}return Yi({isActive:n,onBack:r}),ce((()=>{o?(l(Tv.Error),u(Tv.Waiting)):(l(Tv.Waiting),u(Tv.Error))}),[o]),ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:xr(Gs.transitionSlide,Av.slide),activeKey:c,nextKey:d},m)})),Bv="caret",_v="right",xv=fe((function(e){let{label:t,items:n,selectedValue:a,className:o,itemClassName:r,menuClassName:i,theme:s,arrow:c=Bv,menuPositionX:l=_v,menuPositionY:d,disabled:u,shouldTranslateOptions:m,onChange:p,isLoading:f=!1,buttonPrefix:h}=e;const[g,v,w]=rm(),y=n.length>1,b=Boolean(t),E=de((()=>{let e=void 0!==a&&n.find((e=>e.value===a));return e||={value:"",name:""},{...e,isDisabled:!b&&u}}),[n,a,b,u]),k=zo((e=>{e!==a&&(null==p||p(e))}));if(!n.length)return;const C=xr(o,y&&zh.interactive,b&&zh.wide,b&&u&&zh.disabled),N=xr(zh.button,y&&zh.interactive,y&&i,s&&zh[s],r),S=de((()=>y&&ge.createElement("i",{className:xr(zh.buttonIcon,"chevron"===c?"icon-chevron-down":"icon-caret-down"),"aria-hidden":!0})),[y,c]);return ge.createElement("div",{className:C,onClick:b&&!u&&y?v:void 0},t&&ge.createElement("span",{className:zh.label},t),f?ge.createElement(fv,{className:zh.spinner}):ge.createElement(Kh,{item:E,prefix:h,suffix:S,shouldTranslate:m,shouldUseSelectedName:!0,className:N,itemClassName:xr("itemName",r),onClick:!b&&y?v:void 0}),y&&ge.createElement(eg,{isOpen:g&&!f,menuPositionX:l,menuPositionY:d,items:n,shouldTranslateOptions:m,selectedValue:a,buttonClassName:r,onSelect:k,onClose:w}))})),Dv=i.p+"desktop.5b697d2d91cbfdc91f29.png",Lv=i.p+"desktop-dark.aacce131e03bae83c744.png",Ov=i.p+"ios.5d8a0178f3ed44e81862.png",Mv=i.p+"ios-dark.0ba8808ed3906393a417.png",Pv=i.p+"mobile-bluetooth.7fea27504891420bc158.png",Fv=i.p+"mobile-bluetooth-dark.9a47bff03978eddfd080.png",Rv=i.p+"mobile-usb.165003c19b688130909d.png",Uv=i.p+"mobile-usb-dark.273f665b4cc76537f15b.png",Wv={usb:"USB",bluetooth:"Bluetooth"},Hv=fe(je((e=>{const{hardwareState:t,isLedgerConnected:n,isTonAppConnected:a,availableTransports:o,lastUsedTransport:r}=e.hardware;return{state:t,isLedgerConnected:n,isTonAppConnected:a,availableTransports:o,lastUsedTransport:r,currentTheme:e.settings.theme}}))((function(t){let{isActive:a,isStatic:o,state:r,isLedgerConnected:i,isTonAppConnected:s,availableTransports:c,lastUsedTransport:l,currentTheme:d,className:u,onConnected:m,onBackButtonClick:p,onCancel:f,onClose:h}=t;const{initializeHardwareWalletModal:g,initializeHardwareWalletConnection:v}=Ke(),w=_r(),{isPortrait:y}=hi(),[b,E]=ie(l),k=Vf(d),C=!1===i,N=!1===s,S=r===Rn.ConnectedWithSingleWallet||r===Rn.ConnectedWithSeveralWallets,A=r===Rn.Connecting,T=r===Rn.WaitingForRemoteTab,I=w(S?"Ledger Connected!":"Connect Ledger"),B=!f,_=de((()=>(c||[]).map((e=>({value:e,name:Wv[e]})))),[c]),{shouldRender:x,ref:D}=$s({isOpen:Boolean(_.length>1&&b),withShouldRender:!0});Yi({isActive:a,onBack:f??h}),ce((()=>{b||(null!=c&&c.length?E(null==c?void 0:c[0]):n.ZH&&E("bluetooth"))}),[c,b]),ce((()=>{a&&g()}),[a]),vi((e=>{let[t]=e;l&&t!==l&&E(l)}),[l]);const L=zo((e=>{n.Fe||setTimeout((()=>{m(e)}),500)}));ce((()=>{S&&a&&L(r===Rn.ConnectedWithSingleWallet)}),[S,a,r,L]);const O=zo((()=>{const e=B?h:f;(0,ch.rt)(),e()})),M=zo((()=>{b&&v({transport:b})}));function P(){const t="dark"===k,a={desktop:t?Lv:Dv,mobileUsb:t?Uv:Rv,ios:t?Mv:Ov,mobileBluetooth:t?Fv:Pv};return e.UMQ?n.pz?a.ios:"bluetooth"===b?a.mobileBluetooth:a.mobileUsb:n.Ni?a.mobileUsb:a.desktop}function F(t,a){return ge.createElement(ge.Fragment,null,o?ge.createElement("div",{className:yg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:t,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,w("Back"))),ge.createElement("span",{className:yg.headerTitle},I)):ge.createElement(tg,{title:I,onBackButtonClick:p,onClose:p?void 0:t}),ge.createElement("div",{className:xr(Av.container,o&&Av.containerStatic,o&&"static-container")},ge.createElement(xf,{activeKey:e.UMQ?"bluetooth"!==b?1:2:0,name:"semiFade",className:xr(Av.iconBlock,(y||n.pz)&&Av.mobile),slideClassName:o?Av.iconBlockSlideStatic:Av.iconBlockSlide},ge.createElement(Kf,{url:P(),imageClassName:Av.ledgerIcon})),a))}function R(){return T?F(O,ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(Av.textBlock,Av.textBlock_gap)},ge.createElement("span",{className:Av.text},ge.createElement("i",{className:xr(Av.textIcon,"icon-dot"),"aria-hidden":!0}),w("Switch to the newly opened tab to connect Ledger.")),ge.createElement("span",{className:Av.text},ge.createElement("i",{className:xr(Av.textIcon,"icon-dot"),"aria-hidden":!0}),w("Once connected, switch back to this window to proceed."))),ge.createElement("div",{className:xr(Av.actionBlock,Av.actionBlock_single)},ge.createElement(js,{className:xr(Av.button,Av.button_single),onClick:O},w(B?"Cancel":"Back"))))):F(h,ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(Av.textBlock,S&&Av.textBlock_success)},ge.createElement("span",{className:xr(Av.text,C&&Av.text_failed,i&&Av.text_connected,S&&Av.text_success)},ge.createElement("i",{className:xr(Av.textIcon,i?"icon-accept":"icon-dot"),"aria-hidden":!0}),w("Connect your Ledger")),ge.createElement("span",{className:xr(Av.text,N&&Av.text_failed,s&&Av.text_connected,S&&Av.text_success)},ge.createElement("i",{className:xr(Av.textIcon,s?"icon-accept":"icon-dot"),"aria-hidden":!0}),w("Unlock it and open the TON App"))),x&&ge.createElement("div",{ref:D,className:Av.dropdownBlock},ge.createElement(xv,{label:w("Connection Type"),items:_,selectedValue:b,theme:"light",arrow:"chevron",disabled:A,className:xr(Av.item,Av.item_small),onChange:E})),function(){const e=r===Rn.Failed;return n.Fe&&S?ge.createElement("div",{className:xr(Av.actionBlock,S&&Av.actionBlock_single)},ge.createElement(js,{isDisabled:A,className:xr(Av.button,S&&Av.button_single),onClick:h},w("Continue"))):ge.createElement("div",{className:Av.actionBlock},ge.createElement(js,{className:Av.button,onClick:B?h:f},w(B?"Cancel":"Back")),ge.createElement(js,{isPrimary:!0,isLoading:A,isDisabled:A||S||!(null!=c&&c.length),className:Av.button,onClick:M},w(e?"Try Again":"Continue")))}()))}return ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll",u),slideClassName:Gs.transitionSlide,activeKey:T?1:0},R)}))),$v=fe((function(e){let{className:t}=e;return ge.createElement("div",{className:xr("JOe_K6bB",t)})})),Vv={container:"DL3GDV2h",tooltip:"pPTN8epJ",small:"S0YjnQBy",medium:"fisd9cYz",arrow:"mw4HrHNN",icon:"DsxlgjFS",fontIcon:"T3riE15T","color-warning":"G6MdAror",colorWarning:"G6MdAror"},zv=.6875*n.$,Kv=2*n.$,qv=fe((e=>{let{message:t,emoji:a,size:o="medium",type:r="hint",iconClassName:i,tooltipClassName:s}=e;const[c,l,d]=rm(),{shouldRender:u,ref:m}=$s({isOpen:c,withShouldRender:!0}),p="warning"===r&&Vv[`color-${r}`],f=me(),h=me(),g=me(),v=me(),w=ke(),y=zo((e=>{e.target.closest(`[data-tooltip-key="${w}"]`)||d()}));return ce((()=>{if(c)return document.addEventListener("touchstart",y),()=>{document.removeEventListener("touchstart",y)}}),[c,d,y]),ce((()=>{if(!f.current||!h.current)return;const{top:e,left:t,width:n}=f.current.getBoundingClientRect(),{width:a,height:o}=h.current.getBoundingClientRect(),r=(window.innerWidth-a)/2,i=t-r+n/2-zv/2,s=i<Kv?Kv-i:0,c=`top: ${e-o-zv}px;`,l=`left: ${r-s}px;`,d=`left: ${i+s}px;`,u=`top: ${o-zv/2-1}px;`;g.current=`${c} ${l}`,v.current=`${u} ${d}`}),[u]),ge.createElement(ge.Fragment,null,u&&ge.createElement(Ys,null,ge.createElement("div",{ref:m,className:Vv.container,onClick:Do,style:g.current},ge.createElement("div",{ref:h,className:xr(Vv.tooltip,Vv[o],p,s)},t),ge.createElement("div",{className:Vv.arrow,style:v.current}))),function(){const e=xr(Vv.icon,i,Vv[o],p),t=n.TF?Do:void 0;return a?ge.createElement("span",{ref:f,className:e,"data-tooltip-key":w,onClick:t,onMouseEnter:l,onMouseLeave:d},ge.createElement(wg,{from:a})):ge.createElement("i",{ref:f,className:xr(e,Vv.fontIcon,"warning"===r?"icon-exclamation":"icon-question"),"data-tooltip-key":w,onClick:t,onMouseEnter:l,onMouseLeave:d})}())})),jv="rtKXhN4A",Yv="LUz47fCn",Gv="dqbsWkDq",Qv="ut5A6NM6",Xv="ooIjdCk3",Jv="lvIWoC_b",Zv="TBS2qSdm",ew="URk9skQT",tw="IpEvYlyO",nw="mtQbMtDU",aw="leFXfJnu",ow="iNOlk2G5",rw="TddQIzLn",iw="Kgein0KH",sw="by1Uv_HG",cw="nBWVm1mf",lw="_ogqtbzH",dw="Uyz5mVM_",uw="e3oGDhNq",mw="tO1IUhnj",pw="u2wkCYw7",fw="z0IluCrP",hw="JYgy9un6",gw="US9q0wug",vw="A7lv8DFx",ww="fHoMTSia",yw="if1jAISL",bw=fe((function(t){let{dapp:n,className:a,onDisconnect:o}=t;const{deleteDapp:r}=Ke(),i=_r(),{name:s,iconUrl:c,url:l,isUrlEnsured:d}=n||{},u=de((()=>l?new URL(l).host:void 0),[l]),m=Boolean(o&&l),p=zo((()=>{o(l)}));return ge.createElement("div",{className:xr("naRjGTN0",a)},c?ge.createElement("img",{src:c,alt:i("Logo"),className:Gv}):ge.createElement("div",{className:xr(Gv,"RGl7OFHd")},ge.createElement("i",{className:xr("Utxlqsar","icon-laptop"),"aria-hidden":!0})),ge.createElement("div",{className:"cL2nTyJm"},ge.createElement("span",{className:"IZ831cu4"},s),ge.createElement("span",{className:"ODsQl3Iq"},!d&&ge.createElement(qv,{message:ge.createElement(ge.Fragment,null,ge.createElement("b",null,i("Unverified Source")),ge.createElement("p",{className:"B9KF5fSL"},rr(i("$reopen_in_iab",{browserButton:e.UMQ&&null!=l&&l.startsWith("http")?ge.createElement("button",{className:"Go1goEAT",onClick:function(){r({url:l,uniqueId:yu(n)}),dc(l)}},i("MyTonWallet Browser")):ge.createElement("b",null,i("MyTonWallet Browser"))})))),type:"warning",size:"small",iconClassName:"rYesJSbN"}),u)),m&&ge.createElement(js,{isSmall:!0,isPrimary:!0,className:"Dpv9gVfh",onClick:p},i("Disconnect")))})),Ew=fe((function(t){let{isActive:n,error:a,onSubmit:o,onCancel:r,onClose:i}=t;const{clearDappConnectRequestError:s}=Ke(),c=_r();return Yi({isActive:n,onBack:r}),ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:c("Enter Password"),onClose:i}),ge.createElement(Hf,{isActive:n,error:a,withCloseButton:e.UMQ,submitLabel:c("Connect"),cancelLabel:c("Cancel"),onSubmit:o,onCancel:r,onUpdate:s}))})),kw=fe(je((e=>{var t;const n=at(e),a=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state),{state:o,dapp:r,error:i,accountId:s,permissions:c,proof:l}=e.dappConnectRequest||{};return{state:o,hasConnectRequest:a,dapp:r,error:i,requiredPermissions:c,requiredProof:l,currentAccountId:s||e.currentAccountId,accounts:n,settingsByAccountId:e.settings.byAccountId}}))((function(e){let{state:t,hasConnectRequest:n,dapp:a,error:o,requiredPermissions:r,requiredProof:i,accounts:s,currentAccountId:c,settingsByAccountId:l}=e;const{submitDappConnectRequestConfirm:d,cancelDappConnectRequestConfirm:u,setDappConnectRequestState:m,resetHardwareWalletConnect:p}=Ke(),f=_r(),[h,g]=ie(c),[v,w,y]=rm(!1),b=n,{renderingKey:E,nextKey:k}=yv(t??0,b),C=de((()=>Object.entries(s||{})),[s]),N=void 0===a;ce((()=>{c&&g(c)}),[c]);const S=s&&Qe(s,1),A=zo((async()=>{y();const e=Xe(s[h].type),t="hardware"===s[h].type,{isPasswordRequired:n,isAddressRequired:a}=r||{};e||(!i||!t&&a&&!n?(d({accountId:h}),requestAnimationFrame((()=>{u()}))):t?(p(),m({state:Fn.ConnectHardware})):wm()?d({accountId:h,password:await ym()}):requestAnimationFrame((()=>{m({state:Fn.Password})})))})),T=zo((()=>{m({state:Fn.Info})})),I=zo((()=>{d({accountId:h})})),B=zo((e=>{d({accountId:h,password:e})}));function _(){return ge.createElement(Sv,{accountLength:C.length,labelText:f("Select wallet to use on this dapp")},C.map((e=>{let[t,{title:n,addressByChain:a,type:o}]=e;return function(e,t,n,a){const o=!Boolean(t.ton)||Xe(n)?void 0:()=>g(e),r=(0,Ye.LG)(t)??"",{cardBackgroundNft:i}=(null==l?void 0:l[e])||{};return ge.createElement(Nv,{key:e,accountId:e,address:r,title:a,ariaLabel:f("Switch Account"),accountType:n,isActive:e===h,isLoading:N,onClick:o,cardBackgroundNft:i})}(t,a,o,n)})))}function x(e,t,n){switch(n){case Fn.Info:return ge.createElement(xf,{name:"semiFade",activeKey:N?0:1,slideClassName:gw},ge.createElement(tg,{title:f("Connect Dapp"),onClose:u}),N?ge.createElement("div",{className:xr(Gs.transitionContent,vw)},ge.createElement("div",{className:xr("wOmNbpWs",Yv)},ge.createElement($v,{className:uw}),ge.createElement("div",{className:"cAdLb2FM"},ge.createElement($v,{className:mw}),ge.createElement($v,{className:pw}))),ge.createElement("div",{className:"cWnAUfkt"},S&&_())):function(){const e=Boolean(h&&Xe(null==s?void 0:s[h].type));return ge.createElement("div",{className:xr(Gs.transitionContent,vw)},ge.createElement(bw,{dapp:a,className:xr(Yv,"AxygZABC")}),S&&_(),ge.createElement("div",{className:Jv},ge.createElement(js,{isPrimary:!0,isDisabled:e,className:Gs.buttonFullWidth,onClick:w},f("Connect"))))}());case Fn.Password:return ge.createElement(Ew,{isActive:e,error:o,onSubmit:B,onCancel:T,onClose:u});case Fn.ConnectHardware:return ge.createElement(Hv,{isActive:e,onConnected:I,onClose:T});case Fn.ConfirmHardware:return ge.createElement(Iv,{isActive:e,text:f("Please confirm operation on your Ledger"),error:o,onTryAgain:I,onClose:T})}}return ge.createElement(ge.Fragment,null,ge.createElement(ac,{isOpen:b,dialogClassName:jv,nativeBottomSheetKey:"dapp-connect",forceFullNative:E!==Fn.Info,onClose:u,onCloseAnimationEnd:u},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:E,nextKey:k},x)),ge.createElement(ac,{isOpen:v,isCompact:!0,title:f("Dapp Permissions"),onClose:y},ge.createElement("div",{className:"d20jMAO6"},f("$dapp_can_view_balance",{dappname:ge.createElement("strong",null,null==a?void 0:a.name)})),ge.createElement("div",{className:"XvGbWtVh"},ge.createElement(js,{onClick:y,className:Zv},f("Cancel")),ge.createElement(js,{isPrimary:!0,onClick:A,className:Zv},f("Connect")))))}))),Cw=fe(je((e=>{const t=at(e);return{toncoinBalance:$t(e),currentAccountId:e.currentAccountId,accounts:t}}))((function(t){var n;let{dapp:a,toncoinBalance:o,currentAccountId:r,accounts:i,customTokenBalance:s,customTokenSymbol:c,customTokenDecimals:l}=t;const d=void 0!==s?s:o,u=c||e.Tu9.symbol,m=void 0!==l?l:e.Tu9.decimals;return ge.createElement("div",{className:sw},ge.createElement("div",{className:Qv},ge.createElement("div",{className:cw},null==i||null===(n=i[r])||void 0===n?void 0:n.title),ge.createElement("div",{className:lw},ur((0,Pt.nI)(d,m),u))),ge.createElement(bw,{dapp:a,className:dw}))}))),Nw=fe((function(e){let{rows:t}=e;return ge.createElement("div",{className:xr(Gs.transitionContent,vw)},ge.createElement("div",{className:sw},ge.createElement("div",{className:"YHLHftpe"},ge.createElement($v,{className:xr(mw,fw)}),ge.createElement($v,{className:xr(pw,hw)})),ge.createElement("div",{className:"VzwVb3o_"},ge.createElement($v,{className:uw}),ge.createElement("div",{className:"L8RwZKiN"},ge.createElement($v,{className:xr(mw,fw)}),ge.createElement($v,{className:xr(pw,hw)})))),null==t?void 0:t.map(Sw))}));function Sw(e){let{isLarge:t,hasFee:n}=e;return ge.createElement("div",{className:"XcidIimi"},ge.createElement($v,{className:xr("oRChyGCN",t&&"q_gxYI6j")}),ge.createElement($v,{className:xr("IVSbVRoG",t&&"qNqaxuw6")}),n&&ge.createElement($v,{className:"lbFcqU2u"}))}const Aw=[{isLarge:!1,hasFee:!1}],Tw=fe(je((e=>(0,c.Up)(e.currentDappSignData,["dapp","isLoading","payloadToSign"])))((function(e){let{dapp:t,isLoading:n,payloadToSign:a}=e;const{closeDappSignData:o,submitDappSignDataConfirm:r}=Ke(),i=_r(),s=Vh(a,!0),c=void 0===t;return ge.createElement(xf,{name:"semiFade",activeKey:c?0:1,slideClassName:gw},ge.createElement(tg,{title:i("Sign Data"),onClose:o}),c?ge.createElement(Nw,{rows:Aw}):ge.createElement("div",{className:xr(Gs.transitionContent,vw)},ge.createElement(Cw,{dapp:t}),function(){switch(null==s?void 0:s.type){case"text":{const{text:e}=s;return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Xv},i("Message")),ge.createElement("div",{className:xr(tw,aw)},e))}case"binary":{const{bytes:e}=s;return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Xv},i("Binary Data")),ge.createElement("div",{className:xr(tw,nw)},e),ge.createElement("div",{className:ww},i("The binary data content is unclear. Sign it only if you trust the service.")))}case"cell":{const{cell:e,schema:t}=s;return ge.createElement(ge.Fragment,null,!!t&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Xv},i("Cell Schema")),ge.createElement("div",{className:xr(tw,aw)},t)),ge.createElement("p",{className:Xv},i("Cell Data")),ge.createElement("div",{className:xr(ew,tw,nw)},e),ge.createElement("div",{className:ww},i("The binary data content is unclear. Sign it only if you trust the service.")))}}}(),ge.createElement("div",{className:xr(Gs.buttons,yw)},ge.createElement(js,{className:Gs.button,onClick:o},i("Cancel")),ge.createElement(js,{isPrimary:!0,isSubmit:!0,isLoading:n,className:Gs.button,onClick:r},i("Sign")))))}))),Iw={sticker:"BQ2dFF1C",amount:"ZK1jiZZ7",amount_purple:"A4q4bGl9",amountPurple:"A4q4bGl9",amount_green:"juLGV08g",amountGreen:"juLGV08g",amountSymbol:"pIw09HQw",amountFraction:"AxDVO85U",buttons:"VBRINuzy",buttonsAfterNft:"kg0TjtvC",button:"ONW_pS7t"},Bw=fe((function(e){let{isActive:t,onClose:n,type:a="transfer"}=e;const o=_r();Yi({isActive:t,onBack:n}),ce((()=>t?zr({onEnter:n}):void 0),[t,n]);const r=o("signData"===a?"Data Signed!":"Transaction Sent!");return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:r,onClose:n}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(of,{play:t,noLoop:!1,nonInteractive:!0,className:Iw.sticker,tgsUrl:_p.thumbUp,previewUrl:_p.thumbUpPreview}),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:n,isPrimary:!0},o("Close")))))})),_w=fe(je((e=>(0,c.Up)(e.currentDappSignData,["isLoading","state","error"])))((function(t){let{isLoading:n,state:a,error:o}=t;const{setDappSignDataScreen:r,submitDappSignData:i,clearDappSignDataError:s,closeDappSignData:c,cancelDappSignData:l}=Ke(),d=_r(),u=a!==_n.None,{renderingKey:m,nextKey:p,updateNextKey:f}=yv(a,u),h=zo((()=>{a===_n.Password&&r({state:_n.Initial})})),g=zo((e=>{i({password:e})})),v=zo((()=>{l(),f()}));function w(t,a,r){switch(r){case _n.Initial:return ge.createElement(Tw,null);case _n.Password:return function(t){return ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:d("Sign Data"),onClose:c}),ge.createElement(Hf,{isActive:t,isLoading:n,error:o,withCloseButton:e.UMQ,submitLabel:d("Sign"),cancelLabel:d("Back"),onSubmit:g,onCancel:h,onUpdate:s}))}(t);case _n.Complete:return ge.createElement(Bw,{isActive:t,onClose:c,type:"signData"})}}return ge.createElement(ac,{hasCloseButton:!0,isOpen:u,dialogClassName:jv,nativeBottomSheetKey:"dapp-sign-data",noBackdropClose:!0,forceFullNative:m===_n.Password,onClose:c,onCloseAnimationEnd:v},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:m,nextKey:p},w))})));function xw(e,t,n){const a=function(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t),t|=0;return t}(n),o=1e4*Math.sin(a),r=o-Math.floor(o);return Math.floor(r*(t-e+1))+e}const Dw=new Set(["jWBTC","oWBTC","BTC"]),Lw=new Set(["jUSDT","oUSDT","USDT","jUSDC","oUSDC","USDC","USD₮"]),Ow=new Set(["USD","RUB","EUR","CNY"]);function Mw(t){return Ow.has(t)?5:Lw.has(t)?4:Dw.has(t)?3:t===e.Tu9.symbol?2:1}function Pw(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(e&&t&&n&&a))return;let r,i=n.symbol,s=a.symbol;const c=new Ft.z(e),l=new Ft.z(t);if(c.eq(0)||l.eq(0))return;const d=Mw(i);if(Mw(s)<d){i=a.symbol,s=n.symbol;const e=c.div(t),l=o&&e.gte(1e3);r=dr(e.toNumber(),l?0:4)}else{const t=l.div(e),n=o&&t.gte(1e3);r=dr(t.toNumber(),n?0:4)}return{firstCurrencySymbol:i,secondCurrencySymbol:s,price:r}}const Fw=i.p+"chain_avalanche.f5a22f3024a79c2a9f7e.svg",Rw=i.p+"chain_bitcoin.f45ee04748fc010b73f0.svg",Uw=i.p+"chain_bitcoincash.e58775a726a28f67a7ab.svg",Ww=i.p+"chain_bnb.01e2f3e1ea67de53c558.svg",Hw={avalanche:Fw,bitcoin:Rw,bitcoin_cash:Uw,binance_smart_chain:Ww,binance_dex:Ww,cardano:i.p+"chain_cardano.687768b5a8564f340656.svg",cosmos:i.p+"chain_cosmos.a7db04679752fce24427.svg",dash:i.p+"chain_dash.cda178d1c80b14b84c65.svg",doge:i.p+"chain_doge.299dffe46d1d20ecb64e.svg",eos:i.p+"chain_eos.5d77746a1d3fe4f879d9.svg",ethereum:i.p+"chain_ethereum.3af0d0aca7d489e97c88.svg",ethereum_classic:i.p+"chain_ethereumclassic.7a2a50f776866f7dc57f.svg",internet_computer:i.p+"chain_internetcomputer.a779e5a83feca271c1b5.svg",iota:i.p+"chain_iota.74e7a3ff559ca5be6171.svg",litecoin:i.p+"chain_litecoin.200bd2979f34cbf91fee.svg",monero:i.p+"chain_monero.80470738ce04482ad225.svg",polkadot:i.p+"chain_polkadot.ce8946cba8f597bc6435.svg",ripple:i.p+"chain_ripple.d4675f4b4373f6c8fdf4.svg",solana:i.p+"chain_solana.3628ba06de78d3bc2018.svg",stellar:i.p+"chain_stellar.f7eb720521e4d55bb082.svg",ton:i.p+"chain_ton.65285e35dece81bdab6c.svg",tron:i.p+"chain_tron.78feaed45ec98c6779ca.svg",zcash:i.p+"chain_zcash.51dd09d4e46c4b2f1ace.svg"};function $w(e){return e?Hw[e]??e:""}const Vw=i.p+"coin_btc.887dcd8a09b641cd64fc.png",zw=i.p+"coin_my.0333e30adb78820c4490.svg",Kw={ton:i.p+"coin_ton.3ad15a82e5688b967ed1.png",btc:Vw,trx:i.p+"coin_trx.e9458515724ddbb167c8.svg",usdt:i.p+"coin_usdt.954394d1344db6c259d1.svg",my:zw},qw={wrapper:"XPeM0_U7",icon:"FoSSGfFn",large:"wjhynzvL","x-large":"CRkmFyTA",xLarge:"CRkmFyTA","x-small":"TGv989qd",xSmall:"TGv989qd",small:"Zb5vM0UM",middle:"d5dxI69w",fallbackIcon:"p13LUS2n",blockchainIcon:"CMIQ9vCY"},jw=fe((function(e){let{token:t,size:n,withChainIcon:a,className:o,iconClassName:r,children:i}=e;const{symbol:s,image:c,chain:l}=t,d=Kw[s.toLowerCase()]||c,[u,m]=rm(!1);return ge.createElement("div",{className:xr(qw.wrapper,o)},u?ge.createElement("div",{className:xr(qw.icon,n&&qw[n],r,qw.fallbackIcon)},t.symbol.slice(0,1)):ge.createElement("img",{src:d,alt:s,className:xr(qw.icon,n&&qw[n],r),draggable:!1,onError:m}),a&&l&&ge.createElement("img",{src:$w(l),alt:"",className:xr(qw.blockchainIcon,n&&qw[n]),draggable:!1}),i)})),Yw=[6e-6,6e-6,1e-5*.06,3e-4*.06,6e-6,15e-5],Gw=.07,Qw={lightTheme:"120, 121, 122",darkTheme:"240, 241, 242",cardLightText:"250, 250, 250",cardDarkText:"10, 10, 10",cardGoldText:"101, 73, 16",purple:"96, 107, 215",green:"43, 196, 105"};function Xw(e){return e[(0,Fa.yT)(0,e.length-1)]}const Jw=fe(je((e=>({theme:e.settings.theme})))((function(e){let{ref:t,cols:a,rows:o,cellSize:r,skin:i,className:s,theme:c}=e,l=me();t&&(l=t);const u=r*n.Lv,m=Vf(c),p=Qw[i??`${m}Theme`],f=me({opacityValues:[],steps:[],lastSpeedChangeAt:void 0,isRendered:!1}),h=ig(l,sg),g=Al,v=Rs((()=>h()&&!g()),[h,g]);return le((()=>{const e=f.current;if(e.isRendered&&!v())return;const t=l.current,n=t.getContext("2d"),r=a*u,i=o*u;let s,c=!1;t.width=r,t.height=i,e.lastSpeedChangeAt=void 0;const m={ctx:n,cols:a,rows:o,width:r,height:i,cellSizeDpr:u,color:p};return(0,d.iT)((()=>{if(c||e.isRendered&&!v())return!1;const t=performance.now();return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{ctx:a,cols:o,rows:r,cellSizeDpr:i,width:s,height:c,color:l}=e,d=performance.now(),u=!!t.lastSpeedChangeAt&&d-t.lastSpeedChangeAt>=3e3;!u&&t.lastSpeedChangeAt||(t.lastSpeedChangeAt=d),a.clearRect(0,0,s,c);for(let e=0;e<r;e++)for(let r=0;r<o;r++){t.steps[e]??=[],t.opacityValues[e]??=[],u?t.steps[e][r]=Xw(Yw)*(t.steps[e][r]<0?-1:1):t.steps[e][r]??=Xw(Yw);let o=t.opacityValues[e][r]??.18*Math.random()+Gw;o+=t.steps[e][r]*n,(o>.25||o<Gw)&&(t.steps[e][r]*=-1,o=Lr(o,Gw,.25)),t.opacityValues[e][r]=o,a.fillStyle=`rgba(${l}, ${o})`,a.fillRect(r*i,e*i,i,i),t.isRendered||=!0}}(m,e,s?t-s:0),s=t,!0}),k.RK),()=>{c=!0}}),[a,o,u,v,p]),ge.createElement("canvas",{ref:l,style:`width: ${r*a}px; height: ${r*o}px`,className:xr("_5lZqlhE",s)})}))),Zw={wrapper:"iXsFkRU7",center:"FEWWktrI",right:"FXNTlsIy",interactive:"O6dWAwYM",content:"GAvxZ7xR",spoiler:"ynSPM0hu",left:"DSH91Ntx",fixedWidth:"CBhjF9XS"},ey=function(e){let{isActive:t,rows:n,cols:a,cellSize:o=0,align:r="left",maskSkin:i,shouldHoldSize:s,className:c,maskClassName:l,contentClassName:d,children:u}=e;const[m,p]=ie(!1),f=t&&!m;ce((()=>{!t&&m&&p(!1)}),[t,m]);const{ref:h}=$s({isOpen:!f,noMountTransition:!f,className:"slow"}),{shouldRender:g,ref:v}=$s({isOpen:f,withShouldRender:!0,className:"slow"}),w=xr(Zw.wrapper,c,t&&Zw.interactive,Zw[r]),y=xr(Zw.spoiler,l,Zw[r]),b=Pp(`--spoiler-width: calc(${o*a}px + var(--sensitive-data-extra-width, 0px))`,`min-height: ${o*n}px`,(f||s)&&"min-width: var(--spoiler-width);"),E=xr(Zw.content,d,f&&Zw.fixedWidth);return ge.createElement("div",{style:b,className:w,onClick:t?function(e){Do(e),t&&(p(!m),ul())}:void 0},g&&ge.createElement(Jw,{ref:v,cols:a,rows:n,cellSize:o,skin:i,className:y}),ge.createElement("div",{ref:h,className:E},u))},ty="voGmKods",ny="JKuqFIMs",ay="vPKs_EfD",oy="ithY1XA8",ry="MwNQsICc",iy="pEdRQT_R",sy="lp28p1if",cy="O_xYgdgM",ly="mNtPH759",dy="koKI7xJv",uy="PQ56yxoE",my="cPGOyB7W",py="fY8lBeMI",fy="oLA5mzy7",hy="X1ICSpcc",gy="r0qJPY3I",vy=fe((function(t){let{isPending:n,isError:a,color:o="Gray",appTheme:r}=t;const{shouldRender:i,ref:s}=$s({isOpen:n,withShouldRender:!0}),c=`iconClock${o}`;return ge.createElement(ge.Fragment,null,a&&ge.createElement("i",{className:xr("QEx5s5VW","icon-close-filled"),"aria-hidden":!0}),i&&ge.createElement("div",{ref:s,className:"hJkwVF68"},ge.createElement(of,{play:!0,size:e.wg4,nonInteractive:!0,noLoop:!1,forceOnHeavyAnimation:!0,tgsUrl:_p[r][c],previewUrl:_p[r].preview[c]})))})),wy=new Set(["new","waiting","confirming","exchanging","sending","hold"]),yy=new Set(["failed","expired","refunded","overdue"]),by=new Set(["expired","failed"]),Ey=fe((function(t){let{ref:n,tokensBySlug:a,activity:o,isLast:r,isActive:i,appTheme:s,addressByChain:c,isSensitiveDataHidden:l,isFuture:d,onClick:u}=t;const m=_r(),{id:p,timestamp:f,status:h,from:g,to:v,cex:w}=o,y=de((()=>{if(g&&a)return Xd(a,g)}),[g,a]),b=de((()=>{if(v&&a)return Xd(a,v)}),[v,a]),E=Number(o.fromAmount),k=Number(o.toAmount),C="pending"===h||wy.has((null==w?void 0:w.status)??""),N=by.has(h)||yy.has((null==w?void 0:w.status)??""),S="hold"===(null==w?void 0:w.status),A=de((()=>xw(5,13,f.toString())),[f]),T=g===e.Tu9.slug,I=Zd({from:y,to:b,toAddress:null==w?void 0:w.payoutAddress,addressByChain:c});return ge.createElement(js,{ref:n,className:xr(ty,r&&oy,i&&ay,u&&ny),onClick:u&&(()=>u(p)),isSimple:!0},function(){let e="ubpNbJEy",t="Green";return N?(e=gy,t="Red"):S&&(e=void 0,t="Gray"),"pending"===h&&(t="Orange"),ge.createElement("i",{className:xr("icon-swap",ry,e),"aria-hidden":!0},ge.createElement(vy,{isPending:C,isError:N,color:t,appTheme:s}))}(),ge.createElement("div",{className:iy},ge.createElement("div",{className:xr(ly,d&&cy)},m(S||N||d?"$swap_action":C?"Swapping":"Swapped")),function(){const t=xr(N&&"zT_yLEe8",S&&"aPXkRlmy");return ge.createElement(ey,{isActive:l,cols:A,rows:2,cellSize:8,align:"right",contentClassName:my},ge.createElement("span",{className:xr("i_ICee_w",t)},mr(Math.abs(E),(null==y?void 0:y.symbol)||e.Tu9.symbol,!0)),ge.createElement("i",{className:xr("O_3HTad8","icon-chevron-right",t),"aria-hidden":!0}),ge.createElement("span",{className:xr("mTZ6NzL2",t)},mr(Math.abs(k),(null==b?void 0:b.symbol)||e.Tu9.symbol,!0)),y&&ge.createElement(jw,{token:y,size:"x-small",className:py}),b&&ge.createElement(jw,{token:b,size:"x-small",className:py}))}()),ge.createElement("div",{className:sy},function(){if(d)return ge.createElement("div",null);const t=(0,ha.fU)(f);let n="";const a=null==w?void 0:w.status;return"expired"===a||"overdue"===a?n=m("Expired"):"refunded"===a?n=m("Refunded"):"hold"===a?n=m("On Hold"):"failed"===a||N?n=m("Failed"):"waiting"!==a||T||I?C&&(n=m("In Progress")):n=m("Waiting for Payment"),ge.createElement("div",{className:dy},n&&ge.createElement("span",{className:uy},n),n&&`${e.MS3}∙${e.MS3}`,t)}(),function(){const e=Pw(o.fromAmount,o.toAmount,y,b);if(!e)return;const[t,n]=e.price.split(".");return ge.createElement("div",null,e.firstCurrencySymbol," ≈ ",ge.createElement("span",{className:uy},t,ge.createElement("small",null,".",n," ",e.secondCurrencySymbol)))}()))}));function ky(e){var t;let{address:n,chain:a,currentAccountId:o,accounts:r,savedAddresses:i}=e;if(!n)return;const s=r?Object.keys(r).find((e=>{var t;return e!==o&&(null===(t=r[e].addressByChain)||void 0===t?void 0:t[a])===n})):void 0;return s?r[s].title:null==i||null===(t=i.find((e=>e.address===n&&e.chain===a)))||void 0===t?void 0:t.name}const Cy=i.p+"scam.8fb66536b659fd1bbfc6.svg",Ny=new Set([void 0,"unstakeRequest","nftTrade","auctionBid","liquidityDeposit"]),Sy=fe((function(t){let{ref:n,tokensBySlug:a,transaction:o,isActive:r,annualYield:i,yieldType:s,savedAddresses:c,isLast:l,appTheme:d,withChainIcon:u,doesNftExist:m,isSensitiveDataHidden:p,isFuture:f,accounts:h,currentAccountId:g,baseCurrency:v,onClick:w}=t;const{openNftAttributesModal:y}=Ke(),b=_r(),{id:E,amount:k,fromAddress:C,toAddress:N,timestamp:S,comment:A,encryptedComment:T,isIncoming:I,type:B,metadata:_,slug:x,nft:D,extra:L,status:O}=o,M=tn.has(B),P=nn.has(B),F=a[x],{chain:R}=F||{},U=I?C:N,W=de((()=>{if(R)return ky({address:U,chain:R,currentAccountId:g,accounts:h,savedAddresses:c})}),[h,U,R,g,c])||(null==_?void 0:_.name),H=de((()=>P?function(e){if(null!=e&&e.name){const t=va(e.name);if(t)return`.${t.zone.suffixes[0]}`}return"DNS"}(D):""),[P,D]),$=de((()=>xw(5,13,S.toString())),[S]),V=Ay(o,f),z=Ty(o,f),K=f||"failed"===O?"future":"past";let q,j="Gray";"failed"===O||"burn"===B?(q=gy,j="Red"):I?(q="Zw8K7_jM",j="Green"):"stake"===B?(q="eSMoqURj",j="PurpleWhite"):Ny.has(B)&&(q=hy,j="Blue"),"pending"===O&&(j="Orange");const Y=zo((e=>{e.stopPropagation(),ul(),y({nft:D})}));return ge.createElement(js,{ref:n,className:xr(ty,l&&oy,r&&ay,w&&ny,"full"===V?"WHdvfTWr":"left"===V?"h_nAGYlh":void 0),onClick:w&&(()=>w(E)),isSimple:!0},function(){let e;return e=M?"icon-earn":"callContract"===B||"contractDeploy"===B?"icon-cog":P?xr("rounded-font","phy9vVLZ"):"mint"===B?"icon-magic-wand":"burn"===B?"icon-fire":"auctionBid"===B?"icon-auction-alt":"nftTrade"===B?I?"icon-tag":"icon-purchase":"liquidityDeposit"===B?"icon-can-in":"liquidityWithdraw"===B?"icon-can-out":I?"icon-receive-alt":"icon-send-alt",ge.createElement("i",{className:xr(ry,e,q),"aria-hidden":!0},P&&ge.createElement("span",{style:P?`font-size: ${100*Math.min(1,4/H.length)}%`:void 0},H),ge.createElement(vy,{isPending:"pending"===O||"pendingTrusted"===O,isError:"failed"===O,color:j,appTheme:d}))}(),ge.createElement("div",{className:iy},ge.createElement("div",{className:xr(ly,z&&"none"===V&&cy)},ln(o,K,b),dn(o)&&ge.createElement("img",{src:Cy,alt:b("Scam"),className:"q57qlNaF"})),function(){const t=mn(o),n="noSign"===t;if("hide"!==t)return ge.createElement(ey,{isActive:p,cols:$,rows:2,cellSize:8,align:"right",contentClassName:xr(my,q!==hy&&q)},mr((0,Pt.nI)(n?(0,ua.wg)(k):k,(null==F?void 0:F.decimals)??e.I04),(null==F?void 0:F.symbol)||e.Tu9.symbol,n,void 0,!I),F&&ge.createElement(jw,{token:F,size:"x-small",className:py}))}()),ge.createElement("div",{className:sy},function(){const t=[],n=`${e.MS3}∙${e.MS3}`;if("failed"===o.status&&t.push(n,b("Failed")),pn(o).includes("list")){const a=(null==L?void 0:L.dex)&&e.S7e[L.dex],o=(null==L?void 0:L.marketplace)&&e.fSo[L.marketplace];t.push(n,b(a||o?"$transaction_on":I?"$transaction_from":"$transaction_to",{address:ge.createElement("span",{className:uy},u&&Boolean(R)&&ge.createElement("i",{className:xr("cSKmXwko",`icon-chain-${R.toLowerCase()}`),"aria-label":R}),a||o||W||(0,jt.W)(U,e.bOf))}))}return hn(o)&&t.push(n,b("at %annual_yield%",{annual_yield:ge.createElement("span",{className:uy},s," ",i,"%")})),f||t.push(n,(0,ha.fU)(S)),ge.createElement("div",{className:dy},t.slice(1))}(),function(){if("hide"!==mn(o)&&F)return ge.createElement(ey,{isActive:p,cols:Math.round(3+($-5)/3),rows:2,cellSize:8,align:"right"},gr(k,v,F))}()),D&&ge.createElement("div",{className:xr(fy,"e3BuV9xi",!m&&"ajtoDEwn","transaction-nft"),onClick:m?Y:void 0,"data-nft-address":null==D?void 0:D.address,"data-tx-id":E},ge.createElement("img",{src:D.thumbnail,alt:D.name,className:"D2P00KCV"}),ge.createElement("div",{className:"q0pHgkH5"},ge.createElement("div",{className:"nyPEMK4u"},D.name),ge.createElement("div",{className:"Qpo6_7BK"},D.collectionName))),un(o)&&function(){const e=xr(fy,"HZlzXBrP",!I&&"pDncMEIU",q);return ge.createElement("div",{className:e},T&&ge.createElement("i",{className:xr("gBryI_V5","icon-lock"),"aria-hidden":!0}),T?ge.createElement("i",null,b("Encrypted Message")):A)}())}));function Ay(e,t){return(e.nft||un(e))&&Ty(e,t)?function(e){return"hide"===mn(e)}(e)?"full":e.nft||e.isIncoming?"left":"none":"none"}function Ty(e,t){return t&&"failed"!==e.status&&!pn(e).includes("list")&&!hn(e)}function Iy(e){let{activity:t,isLast:n,isActive:a,isSensitiveDataHidden:o,isFuture:r,withChainIcon:i,tokensBySlug:s,swapTokensBySlug:c,appTheme:l,nftsByAddress:d,currentAccountId:u,stakingStateBySlug:m,savedAddresses:p,accounts:f,baseCurrency:h,onClick:g}=e;var v;if("swap"===t.kind)return ge.createElement(Ey,{activity:t,tokensBySlug:c,isLast:n,isActive:a,appTheme:l,addressByChain:null==f||null===(v=f[u])||void 0===v?void 0:v.addressByChain,isSensitiveDataHidden:o,isFuture:r,onClick:g});{const e=Boolean(t.nft&&(null==d?void 0:d[t.nft.address])),{annualYield:c,yieldType:v}=m[t.slug]??{};return ge.createElement(Sy,{currentAccountId:u,transaction:t,tokensBySlug:s,isActive:a,annualYield:c,yieldType:v,isLast:n,savedAddresses:p,withChainIcon:i,appTheme:l,doesNftExist:e,isSensitiveDataHidden:o,isFuture:r,accounts:f,baseCurrency:h,onClick:g})}}function By(e,t){return"swap"===e.kind?4:function(e,t){return 4+(e.nft?3.875:0)+(un(e)?2.375:0)-("none"!==Ay(e,t)?1.25:0)}(e,t)}const _y=fe(je((e=>{const{dapp:t}=e.currentDappTransfer,n=at(e);return{currentAccount:null==n?void 0:n[e.currentAccountId],toncoinBalance:$t(e),dapp:t}}))((function(t){let{currentAccount:n,toncoinBalance:a,dapp:o}=t;const{cancelDappTransfer:r,setDappTransferScreen:i}=Ke(),s=_r(),c=zo((()=>{i({state:In.Initial})}));return ge.createElement("div",{className:Gs.transitionContent},ge.createElement("div",{className:sw},ge.createElement("div",{className:Qv},ge.createElement("div",{className:cw},null==n?void 0:n.title),ge.createElement("div",{className:lw},ur((0,Pt.nI)(a),e.Tu9.symbol))),ge.createElement(bw,{dapp:o,className:dw})),ge.createElement("div",{className:"LiakNgEl"},ge.createElement("span",null,rr(s("$dapp_ledger_warning1"))),ge.createElement("span",null,rr(s("$dapp_ledger_warning2")))),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{className:Gs.button,onClick:r},s("Cancel")),ge.createElement(js,{isPrimary:!0,isSubmit:!0,className:Gs.button,onClick:c},s("Agree"))))}))),xy="DZJAgO1_",Dy="frL0b5SW",Ly="l7Jv2Ysl",Oy="cjX8maBi",My="nfp5rpIc",Py="qBj00Hsz",Fy=fe((function(t){let{nft:n,isStatic:a,withTonExplorer:o,withMediaViewer:r}=t;const{openMediaViewer:i}=Ke(),s=_r(),c=de((()=>s("Open on %ton_explorer_name%",{ton_explorer_name:Xo("ton")}).join("")),[s]),l=e=>{e.stopPropagation(),dc(tr(n.address,Ve().settings.isTestnet))},d=zo((()=>{i({mediaId:n.address,mediaType:Kn.Nft})}));if(!n)return ge.createElement("div",{className:xr(xy,a&&Dy)},ge.createElement(of,{play:!0,noLoop:!1,nonInteractive:!0,size:e.YO8,className:Ly,tgsUrl:_p.wait,previewUrl:_p.waitPreview}),ge.createElement("div",{className:Oy},ge.createElement("div",{className:My},"NFT"),ge.createElement("div",{className:Py},s("Name and collection are not available. Please check back later."))));const u=n.name||(0,jt.W)(n.address);return ge.createElement("div",r?{role:"button",tabIndex:0,"aria-label":s("NFT"),className:xr(xy,"GU6t4snd",a&&Dy),onClick:d}:{className:xr(xy,a&&Dy)},ge.createElement(ge.Fragment,null,ge.createElement("img",{src:n.thumbnail,alt:u,className:Ly}),ge.createElement("div",{className:Oy},ge.createElement("div",{className:My},u,o&&ge.createElement("i",{className:xr("DNxf1fb1","icon-tonexplorer-small"),onClick:l,title:c,"aria-label":c,role:"button",tabIndex:0})),ge.createElement("div",{className:Py},n.collectionName))))})),Ry=350,Uy="r5lsJ1c8",Wy=fe((function(e){let{isOpen:t,address:n,chain:a,onClose:o}=e;const{removeFromSavedAddress:r,showNotification:i}=Ke(),s=_r(),c=zo((()=>{r({address:n,chain:a}),i({message:s("Address removed from saved"),icon:"icon-trash"}),o()}));return ge.createElement(ac,{title:s("Delete Saved Address"),isCompact:!0,isOpen:t,onClose:o},ge.createElement("p",{className:Uy},s("Are you sure you want to remove this address from your saved ones?")),ge.createElement("p",{className:Uy},s("You will be able to save it again via Transaction Info with this address.")),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:o,className:Gs.button},s("Cancel")),ge.createElement(js,{isDestructive:!0,onClick:c,className:Gs.button},s("Delete"))))})),Hy=fe((function(e){let{isMenuOpen:t,contentRef:n,contentClassName:a}=e;const{shouldRender:o,ref:r}=$s({isOpen:t,withShouldRender:!0});if(le((()=>{n.current&&(Ds(n.current,"qhlMQSuq",o),Ds(n.current,"y0lYOYF9",o&&!t),a&&Ds(n.current,a,o))}),[a,n,t,o]),Vs({className:"with-menu-backdrop",isActive:t}),o)return ge.createElement("div",{ref:r,className:xr("aLk6q3zd",t&&"LULg10Df")})})),$y={wrapper:"qrcsFk0p",button:"tQGrt_Qw",button_spoiler:"RpBIB1I4",buttonSpoiler:"RpBIB1I4",icon:"RdTchw5a",iconCaretDown:"DdQbhVKr",iconStar:"p87ao4no",iconShare:"GuQHudIr",nameInput:"lL2_LCB0",shortAddress:"hofQbGX_",scam:"nwdDECq8",revealSpoiler:"W5z38O2d",scamImage:"KBuV_80E",chainIcon:"xEGdgotG",meaningfulPart:"tKeqWu_9",menuIcon:"iyUEV5xt",dimmedPart:"NNrfqpvB",menu:"E31wd_4J",menuItem:"HbftB0iE"};function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vy.apply(null,arguments)}const zy=3*n.$,Ky=n.$,qy=fe(je((e=>{const t=ct(e);return{savedAddresses:null==t?void 0:t.savedAddresses,isMultichainAccount:Ct(e,e.currentAccountId),isTestnet:e.settings.isTestnet}}))((function(e){let{chain:t,address:a,addressName:o,addressUrl:r,isScam:i,isTransaction:s,text:c="",spoiler:l,spoilerRevealText:d,spoilerCallback:u,copyNotification:m,noSavedAddress:p,noExplorer:f,className:h,textClassName:g,savedAddresses:v,isTestnet:w,isMultichainAccount:y,noDimming:b,withShareInMenu:E}=e;const{showNotification:k,addSavedAddress:C}=Ke(),N=me(),S=me(),A=me(),T=_r(),[I,B,_]=rm(),[x,D,L]=rm(),[O,M]=ie(o),[P,,F]=rm(Boolean(l)),R=de((()=>Boolean(a&&t&&(v||[]).find((e=>e.address===a&&e.chain===t)))),[a,t,v]);r=r??(t?er(t,a,w):void 0);const U=T(R?"Remove From Saved":"Save Address"),W=T("View on Explorer"),H=Boolean(!i&&!p&&a),$=Boolean(!f&&r);ce((()=>{I&&M("")}),[I]);const V=zo((()=>{O&&a&&t&&(C({address:a,chain:t,name:O}),k({message:T("Address was saved!"),icon:"icon-star"}),_())}));ce((()=>I?zr({onEnter:V}):void 0),[V,I]),xp(N,!I);const z=zo((()=>{m&&(k({message:m,icon:"icon-copy"}),hl(a||c))})),K=zo((()=>{Wh(r,t?Xo(t):void 0)})),q=zo((()=>{dc(r,{title:Xo(t),subtitle:Qo(r)})})),{isActionsMenuOpen:j,menuAnchor:Y,menuPositionY:G,menuItems:Q,handleMenuShow:X,handleMenuItemSelect:J,closeActionsMenu:Z}=function(e,t){const[a,o]=ie("top"),[r,i]=ie(),s=zo((()=>i(void 0))),c=Boolean(r),l=de((()=>{const{isAddressAlreadySaved:e,isWalletAddress:a,isTransaction:o,withSavedAddresses:r,withExplorer:i,withShare:s}=t,c=[{name:r||a?"Copy Address":o?"Copy Transaction ID":"Copy",fontIcon:"copy",value:"copy"}];return r&&c.push({name:e?"Remove From Saved":"Save Address",fontIcon:e?"star-filled":"star",value:"addressBook"}),(o||s)&&c.push({name:"Share Link",fontIcon:n.pz?"share-ios":"share-android",value:"share"}),i&&c.push({name:"View on Explorer",fontIcon:"tonexplorer",value:"explorer"}),c}),[t]),d=zo((t=>{var n;null===(n=e[t])||void 0===n||n.call(e),s()})),u=zo((e=>{let t;if(Do(e),e.type.startsWith("touch")){const{changedTouches:n,touches:a}=e;t=a.length>0?a[0].clientX:n[0].clientX}else t=e.clientX;const{top:n,bottom:a}=e.currentTarget.getBoundingClientRect(),r=l.length*zy,s=qa().height;a+r+-16+Ky>=s?(o("bottom"),i({x:t,y:n})):(o("top"),i({x:t,y:a+-16}))}));return{isActionsMenuOpen:c,menuAnchor:r,menuPositionY:a,menuItems:l,handleMenuShow:u,handleMenuItemSelect:d,closeActionsMenu:s}}({copy:z,share:K,addressBook:R?D:B,explorer:q},{isAddressAlreadySaved:R,isWalletAddress:Boolean(a&&t&&p&&!s),isTransaction:s,withSavedAddresses:H,withExplorer:$,withShare:E}),ee=!l&&n.TF&&Q.length>1,te=zo((()=>document.body)),ne=zo((()=>A.current)),ae=zo((()=>({withPortal:!0,preferredPositionY:G}))),oe=function(e){let{onClick:t,onStart:n,onEnd:a,threshold:o=Ry}=e;const r=me(!1),i=me(!1),s=me(void 0),c=ue((e=>{const t="button"in e&&0===e.button||"touches"in e&&e.touches.length>0;!i.current&&t&&(i.current=!0,s.current=window.setTimeout((()=>{null==n||n(),r.current=!0}),o))}),[n,o]),l=ue((e=>{i.current&&(r.current?null==a||a():null==t||t(e),r.current=!1,i.current=!1,window.clearTimeout(s.current))}),[a,t]);return ye((()=>()=>{window.clearTimeout(s.current)})),{onMouseDown:c,onMouseUp:l,onMouseLeave:l,onTouchStart:c,onTouchEnd:l,onTouchCancel:l}}({onClick:X,onStart:z}),re=zo((()=>{F(),null==u||u()}));function se(e){let n=e;if(!b&&!s&&e===a&&e.length>2*jt.V){const t=e.substring(0,jt.V),a=e.length-jt.V,o=e.substring(jt.V,a),r=e.substring(a);n=ge.createElement(ge.Fragment,null,ge.createElement("span",{className:$y.meaningfulPart},t),ge.createElement("span",{className:$y.dimmedPart},o),ge.createElement("span",{className:$y.meaningfulPart},r))}else!b&&s&&(n=ge.createElement("span",{className:$y.dimmedPart},e));return ge.createElement("span",{className:xr($y.button,i&&$y.scam,g),tabIndex:0,role:"button",title:ee?void 0:T("Copy"),onClick:ee?void 0:z},i&&ge.createElement("img",{src:Cy,alt:T("Scam"),className:$y.scamImage}),y&&!s&&ge.createElement("i",{className:xr($y.chainIcon,`icon-chain-${t}`),"aria-label":t}),n,Boolean(o)&&ge.createElement("span",{className:xr($y.shortAddress,i&&$y.scam)},(0,jt.W)(a)),Boolean(m)&&!ee&&ge.createElement("i",{className:xr($y.icon,"icon-copy"),"aria-hidden":!0}))}return ge.createElement(ge.Fragment,null,ge.createElement(Hy,{isMenuOpen:j&&ee,contentRef:S}),ge.createElement("div",Vy({ref:S,className:xr($y.wrapper,h)},ee&&!j&&{...oe,tabIndex:0,role:"button"},{onContextMenu:ee?Do:void 0}),function(){const e=o||a||c;if(!l)return se(e);const t=P||!e;return ge.createElement(xf,{activeKey:t?1:0,name:"fade",className:$y.commentContainer},t?ge.createElement("span",{className:xr($y.button,$y.button_spoiler,g)},ge.createElement("i",null,l)," ",ge.createElement("span",{onClick:re,tabIndex:0,role:"button",className:$y.revealSpoiler},d)):se(e))}(),function(){if(ee){const e=xr($y.icon,$y.iconCaretDown,"icon-caret-down",i&&$y.scam);return ge.createElement(ge.Fragment,null,ge.createElement("i",{className:e,"aria-hidden":!0}),ge.createElement(eg,{ref:A,withPortal:!0,shouldTranslateOptions:!0,isOpen:j,items:Q,menuPositionY:G,menuAnchor:Y,getLayout:ae,getMenuElement:ne,getRootElement:te,bubbleClassName:$y.menu,buttonClassName:$y.menuItem,fontIconClassName:$y.menuIcon,onSelect:J,onClose:Z}))}return ge.createElement(ge.Fragment,null,H&&ge.createElement("span",{className:$y.button,title:U,"aria-label":U,tabIndex:0,role:"button",onClick:R?D:B},ge.createElement("i",{className:xr($y.icon,$y.iconStar,R?"icon-star-filled":"icon-star"),"aria-hidden":!0})),s&&ge.createElement("span",{className:$y.button,title:T("Share Link"),"aria-label":T("Share Link"),onClick:K},ge.createElement("i",{className:xr($y.icon,$y.iconShare,"icon-link"),"aria-hidden":!0})),$&&ge.createElement("a",{href:r,className:$y.button,title:W,"aria-label":W,target:"_blank",rel:"noreferrer noopener",onClick:mc},ge.createElement("i",{className:xr($y.icon,"icon-tonexplorer-small"),"aria-hidden":!0})))}()),a&&ge.createElement(ge.Fragment,null,ge.createElement(ac,{title:T("Save Address"),isCompact:!0,isOpen:I,onClose:_},ge.createElement("p",null,T("You can save this address for quick access while sending.")),ge.createElement(sf,{ref:N,placeholder:T("Name"),onInput:M,value:O,maxLength:255,className:$y.nameInput}),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:_,className:Gs.button},T("Cancel")),ge.createElement(js,{onClick:V,isPrimary:!0,isDisabled:!O,className:Gs.button},T("Save")))),ge.createElement(Wy,{isOpen:x,address:a,chain:t,onClose:L})))}))),jy=fe(je((e=>({tokensBySlug:e.tokenInfo.bySlug,baseCurrency:e.settings.baseCurrency})))((function(t){let{label:n,amountsBySlug:a,nftCount:o,tokensBySlug:r,baseCurrency:i}=t;const s=[];o&&s.push(ge.createElement("span",{className:ow},`${o} NFT${o>1?"s":""}`));for(const[t,n]of Object.entries(a)){s.length&&s.push(" + ");const a=r[t]??e.Bx3;s.push(ge.createElement("span",{className:ow},ur((0,Pt.nI)(n,a.decimals),a.symbol)))}if(!Ge(a)){const e=function(e,t){return Object.entries(e).reduce(((e,n)=>{let[a,o]=n;const r=t[a];return r?e+(0,Pt.CF)(o,r.decimals).toNumber()*r.price:e}),0)}(a,r);s.push(` (${ur(e,hr(i))})`)}return ge.createElement(ge.Fragment,null,ge.createElement("span",{className:Xv},n),ge.createElement("div",{className:xr(tw,nw)},s))}))),Yy=fe((function(e){let{transaction:t,tokensBySlug:n}=e;const a=_r(),o=me(),[r,i]=rm(!1);ce((()=>{const e=o.current;e&&e.scrollWidth<=e.clientWidth&&i()}),[i]);const s=function(){const{payload:e,rawPayload:o}=t;if(e&&!_t(e)&&!xt(e))switch(e.type){case"comment":return e.comment;case"tokens:burn":{const{slug:t,amount:o}=e,r=n[t],i=(null==r?void 0:r.decimals)??Bt.fI,s=(null==r?void 0:r.symbol)??"";return a("$dapp_transfer_tokens_burn",{amount:ur((0,Pt.nI)(o,i),s,2)})}case"dns:change-record":{const{record:t}=e,n="unknown"!==t.type?t.type:t.key;return"wallet"===t.type&&t.value?a("$dapp_dns_set_wallet_payload",{address:t.value}):"wallet"!==t.type||t.value?t.value?a("$dapp_dns_change_record_payload",{category:n,value:t.value}):a("$dapp_dns_delete_record_payload",{category:n}):a("$dapp_dns_delete_wallet_payload")}case"token-bridge:pay-swap":return a("$dapp_token_bridge_pay_swap_payload",{swapId:e.swapId});case"liquid-staking:deposit":return a("$dapp_liquid_staking_deposit_payload");case"liquid-staking:vote":return a("$dapp_liquid_staking_vote_payload",{votingAddress:e.votingAddress,vote:e.vote});case"single-nominator:change-validator":return a("$dapp_single_nominator_change_validator_payload",{address:e.address});case"single-nominator:withdraw":return a("$dapp_single_nominator_withdraw_payload",{amount:(0,Pt.nI)(e.amount)});case"vesting:add-whitelist":return a("$dapp_vesting_add_whitelist_payload",{address:e.address});case"unknown":return o;default:return JSON.stringify(e,void 0,2).replace(`/"${ua.tH}/g`,'"')}}();if(s)return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Xv},function(){var e;switch(null===(e=t.payload)||void 0===e?void 0:e.type){case"comment":return a("Comment");case"unknown":return a("Payload");default:return a("Nested Transaction")}}()),ge.createElement("div",{ref:o,className:xr(tw,r&&nw)},s,!r&&ge.createElement("div",{className:"l7ty8x8l",onClick:i},a("View"))),t.isDangerous&&ge.createElement("div",{className:ww},rr(a("$hardware_payload_warning"))))})),Gy=fe((function(e){let{transaction:t,tokensBySlug:n,isActive:a,onClose:o,onBack:r}=e;const i=_r();return Yi({isActive:a,onBack:r}),ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:i("Transaction Info"),onBackButtonClick:r,onClose:o}),ge.createElement("div",{className:xr(Gs.transitionContent,"yj9FIjaY")},t&&ge.createElement(Qy,{transaction:t,tokensBySlug:n})))}));function Qy(t){let{transaction:n,tokensBySlug:a}=t;const o=_r(),r=de((()=>{const{amount:t,payload:a}=n,o={};return xt(a)&&(o[a.slug]=a.amount),(0n!==t||!_t(a)&&Ge(o))&&(o[e.Tu9.slug]=t),o}),[n]),i=de((()=>({[e.Tu9.slug]:n.networkFee})),[n.networkFee]);return ge.createElement(ge.Fragment,null,_t(n.payload)&&ge.createElement(Fy,{nft:n.payload.nft}),ge.createElement("p",{className:Xv},o("Receiving Address")),ge.createElement(qy,{chain:e.Tu9.chain,address:n.displayedToAddress,isScam:n.isScam,className:xr(ew,"NfKwqXNd"),copyNotification:o("Address was copied!")}),!Ge(r)&&ge.createElement(jy,{label:_t(n.payload)?o("Additional Amount Sent"):o("Amount"),amountsBySlug:r}),ge.createElement(jy,{label:o("Fee"),amountsBySlug:i}),ge.createElement(Yy,{transaction:n,tokensBySlug:a}))}const Xy={exact:"",approximate:"~ ",lessThan:"< "},Jy={slug:"__stars__",symbol:e.xFF,decimals:0},Zy={slug:"__unknown__",symbol:"",decimals:0},eb={[e.Tu9.slug]:"icon-chain-ton",[e.X7T.slug]:"icon-chain-tron"},tb=fe((function(e){var t;let{terms:n,token:a,precision:o,shouldPreferIcons:r,termClassName:i,symbolClassName:s}=e;const c=(null===(t=Yn(Zn(a.slug)))||void 0===t?void 0:t.nativeToken)??Zy,l=[Xy[o]];return function(e){const t=[];let n;for(const[a,o]of Object.entries(e)){if(void 0===o)continue;const e={tokenType:a,amount:o};n||=e,Number(o)&&t.push(e)}return 0===t.length&&t.push(n??{tokenType:"native",amount:0}),t}(n).forEach(((e,t)=>{let{tokenType:n,amount:o}=e;t>0&&l.push(" + ");const d="stars"===n?Jy:"native"===n?c:a,u=r?eb[d.slug]:void 0;"bigint"==typeof o&&(o=(0,Pt.nI)(o,d.decimals));let m=u?ge.createElement("i",{className:xr(u,"hrsxYQfo"),"aria-label":d.symbol}):d.symbol;s&&(m=ge.createElement("span",{className:s},m)),l.push(ge.createElement("span",{className:xr("KQKXQCYl",i)},ur(o,"",void 0,!0),m))})),l})),nb=fe((function(e){let{className:t,isStatic:n,terms:a,token:o,precision:r,keepDetailsButtonWithoutFee:i,onDetailsClick:s}=e;const c=_r();let l;return a&&o&&(l=c("exact"===r?"$fee_value_with_colon":"$fee_value",{fee:ge.createElement(tb,{terms:a,token:o,precision:r})})),ge.createElement(ab,{className:t,isStatic:n,onDetailsClick:l||i?s:void 0,transitionKey:l?1:0},l)}));function ab(e){let{className:t,isStatic:n,onDetailsClick:a,children:o,transitionKey:r=0}=e;const i=_r();return ge.createElement(xf,{name:"fade",activeKey:r+(a?65536:0),className:xr("fJgsdA7d",t,n&&"swvIvbGd")},o,Boolean(o)&&a&&" · ",a&&ge.createElement("span",{role:"button",tabIndex:0,className:"K7iB61lh",onClick:()=>a()},i("Details"),ge.createElement("i",{className:xr("icon-chevron-right","WDhuwtt6"),"aria-hidden":!0})))}const ob=[{isLarge:!1,hasFee:!1},{isLarge:!0,hasFee:!0}],rb=fe(je((e=>{var t,n,a;const{isLoading:o,dapp:r,transactions:i,emulation:s}=e.currentDappTransfer,c=e.currentAccountId,l=ct(e),d=at(e),{amountsBySlug:u,isScam:m,isDangerous:p,nftCount:f}=Ot(e);return{transactions:i,totalAmountsBySlug:u,emulation:s,isScam:m,isDangerous:p,nftCount:f,dapp:r,isLoading:o,tokensBySlug:e.tokenInfo.bySlug,swapTokensBySlug:null===(t=e.swapTokenInfo)||void 0===t?void 0:t.bySlug,theme:e.settings.theme,baseCurrency:e.settings.baseCurrency,nftsByAddress:null==l||null===(n=l.nfts)||void 0===n?void 0:n.byAddress,currentAccountId:c,stakingStateBySlug:Ta(e,c),savedAddresses:null==l?void 0:l.savedAddresses,accounts:d,insufficientTokens:Mt(e),balancesBySlug:null==l||null===(a=l.balances)||void 0===a?void 0:a.bySlug}}))((function(t){var n;let{transactions:a,totalAmountsBySlug:o,emulation:r,isScam:i,isDangerous:s,nftCount:c,dapp:l,isLoading:d,tokensBySlug:u,swapTokensBySlug:m,theme:p,baseCurrency:f,nftsByAddress:h,currentAccountId:g,stakingStateBySlug:v,savedAddresses:w,accounts:y,insufficientTokens:b,balancesBySlug:E,onClose:k}=t;const{closeDappTransfer:C,showDappTransferTransaction:N,submitDappTransferConfirm:S}=Ke(),A=_r(),T=Vf(p),I=Vh(a,!0),B=de((()=>function(e,t){return e?e.map(((e,n)=>({...e,index:n,sortingCost:ib(e,t)}))).sort(((e,t)=>t.sortingCost-e.sortingCost)):e}(I,u)),[I,u]),_=void 0===l,x=!b,D=de((()=>function(t,n,a){if(!t||!n||!a)return{balance:(null==n?void 0:n[e.Tu9.slug])??0n,symbol:e.Tu9.symbol,decimals:e.Tu9.decimals};const o=[],r=[];for(const[e,i]of Object.entries(t)){const t=n[e]??0n,s=a[e];if(!s)continue;const{symbol:c,decimals:l,priceUsd:d=0}=s;if(t<i){const n=i-t,a=(0,Pt.CF)(n,l).toNumber()*d;o.push({slug:e,insufficientUsdValue:a,balance:t,symbol:c,decimals:l})}else{const n=(0,Pt.CF)(i,l).toNumber()*d;r.push({slug:e,transactionUsdValue:n,balance:t,symbol:c,decimals:l})}}if(o.length>0){const e=o.reduce(((e,t)=>t.insufficientUsdValue>e.insufficientUsdValue?t:e));return{balance:e.balance,symbol:e.symbol,decimals:e.decimals}}if(r.length>0){const e=r.reduce(((e,t)=>t.transactionUsdValue>e.transactionUsdValue?t:e));return{balance:e.balance,symbol:e.symbol,decimals:e.decimals}}return{balance:n[e.Tu9.slug]??0n,symbol:e.Tu9.symbol,decimals:e.Tu9.decimals}}(o,E,u)),[o,E,u]);function L(t){const{payload:n}=t,a=[];if(_t(n))a.push("1 NFT");else if(xt(n)){const{slug:t,amount:o}=n,{decimals:r,symbol:i}=u[t]??e.Bx3;a.push(ur((0,Pt.nI)(o,r),i))}return a.push(ur((0,Pt.nI)(t.amount+t.networkFee),e.Tu9.symbol)),ge.createElement("div",{key:t.index,className:"qfq9TmLL",onClick:()=>N({transactionIdx:t.index})},t.isScam&&ge.createElement("img",{src:Cy,alt:A("Scam"),className:"gw394drP"}),ge.createElement("span",{className:xr("rqZIiXwE",t.isScam&&iw)},a.join(" + "))," ",ge.createElement("span",{className:xr("p87NWFTH",t.isScam&&iw)},A("$transaction_to",{address:(0,jt.W)(t.displayedToAddress)})),ge.createElement("i",{className:xr("gKLbD42t","icon-chevron-right"),"aria-hidden":!0}))}return ge.createElement(xf,{name:"semiFade",activeKey:_?0:1,slideClassName:gw},ge.createElement(tg,{title:A(_t(null==I||null===(n=I[0])||void 0===n?void 0:n.payload)?"Send NFT":"Send Transaction"),onClose:C}),_?ge.createElement(Nw,{rows:ob}):ge.createElement("div",{className:xr(Gs.transitionContent,vw)},ge.createElement(Cw,{dapp:l,customTokenBalance:D.balance,customTokenSymbol:D.symbol,customTokenDecimals:D.decimals}),s&&ge.createElement("div",{className:xr("Jgu5kw0W",ww)},rr(A("$hardware_payload_warning"))),function(){if(!I)return;const e=c>0||!Ge(o);return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Xv},A("$many_transactions",I.length,"i")),ge.createElement("div",{className:rw},null==B?void 0:B.map(L)),I.length>1&&e&&ge.createElement(jy,{label:A("Total Amount"),amountsBySlug:o,nftCount:c}))}(),function(){var t;if(null==r||null===(t=r.activities)||void 0===t||!t.length)return;const{activities:n,realFee:a}=r;return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Xv},A("Preview")," ",ge.createElement(qv,{message:rr(A("$preview_not_guaranteed")),type:"warning",size:"small"})),ge.createElement("div",{className:xr(rw,"ZCewpbCA")},n.map(((e,t)=>ge.createElement(Iy,{key:e.id,activity:e,isFuture:!0,isLast:t===n.length-1,tokensBySlug:u,swapTokensBySlug:m,appTheme:T,nftsByAddress:h,currentAccountId:g,stakingStateBySlug:v,savedAddresses:w,accounts:y,baseCurrency:f})))),0n!==a&&ge.createElement(nb,{terms:{native:a},token:e.Tu9,precision:"approximate",className:"ClQaAvrV"}))}(),ge.createElement("div",{className:Jv},!x&&ge.createElement("div",{className:"IHLQKILq"},A("Not Enough %symbol%",{symbol:b})),ge.createElement("div",{className:xr(Gs.buttons,yw)},ge.createElement(js,{className:Gs.button,onClick:k},A("Cancel")),ge.createElement(js,{isPrimary:!0,isSubmit:!0,isLoading:d,isDisabled:i||!x,className:Gs.button,onClick:!i&&x?S:void 0},A("Send"))))))})));function ib(t,n){const a=(0,Pt.CF)(t.amount+t.networkFee,e.Tu9.decimals).toNumber();let o=n[e.Tu9.slug].priceUsd*a;if(xt(t.payload)){const{amount:e,slug:a}=t.payload,r=n[a];r&&(o+=r.priceUsd*(0,Pt.CF)(e,r.decimals).toNumber())}else _t(t.payload)&&(o+=1e9);return o}const sb=fe(je((e=>{const{isDangerous:t}=Ot(e);return{currentDappTransfer:e.currentDappTransfer,tokensBySlug:e.tokenInfo.bySlug,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isDangerous:t}}))((function(t){let{currentDappTransfer:{isLoading:n,viewTransactionOnIdx:a,state:o,transactions:r,emulation:i,error:s},tokensBySlug:c,isMediaViewerOpen:l,isDangerous:d}=t;const{setDappTransferScreen:u,clearDappTransferError:m,submitDappTransfer:p,closeDappTransfer:f,cancelDappTransfer:h}=Ke(),g=_r(),v=o!==In.None,{renderingKey:w,nextKey:y,updateNextKey:b}=yv(o,v),E=de((()=>!(!e.UMQ||w!==In.Password)||w!==In.Complete&&function(e,t,n){let a=0;if(e&&(a+=3*e.length,e.length>1&&(a+=5.125)),t)for(const e of t)a+=By(e,!0);return n&&(a+=4.6),a>=14.5}(r,null==i?void 0:i.activities,d)),[r,i,d,w]),k=zo((()=>{o!==In.Confirm&&o!==In.Password||u({state:In.Initial})})),C=zo((e=>{p({password:e})})),N=zo((()=>{p()})),S=zo((()=>{h(),b()}));function A(t,o,i){switch(i){case In.Initial:return ge.createElement(rb,{onClose:f});case In.WarningHardware:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:g("Send Transaction"),onClose:f}),ge.createElement(_y,null));case In.Confirm:return ge.createElement(Gy,{transaction:void 0!==a?null==r?void 0:r[a]:void 0,tokensBySlug:c,isActive:t,onBack:k,onClose:f});case In.Password:return function(t){return ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:g("Confirm Action"),onClose:f}),ge.createElement(Hf,{isActive:t,isLoading:n,error:s,withCloseButton:e.UMQ,submitLabel:g("Send"),cancelLabel:g("Back"),onSubmit:C,onCancel:k,onUpdate:m}))}(t);case In.ConnectHardware:return ge.createElement(Hv,{isActive:t,onConnected:N,onClose:f});case In.ConfirmHardware:return ge.createElement(Iv,{text:g("Please confirm transaction on your Ledger"),error:s,onTryAgain:N,onClose:f});case In.Complete:return ge.createElement(Bw,{isActive:t,onClose:f})}}return ge.createElement(ac,{hasCloseButton:!0,isOpen:v&&!l,noBackdropClose:!0,dialogClassName:xr(jv,E&&"ow4XXlQr"),nativeBottomSheetKey:"dapp-transfer",forceFullNative:E,onClose:f,onCloseAnimationEnd:S},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:w,nextKey:y,onStop:b},A))}))),cb=(0,Oa.F3)("Dialog",{web:()=>i.e(564).then(i.bind(i,94564)).then((e=>new e.DialogWeb))}),lb=fe(je((e=>(0,c.Up)(e,["dialogs"])))((t=>{var n,a;let{dialogs:o}=t;const{dismissDialog:r}=Ke(),s=_r(),[c,l,d]=rm(),u=o[o.length-1],m=s((null==u?void 0:u.title)??"Something went wrong"),p=(null==u?void 0:u.buttons)??{confirm:{}},f=Boolean(null==u||null===(n=u.buttons)||void 0===n?void 0:n.cancel),h=s(p.confirm.title??"OK"),g=f?s((null===(a=p.cancel)||void 0===a?void 0:a.title)??"Cancel"):void 0,v=e.UMQ&&"string"==typeof(null==u?void 0:u.message),w=zo((()=>{p.confirm.action&&async function(e){switch(e){case"openBluetoothSettings":{const{openSystemBluetoothSettings:e}=await Promise.all([i.e(800),i.e(909),i.e(629),i.e(803)]).then(i.bind(i,50243));e();break}case"signOutAll":{const{signOut:e}=Ke();e({level:"all"});break}}}(p.confirm.action),v?r():d()}));if(ce((()=>{u?v?f?cb.confirm({title:m,message:s(u.message),okButtonTitle:h,cancelButtonTitle:g}).then((e=>{e.value?w():r()})):cb.alert({title:m,message:s(u.message),buttonTitle:h}).then(w):l():d()}),[g,h,u,f,v,s,m]),u)return ge.createElement(ac,{isOpen:c,isCompact:!0,title:m,noBackdropClose:u.noBackdropClose,isInAppLock:u.isInAppLock,onClose:d,onCloseAnimationEnd:r},ge.createElement("div",null,"string"==typeof u.message?rr(s(u.message,u.entities)):u.message),ge.createElement("div",{className:Gs.footerButtons},f&&ge.createElement(js,{onClick:d},g),ge.createElement(js,{isPrimary:!0,isDestructive:p.confirm.isDestructive,onClick:w},h)))}))),db=fe(je((e=>{const{isAppUpdateAvailable:t}=e;return{isAppUpdateAvailable:t}}))((function(t){let{isAppUpdateAvailable:n}=t;const a=_r(),[o,r]=ie(!1),[i,s]=ie(!1),[c,l]=rm(!1);ce((()=>{var e,t,n;const a=null===(e=window.electron)||void 0===e?void 0:e.on(_h.UPDATE_ERROR,(()=>{r(!1)})),o=null===(t=window.electron)||void 0===t?void 0:t.on(_h.UPDATE_DOWNLOADED,(()=>{r(!0)}));return null===(n=window.electron)||void 0===n||n.getIsAutoUpdateEnabled().then(s),()=>{null==a||a(),null==o||o()}}),[]);const d=zo((async()=>{if(!c)if(i){var t;if(o)return l(),void await(null===(t=window.electron)||void 0===t?void 0:t.installUpdate());n&&window.location.reload()}else window.open(`${e.yq6}/get`,"_blank","noopener")})),{ref:u,shouldRender:m}=$s({isOpen:o||n,withShouldRender:!0});return m?ge.createElement("div",{ref:u,className:xr("m3oYVPLL",c&&"Hz_3Tm4Q"),onClick:d},ge.createElement("div",{className:"cAAhDZj9"},ge.createElement("i",{className:xr("icon-update","O2khIMww")})),ge.createElement("div",{className:"vvQKF4lC"},a("Update %app_name%",{app_name:e.C39}))):null}))),ub="o0YiMAP8",mb="B1_vmNNd",pb="F4gGoZNE",fb="oUKLixL4",hb="Pgysk0gP",gb=fe((function(t){let{children:a,withTitle:o}=t;const r=me();(e=>{const t=me(!1),a=me(window.screenX),o=me(window.screenY),r=me(0);ce((()=>{const i=e.current;if(!i||!n.cp||!n.MP)return;const s=e=>{r.current=0,t.current&&(e.preventDefault(),e.stopPropagation(),t.current=!1)},c=e=>{t.current&&(e.preventDefault(),e.stopPropagation())},l=e=>{1===e.buttons&&(r.current+=Math.sqrt((a.current-window.screenX)**2+(o.current-window.screenY)**2),a.current=window.screenX,o.current=window.screenY,!t.current&&r.current>5&&(t.current=!0))},d=e=>{var t;e.currentTarget===e.target&&(null===(t=window.electron)||void 0===t||t.handleDoubleClick())};return i.addEventListener("click",s),i.addEventListener("mousedown",c),i.addEventListener("mousemove",l),i.addEventListener("dblclick",d),()=>{i.removeEventListener("click",s),i.removeEventListener("mouseup",c),i.removeEventListener("mousemove",l),i.removeEventListener("dblclick",d)}}),[e])})(r);const i=zo((()=>{var e;null===(e=window.electron)||void 0===e||e.minimize()})),s=zo((async()=>{var e,t,n;await(null===(e=window.electron)||void 0===e?void 0:e.getIsMaximized())?null===(t=window.electron)||void 0===t||t.unmaximize():null===(n=window.electron)||void 0===n||n.maximize()})),c=zo((()=>{var e;null===(e=window.electron)||void 0===e||e.close()})),l=zo((()=>{var e;null===(e=window.electron)||void 0===e||e.handleDoubleClick()}));return n.H8?ge.createElement("div",{ref:r,className:ub,onDoubleClick:l},ge.createElement("div",{className:mb},Boolean(a)&&ge.createElement("div",{className:fb},a),o&&ge.createElement("div",{className:pb},e.C39)),ge.createElement("div",{className:"hKXvGlWy"},ge.createElement(db,null),ge.createElement("div",{className:hb,onClick:i},ge.createElement("i",{className:"icon-windows-minimize"})),ge.createElement("div",{className:hb,onClick:s},ge.createElement("i",{className:"icon-windows-maximize"})),ge.createElement("div",{className:hb,onClick:c},ge.createElement("i",{className:"icon-windows-close"})))):ge.createElement("div",{ref:r,className:ub,onDoubleClick:l},ge.createElement("div",{className:mb},o&&ge.createElement("div",{className:pb},e.C39),ge.createElement("div",{className:fb},ge.createElement(db,null),a)))}));function vb(e){const t=me(!1);return ce((()=>{n.pz&&!e&&t.current&&(mo(),t.current=!1)}),[e]),{disableSwipeToClose:zo((()=>{n.pz&&!t.current&&(uo(),t.current=!0)})),enableSwipeToClose:zo((()=>{n.pz&&t.current&&(mo(),t.current=!1)}))}}function wb(e,n,a){let o=e;o.startsWith("http:")||o.startsWith("https:")||(o=`https://${o}`),function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yo;try{if(!e.match(jo))return!1;const t=new URL(e);return n.has(t.protocol)}catch(e){return(0,t.SJ)("isValidUrl",e),!1}}(o)?Ke().addSiteToBrowserHistory({url:o}):o=`https://www.google.com/search?q=${encodeURIComponent(e)}`,dc(o,{isExternal:n,title:a,subtitle:Qo(o)})}const yb=function(e){let{containerRef:t,isDisabled:n,shouldPreventDefault:a=!1,contentSelector:o}=e;ce((()=>{const e=t.current;if(!n&&e)return e.addEventListener("wheel",r,{passive:!a}),()=>{e.removeEventListener("wheel",r)};function r(t){if(!t.deltaX){const n=o?e.querySelector(o):e;if(!n)return;n.scrollLeft+=t.deltaY/4,a&&t.preventDefault()}}}),[t,o,n,a])};function bb(e){const t=me(),n=me();return n.current!==e&&(t.current=n.current),n.current=e,t.current}const Eb="dNJuuV1f",kb="yWoCn5kk",Cb="d8pMxoBU",Nb=fe((function(e){let{category:t,sites:n}=e;const{openSiteCategory:a}=Ke(),o=_r(),[r,i]=de((()=>n.length<=4?[n,[]]:[n.slice(0,3),n.slice(3,7)]),[n]);function s(){a({id:t.id})}return ge.createElement("div",{className:"MEbg8jIh"},ge.createElement("h3",{className:"P97rYp1K",role:"button",tabIndex:0,onClick:s},o(t.name)),ge.createElement("div",{className:xr("uC9KwIK7",i.length>0&&"db2WsIPg"),onClick:i.length>0?s:void 0},r.map((e=>ge.createElement("button",{key:`${e.url}-${e.name}`,type:"button",className:xr(Eb,Cb),onClick:t=>{Do(t),dc(e.url,{isExternal:e.isExternal,title:e.name,subtitle:Qo(e.url)})}},ge.createElement(Kf,{url:e.icon,alt:e.name,imageClassName:kb})))),i.length>0&&ge.createElement("div",{className:xr("qqdPrxSH",Cb)},i.map((e=>ge.createElement(Kf,{key:`${e.url}-${e.name}`,url:e.icon,alt:e.name,className:xr(Eb,"rQOZaBwJ"),imageClassName:kb}))))))})),Sb=[],Ab="B18NDC8N",Tb="ws8erUzz",Ib=ha.Z2,Bb=[{name:"Fanzee Battles",manifestUrl:"https://battles-tg-app.fanz.ee/tc-manifest.json",originalUrl:"https://t.me/fanzeebattlesbot",replacementUrl:"https://t.me/battlescryptobot?start=myTonWallet"},{name:"Hamster Kombat",manifestUrl:"https://hamsterkombatgame.io/tonconnect-manifest.json",originalUrl:"https://hamsterkombatgame.io/",replacementUrl:"https://t.me/hamster_kombat_bot/start"},{name:"Dogs",manifestUrl:"https://cdn.onetime.dog/manifest.json",originalUrl:"https://onetime.dog",replacementUrl:"https://t.me/dogshouse_bot/join"},{name:"Earn",manifestUrl:"https://cdn.joincommunity.xyz/earn/manifest.json",originalUrl:"https://earncommunity.xyz",replacementUrl:"https://t.me/earn?startapp"}].reduce(((e,t)=>{let{originalUrl:n,replacementUrl:a}=t;return e[n]=a,e}),{}),_b=fe((function(e){let{iconUrl:t,name:n,url:a,mode:o,isExternal:r}=e;const{updateDappLastOpenedAt:i}=Ke(),s=_r(),c=zo((async()=>{await dc(Bb[a]||a,{isExternal:r}),setTimeout((()=>{i({url:a})}),Ib)}));return ge.createElement("button",{type:"button",className:xr("uOCr1XIF","pill"===o?"x3JEisHt":"in10zDBl"),onClick:c},function(){const e="pill"===o?Ab:Tb,n=de((()=>ge.createElement("div",{className:xr(Gv,"RGl7OFHd",e)},ge.createElement("i",{className:xr("JdTfrjba","icon-laptop"),"aria-hidden":!0}))),[e]);return ge.createElement(Kf,{url:t,className:e,imageClassName:"ZwXhUWQR",alt:s("Icon"),fallback:n})}(),ge.createElement("span",{className:"mqKHkpx5"},n))})),xb={rootSlide:"ZqS6W7iF",slide:"FbWMWVID",list:"eHKjqPA4",landscapeList:"ajulW8PQ",suggestionsMenu:"AcA4Inhz",suggestions:"Rr_OedMn",suggestion:"goh_kbKG",suggestionIcon:"BHtFAOhh",suggestionAddress:"hX1s9Ru4",clearSuggestion:"k4u3y6_t",item:"gSQkL6Gj",trendingImage:"bIf54cAx",imageWrapperScalable:"jnZY0Ppv",trending:"dsHH5C4L",badge:"PI6bQC1A",imageWrapper:"oZIOx6b0",infoWrapper:"SmLsrv__",extended:"Qe5qRpIb",withBorder:"yvQQOHrd",badgeLabel:"vHZqxLRV",image:"RpIwnHrh",title:"ToW8q6Vp",description:"kd6qUnJ8",telegram:"Y4mdR7QN",emptyList:"OLtywBQ9",emptyListLoading:"i6uQ6HHm",searchWrapper:"VQJfovbk",searchContainer:"Wr0eK8xW",searchIcon:"DdYW9BBn",searchInput:"Gy204QbI",sectionHeader:"HElxzEtm",trendingSection:"bX0D8BEZ",trendingList:"bZc6NN6v"},Db=new Set(["https://checkin.mytonwallet.org"]),Lb=fe(je((e=>{const{dapps:t=Sb}=ct(e)||{},{dappLastOpenedDatesByUrl:n}=ct(e)||{};return{dapps:t,dappLastOpenedDatesByUrl:n}}))((function(e){let{dapps:t,dappLastOpenedDatesByUrl:a}=e;const{openSettingsWithState:o,closeExplore:r}=Ke(),i=_r(),s=me(),c=de((()=>{const e=t.slice().filter((e=>!Db.has(e.url))).map((e=>({...e,lastOpenedAt:null==a?void 0:a[e.url]}))).sort(Ob),n=new Set;return e.filter((e=>{let{url:t}=e;return!n.has(t)&&(n.add(t),!0)}))}),[a,t]),l=c.length>3?"tile":"pill",d="pill"===l,u=d?Ab:Tb,m=xr("nA5QFADu",d?"YTIqRcid":"y5gkmCay",!c.length&&"RcpQnS7j","dapps-feed");if(yb({containerRef:s,isDisabled:n.TF||0===c.length,shouldPreventDefault:!0,contentSelector:".dapps-feed"}),c.length)return ge.createElement("div",{className:"_3Om0rcJ",ref:s},ge.createElement("h2",{className:xb.sectionHeader},i("Connected")),ge.createElement("div",{className:m},null==c?void 0:c.map((e=>function(e,t){const{iconUrl:n,name:a,url:o}=e,r=`dapp-${o}-${yu(e)}`;return ge.createElement(_b,{key:r,iconUrl:n,name:a,url:o,mode:t,isExternal:!!e.sse})}(e,l))),!!c.length&&ge.createElement("div",{className:"kqZ8FwHA",role:"button",tabIndex:0,title:d?i("Settings"):void 0,"aria-label":d?i("Settings"):void 0,onClick:function(){r(void 0,{forceOnHeavyAnimation:!0}),o({state:Hn.Dapps},{forceOnHeavyAnimation:!0})}},ge.createElement("div",{className:xr("S5zvywKS",u)},ge.createElement("i",{className:"icon-params","aria-hidden":!0})),!d&&ge.createElement("span",{className:"CDOOWV_8"},i("Settings")))))})));function Ob(e,t){const n=e.lastOpenedAt||0,a=t.lastOpenedAt||0;return n!==a?a-n:t.connectedAt-e.connectedAt}const Mb=e=>{const{className:t,href:n,children:a,onClick:o,clickArg:r,isDestructive:i}=e,s=zo((e=>{if(!o)return e.stopPropagation(),void e.preventDefault();o(e,r)})),c=zo((e=>{if("Enter"===e.code||"Space"===e.code)return o?void o(e):(e.stopPropagation(),void e.preventDefault())})),l=xr("eMFKmXs8",t,i&&"C84vY_ER");return n?ge.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:l},a):ge.createElement("div",{role:"button",tabIndex:0,className:l,onClick:s,onKeyDown:c},a)},Pb=fe((function(e){let{site:{url:t,icon:n,name:a,description:o,isExternal:r,extendedIcon:i,withBorder:s,badgeText:c},isTrending:l,isInList:d,className:u}=e;return ge.createElement("div",{className:xr(xb.item,i&&l&&xb.extended,l&&xb.trending,!d&&s&&xb.withBorder,u),tabIndex:0,role:"button",onClick:function(){ul(),dc(t,{isExternal:r,title:a,subtitle:Qo(t)})}},ge.createElement(Kf,{url:i&&l?i:n,className:xr(xb.imageWrapper,!l&&xb.imageWrapperScalable),imageClassName:xr(xb.image,l&&xb.trendingImage)}),ge.createElement("div",{className:xb.infoWrapper},ge.createElement("b",{className:xb.title},a,!l&&nr(t)&&ge.createElement("i",{className:xr(xb.telegram,"icon-telegram-filled"),"aria-hidden":!0}),d&&c&&ge.createElement("div",{className:xb.badgeLabel},c)),ge.createElement("div",{className:xb.description},o)),!d&&c&&ge.createElement("div",{className:xb.badge},c))})),Fb=fe((function(e){var t,n;let{isSuggestionsVisible:a,searchSuggestions:o,searchValue:r,onSiteClick:i,onSiteClear:s,onClose:c}=e;const l=_r();return ge.createElement(Jh,{type:"suggestion",noBackdrop:!0,isOpen:Boolean(a&&!o.isEmpty),className:xb.suggestions,bubbleClassName:xb.suggestionsMenu,onClose:c},null==o||null===(t=o.history)||void 0===t?void 0:t.map((e=>ge.createElement(Mb,{key:`history-${e}`,className:xb.suggestion,onClick:i,clickArg:e},ge.createElement("i",{className:xr(xb.suggestionIcon,r.length?"icon-search":"icon-globe"),"aria-hidden":!0}),ge.createElement("span",{className:xb.suggestionAddress},Qo(e)),ge.createElement("button",{className:xb.clearSuggestion,type:"button","aria-label":l("Clear"),title:l("Clear"),onMouseDown:t=>s(t,e),onClick:Do},ge.createElement("i",{className:"icon-close","aria-hidden":!0}))))),null==o||null===(n=o.sites)||void 0===n?void 0:n.map((e=>ge.createElement(Pb,{key:`site-${e.url}-${e.name}`,className:xb.suggestion,site:e}))))})),Rb=fe(je((e=>{var t;return{categories:null===(t=e.exploreData)||void 0===t?void 0:t.categories}}))((function(e){let{id:t,withNotch:n,categories:a}=e;const{closeSiteCategory:o}=Ke(),r=_r(),{isPortrait:i}=hi(),s=de((()=>{var e;return null===(e=a||[])||void 0===e?void 0:e.find((e=>t===e.id))}),[a,t]);return ge.createElement("div",{className:xr("xWsj5_Wk",i&&"with-notch-on-scroll",n&&"is-scrolled")},ge.createElement(js,{className:"P2bhPLw0",isSimple:!0,isText:!0,onClick:o},ge.createElement("i",{className:xr("FmQAR1hK","icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("h3",{className:"kW1ssngj"},r((null==s?void 0:s.name)||"")))}))),Ub=fe((function(e){let{isActive:t,categoryId:n,sites:a}=e;const{closeSiteCategory:o}=Ke(),{isPortrait:r}=hi();Yi({isActive:t,onBack:o});const{handleScroll:i,isScrolled:s}=fg();return ge.createElement("div",{onScroll:r?i:void 0,className:xr("LxPuuiTJ","custom-scroll")},r&&ge.createElement(Rb,{id:n,withNotch:s}),ge.createElement("div",{className:"Eml6INN5"},a.map((e=>ge.createElement(Pb,{key:`${e.url}-${e.name}`,site:e,isInList:!0})))))}));var Wb=function(e){return e[e.main=0]="main",e[e.category=1]="category",e}(Wb||{});const Hb=fe(je((e=>{const{browserHistory:t,currentSiteCategoryId:a}=ct(e)||{},{categories:o,sites:r}=e.exploreData||{};return{sites:r,categories:o,shouldRestrict:e.restrictions.isLimitedRegion&&(n.ZH||n.xy),browserHistory:t,currentSiteCategoryId:a}}))((function(t){let{isActive:a,categories:o,sites:r,shouldRestrict:i,browserHistory:s,currentSiteCategoryId:c,onScroll:l}=t;const{loadExploreSites:d,getDapps:u,removeSiteFromBrowserHistory:m,openSiteCategory:p,closeSiteCategory:f}=Ke(),h=me(),g=me(void 0),v=me(),w=me(),y=_r(),{isLandscape:b,isPortrait:E}=hi(),[k,C]=ie(""),[N,S,A]=rm(!1),[T,I,B]=rm(!1),{renderingKey:_}=yv(c||0,!!a),x=Vo(bb(_)),{disableSwipeToClose:D,enableSwipeToClose:L}=vb(a),{handleScroll:O,isScrolled:M}=fg();ce((()=>_?qh(f):void 0),[f,_]);const P=de((()=>function(e,t){if(e)return t?e.filter((e=>!e.canBeRestricted)):e}(r,i)),[r,i]),F=de((()=>function(e,t,n){const a=e.toLowerCase(),o=null==t?void 0:t.filter((e=>e.toLowerCase().includes(a))),r=a.length&&n?n.filter((e=>{let{url:t,name:n,description:o}=e;return t.toLowerCase().includes(a)||n.toLowerCase().includes(a)||o.toLowerCase().includes(a)})):void 0;return{history:o,sites:r,isEmpty:((null==o?void 0:o.length)||0)+((null==r?void 0:r.length)||0)===0}}(k,s,P)),[s,k,P]),{trendingSites:R,allSites:U}=de((()=>(P||[]).reduce(((e,t)=>(t.isFeatured&&e.trendingSites.push(t),e.allSites[t.categoryId]||(e.allSites[t.categoryId]=[]),e.allSites[t.categoryId].push(t),e)),{trendingSites:[],allSites:{}})),[P]);ce((()=>{if(n.TF&&null!=P&&P.length)return vf(v.current,{onSwipeRightStart:()=>{f(),D()},onCancel:()=>{p({id:x.current}),L()}})}),[D,L,null==P?void 0:P.length,x]),yb({containerRef:w,isDisabled:n.TF||0===R.length,shouldPreventDefault:!0,contentSelector:`.${xb.trendingList}`});const W=de((()=>null==o?void 0:o.filter((e=>{var t;return(null===(t=U[e.id])||void 0===t?void 0:t.length)>0}))),[o,U]);ce((()=>{a&&(u(),d({isLandscape:b}))}),[a,b]);const H=zo((()=>{F.isEmpty||(n.Ni?g.current=window.setTimeout(I,300):I())})),$=zo((()=>{T&&B(),window.clearTimeout(g.current)}));vi((e=>{let[t]=e;(t&&!N||F.isEmpty)&&$(),N&&!F.isEmpty&&H()}),[N,F.isEmpty]);const V=zo(((e,t)=>{ul(),B();const n=(o=t,null==(a=r)?void 0:a.find((e=>{let{url:t}=e;return t===o})));var a,o;wb(t,null==n?void 0:n.isExternal,null==n?void 0:n.name)})),z=zo(((e,t)=>{Do(e),m({url:t})}));function K(e){C(e.target.value)}const q=zo((()=>{var e;null===(e=h.current)||void 0===e||e.blur()}));function j(e){Do(e),q(),k.length>0&&(wb(k),C(""))}function Y(e,t,n){switch(n){case Wb.main:return ge.createElement("div",{className:xr(xb.slide,"custom-scroll"),onScroll:E?O:l},ge.createElement("div",{className:xr(xb.searchWrapper,"with-notch-on-scroll",M&&"is-scrolled")},ge.createElement("form",{action:"#",onSubmit:j,className:xb.searchContainer,autoComplete:"off"},ge.createElement("i",{className:xr(xb.searchIcon,"icon-search"),"aria-hidden":!0}),ge.createElement("input",{name:"explore-search",className:xb.searchInput,placeholder:y("Search or enter address"),value:k,autoCorrect:!1,autoCapitalize:"none",spellCheck:!1,inputMode:"url",onChange:K,onFocus:S,onBlur:A})),ge.createElement(Fb,{isSuggestionsVisible:T,searchSuggestions:F,searchValue:k,onSiteClick:V,onSiteClear:z,onClose:q})),ge.createElement(Lb,null),Boolean(R.length)&&ge.createElement("div",{ref:w,className:xb.trendingSection},ge.createElement("h2",{className:xb.sectionHeader},y("Trending")),ge.createElement("div",{className:xb.trendingList},R.map((e=>ge.createElement(Pb,{key:`${e.url}-${e.name}`,site:e,isTrending:!0}))))),Boolean(null==W?void 0:W.length)&&ge.createElement(ge.Fragment,null,ge.createElement("h2",{className:xb.sectionHeader},y("All Dapps")),ge.createElement("div",{className:xr(xb.list,b&&xb.landscapeList)},W.map((e=>ge.createElement(Nb,{key:e.id,category:e,sites:U[e.id]}))))));case Wb.category:{const t=U[_];if(!t)return;return ge.createElement(Ub,{key:_,isActive:e,categoryId:_,sites:t})}}}return void 0===P?ge.createElement("div",{className:xr(xb.emptyList,xb.emptyListLoading)},ge.createElement(fv,null)):0===P.length?ge.createElement("div",{className:xb.emptyList},ge.createElement(of,{play:a,tgsUrl:_p.happy,previewUrl:_p.happyPreview,size:e.igk,className:xb.sticker,noLoop:!1,nonInteractive:!0}),ge.createElement("p",{className:xb.emptyListTitle},y("No partners yet"))):ge.createElement(xf,{ref:v,name:wv(),activeKey:_?Wb.category:Wb.main,withSwipeControl:!0,className:xb.rootSlide},Y)}))),$b=fe((function(e){let{isActive:t,isStatic:n,hardwareWallets:a,accounts:o,onBackButtonClick:r,onCancel:i,onClose:s}=e;const{afterSelectHardwareWallets:c,loadMoreHardwareWallets:l}=Ke(),d=_r(),[u,m]=ie([]),p=!i;Yi({isActive:t,onBack:i??s});const f=zo((e=>{u.includes(e)?m(u.filter((t=>t!==e))):m(u.concat([e]))})),h=zo((()=>{c({hardwareSelectedIndices:u}),s()})),g=de((()=>Object.values(o??[]).map((e=>{let{addressByChain:{ton:t}}=e;return t})).filter(Boolean)),[o]),v=zo((()=>{var e;const t=a??[],n=(null===(e=t[t.length-1])||void 0===e?void 0:e.index)??0;l({lastIndex:n})})),w=!u.length,y=u.length?d("%1$d Selected",u.length):d("Select Ledger Wallets");return ge.createElement(ge.Fragment,null,n?ge.createElement("div",{className:yg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:s,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back"))),ge.createElement("span",{className:yg.headerTitle},y)):ge.createElement(tg,{title:y,onBackButtonClick:r,onClose:r?void 0:s}),ge.createElement("div",{className:xr(Av.container,n&&Av.containerStatic,n&&"static-container")},function(){const e=a??[],t=xr(Av.accounts,1===e.length&&Av.accounts_two,"custom-scroll");return ge.createElement("div",{className:t},e.map((e=>{let{address:t,balance:n,index:a}=e;return function(e,t,n,a){const o=a||u.includes(n);return ge.createElement("div",{key:e,className:xr(Av.account,o&&Av.account_current),onClick:a?void 0:()=>f(n)},ge.createElement("span",{className:Av.accountName},ge.createElement("i",{className:xr(Av.accountCurrencyIcon,"icon-ton"),"aria-hidden":!0}),ur((0,Pt.nI)(t),"",3)),ge.createElement("div",{className:Av.accountFooter},ge.createElement("span",{className:Av.accountAddress},(0,jt.W)(e,4,4))),ge.createElement("div",{className:xr(Av.accountCheckMark,o&&Av.accountCheckMark_active)}))}(t,n,a,g.includes(t))})),ge.createElement(js,{className:Av.addAccountContainer,onClick:v},d("Add Wallet"),ge.createElement("i",{className:xr(Av.addAccountIcon,"icon-plus"),"aria-hidden":!0})))}(),ge.createElement("div",{className:Av.actionBlock},ge.createElement(js,{className:Av.button,onClick:p?s:i},d(p?"Cancel":"Back")),ge.createElement(js,{isPrimary:!0,isDisabled:w,onClick:h,className:Av.button},d("Add")))))}));var Vb=function(e){return e[e.Password=0]="Password",e[e.Connect=1]="Connect",e[e.SelectWallets=2]="SelectWallets",e}(Vb||{});const zb=fe(je((e=>{const t=at(e),{hardwareWallets:n}=e.hardware;return{accounts:t,hardwareWallets:n,areSettingsOpen:e.areSettingsOpen}}))((function(e){let{isOpen:t,noBackdropClose:n,onClose:a,hardwareWallets:o,accounts:r,areSettingsOpen:i}=e;const{afterSelectHardwareWallets:s}=Ke(),[c,l]=ie(Vb.Connect),[d]=ie(Vb.SelectWallets),u=zo((()=>{s({hardwareSelectedIndices:[o[0].index]}),a()})),m=zo((e=>{e?u():l(Vb.SelectWallets)})),p=zo((()=>{l(Vb.Connect)}));function f(e,t,n){switch(n){case Vb.Connect:return ge.createElement(Hv,{isActive:e,onConnected:m,onClose:a});case Vb.SelectWallets:return ge.createElement($b,{isActive:e,accounts:r,hardwareWallets:o,onClose:a})}}return ge.createElement(ac,{isOpen:t,hasCloseButton:!0,onClose:a,onCloseAnimationEnd:p,dialogClassName:xr(Av.modalDialog,i&&Av.modalDialogInsideSettings),noBackdropClose:n},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:c,nextKey:d},f))})));function Kb(){const{safeAreaTop:t}=qa(),{safeAreaInset:a,contentSafeAreaInset:o}=e.tKX?ro():{};return e.UMQ?Math.max(tl(),Xc,t):e.tKX?a.top+o.top:t+(n.cp&&!n.ig?3*n.$:0)+(n.By&&n.H8&&e.hL1?30:0)}function qb(e){const{rootMargin:t,threshold:n=[0],isDisabled:a,targetRef:o,cb:r}=e,[i,s]=ie(!0);return ce((()=>{if(a||!o.current)return;const e=new IntersectionObserver((e=>{const t=e[0];s(t.isIntersecting),null==r||r(t)}),{rootMargin:t,threshold:n});return e.observe(o.current),()=>{e.disconnect()}}),[t,n,a,o,r]),{isVisible:i}}const jb=document.querySelector('meta[name="viewport"]'),Yb=(null==jb?void 0:jb.getAttribute("content"))||"",Gb="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover",Qb={root:"o0ZmVyIN",purple:"DJCb7ytz",tokenIcon:"O2XO33Bj",chainIcon:"UKA4ZfVj",green:"IHTEYaZx",twoIcons:"UD000onR",nftIcon:"kRGDvyHS",stacked:"gdAuuzmF",image:"Q3m3aAJ1",text:"LrHNEZly",bold:"GQC2YXcS",nftTitle:"BAWd380W",address:"gWbbue48"},Xb=fe((function(e){let{tokenIn:t,imageUrl:n,text:a,withChainIcon:o,tokenOut:r,secondText:i,color:s,className:l}=e;const d=_r(),u=xr(Qb.root,s&&Qb[s],r&&Qb.twoIcons,l),m=!!n,p=de((()=>(0,c.Am)(Array.isArray(n)?n:[n])),[n]);return ge.createElement("div",{className:u},t&&!m&&ge.createElement(jw,{token:t,withChainIcon:o,size:"small",className:Qb.tokenIcon}),m&&ge.createElement("div",{className:xr(Qb.nftIcon,Array.isArray(n)&&n.length>1&&Qb.stacked)},p.map((e=>ge.createElement("img",{src:e,alt:"",key:e,className:Qb.image}))),o&&(null==t?void 0:t.chain)&&ge.createElement("img",{src:$w(t.chain),alt:"",className:Qb.chainIcon,draggable:!1})),ge.createElement("span",{className:Qb.text},i?a?d("%amount% to %address%",{amount:ge.createElement("span",{className:xr(Qb.bold,m&&Qb.nftTitle)},a),address:ge.createElement("span",{className:xr(Qb.bold,Qb.address)},i)}):d("$transaction_to",{address:ge.createElement("span",{className:Qb.bold},i)}):ge.createElement("span",{className:Qb.bold},a)),r&&ge.createElement(jw,{token:r,withChainIcon:o,size:"small",className:Qb.tokenIcon}))}));let Jb=(0,n.v3)();function Zb(){const t=ve();return ye((()=>{e.UMQ&&!Jb&&am.isSupported().then((e=>{Jb=e.supported,t()}))})),Jb}const eE="erx70q4_",tE="Jag9KEHr",nE="fVQ8S1pD",aE="Pne6FnQc",oE="eBKrZtom",rE="U6ZAbMe2",iE="pUMdj3j5",sE=fe((function(e){let{address:t,name:a,chain:o,isHardware:r,isSavedAddress:i,deleteLabel:s,onClick:c,onDeleteClick:l}=e;const d=()=>{c(t)},u=e=>{Do(e),l(t)};return ge.createElement("div",{tabIndex:-1,role:"button",onMouseDown:n.TF?void 0:d,onClick:n.TF?d:void 0,className:"WI13wV5I"},ge.createElement("span",{className:"ZEsl45OR"},ge.createElement("span",{className:"HLnOPUyB"},a||(0,jt.W)(t)),r&&ge.createElement("i",{className:xr("bdYXzf2H","icon-ledger"),"aria-hidden":!0})),i&&l&&ge.createElement("span",{className:"ozjjQpYQ"},ge.createElement("span",{tabIndex:-1,role:"button",className:"UWDrZutz",onMouseDown:u},s)),a&&ge.createElement("span",{className:"sDGTQ4jr"},o&&ge.createElement("i",{className:xr("g2vfXFiv",`icon-chain-${o}`),"aria-hidden":!0}),(0,jt.W)(t)),i&&l&&ge.createElement("span",{className:"rO6SGoH9",role:"button",tabIndex:-1,onMouseDown:u,onClick:Do,"aria-label":s},ge.createElement("i",{className:"icon-trash","aria-hidden":!0})))})),cE=fe(je((e=>{const t=ct(e);return{savedAddresses:null==t?void 0:t.savedAddresses,isMultichainAccount:Ct(e,e.currentAccountId),accounts:at(e)}}))((function(t){let{isOpen:n,currentChain:a,currentAddress:o="",otherAccountIds:r,accounts:i,savedAddresses:s,isMultichainAccount:c,onAddressSelect:l,onSavedAddressDelete:d,onClose:u}=t;const m=_r(),p=de((()=>{if(s&&0!==s.length)return s.filter((e=>(!a||e.chain===a)&&lE(e,o))).map((e=>ge.createElement(sE,{key:`saved-${e.address}-${e.chain}`,address:e.address,name:e.name,chain:c?e.chain:void 0,deleteLabel:m("Delete"),isSavedAddress:!0,onClick:l,onDeleteClick:d})))}),[o,c,a,m,l,d,s]),f=de((()=>{if(!r||0===r.length)return;const t=(null==s?void 0:s.map((e=>`${e.chain}:${e.address}`)))??[],n=new Set;return r.reduce(((o,r)=>{const s=i[r];return Object.keys(s.addressByChain).forEach((r=>{const i=s.addressByChain[r],l=`${r}:${i}`;!i||n.has(l)||a&&r!==a||!c&&r!==e.Tu9.chain||t.includes(`${r}:${i}`)||(n.add(l),o.push({name:s.title||(0,jt.W)(i),address:i,chain:r,isHardware:"hardware"===s.type}))})),o}),[]).filter((e=>lE(e,o))).map((e=>{let{address:t,name:n,chain:a,isHardware:o}=e;return ge.createElement(sE,{key:`address-${t}-${a}`,address:t,name:n,chain:c?a:void 0,isHardware:o,onClick:l})}))}),[r,s,i,a,c,o,l]);if(Boolean((null==f?void 0:f.length)||(null==p?void 0:p.length)))return ge.createElement(Jh,{positionX:"right",type:"suggestion",noBackdrop:!0,bubbleClassName:"keyC_8Hs",isOpen:n,onClose:u},p,f)})));function lE(e,t){const n=t.toLowerCase(),{address:a,name:o}=e;return a.toLowerCase().startsWith(n)||a.toLowerCase().endsWith(n)||o.toLowerCase().split(/\s+/).some((e=>e.startsWith(n)))}const dE="vnQc1YiQ",uE="input-clear-button",mE=fe((function(e){let{ref:t,label:a,value:o,chain:r,isStatic:i,withQrScan:s,address:c,addressName:l,addressBookChain:d,accounts:u,currentAccountId:m,savedAddresses:p,validateAddress:f,error:h,onInput:g,onClose:v}=e;const{showNotification:w,requestOpenQrScanner:y}=Ke(),b=_r(),E=me(),[k,C]=ie(),[N,S]=ie(),[A,T,I]=rm(),[B,_,x]=rm(),[D,L]=ie(n.Et),O=Zb(),M=ke("address-"),P=r?Ea(o,r):void 0,F=o.length>0&&!P?b("Incorrect address"):void 0,R=de((()=>u?Object.keys(u).filter((e=>e!==m)):[]),[m,u]),U=de((()=>R.length>0||p&&p.length>0),[R.length,p]),W=de((()=>r&&o?ky({address:o,chain:r,currentAccountId:m,savedAddresses:p,accounts:u}):void 0),[u,r,m,p,o]),H=D&&!o,$=s&&O,V=$||H||!!o.length;ye((()=>()=>{E.current&&window.clearTimeout(E.current)}));const z=de((()=>{if(!c)return;const e=W||l,t=!e&&c.length>22?(0,jt.W)(c,11)||"":c;return ge.createElement(ge.Fragment,null,e&&ge.createElement("span",{className:"S1nUS2km"},e),ge.createElement("span",{className:xr("DdHkCftA",!e&&"m2Fe0uv6")},e?(0,jt.W)(c,4):t))}),[c,W,l]),K=zo((async()=>{try{const{type:e,text:t}=await gl();if("text/plain"===e){const e=t.trim();g(e,!0),j(e)}}catch(e){w({message:b("Error reading clipboard")}),L(!1)}})),q=zo((()=>{n.pz&&(0,n.v3)()?alert("Scanning is temporarily not available"):(y(),v())})),j=zo((e=>{f&&(e&&r&&Ea(e,r)||!e)&&f({address:e})})),Y=zo((()=>{_(),U&&(n.Ni?E.current=window.setTimeout(T,300):T())})),G=zo((e=>{var t;if(x(),(null===(t=e.relatedTarget)||void 0===t?void 0:t.id)===uE)return X(),void j(o);let n=o;ga(o)&&o!==o.toLowerCase()?(n=o.toLowerCase().trim(),g(n)):o!==o.trim()&&(n=o.trim(),g(n)),requestAnimationFrame((()=>{X(),j(n)}))})),Q=zo((()=>{g(""),j()})),X=zo((()=>{U&&A&&(I(),E.current&&window.clearTimeout(E.current))})),J=zo((e=>{C(e),S(r),I()})),Z=zo((()=>{C(void 0),S(void 0)})),ee=zo((e=>{g(e,!0),I()}));return ge.createElement(ge.Fragment,null,ge.createElement(sf,{id:M,ref:t,className:xr(i&&"Nrn6AoJg",V&&"K9Nd_zOE"),isRequired:!0,isStatic:i,label:a,placeholder:b("Wallet address or domain"),value:o,error:F||h,autoCorrect:!1,valueOverlay:F?void 0:z,onInput:g,onFocus:Y,onBlur:G},function(){const e=xr("L_5kIPIy",B&&"BJFtkvaJ");return ge.createElement(xf,{className:"ayhHYxLn",activeKey:o.length?0:1,name:"fade"},o.length?ge.createElement("div",{className:e},ge.createElement(js,{isSimple:!0,id:uE,className:xr(dE,"tl4TUzu3"),onClick:Q,ariaLabel:b("Clear")},ge.createElement("i",{className:"icon-close-filled","aria-hidden":!0}))):ge.createElement("div",{className:e},$&&ge.createElement(js,{isSimple:!0,className:dE,onClick:q,ariaLabel:b("Scan QR Code")},ge.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),H&&ge.createElement(js,{isSimple:!0,className:dE,onClick:K,ariaLabel:b("Paste")},ge.createElement("i",{className:"icon-paste","aria-hidden":!0}))))}()),U&&ge.createElement(ge.Fragment,null,ge.createElement(cE,{isOpen:A,currentChain:d,currentAddress:o,otherAccountIds:R,onAddressSelect:ee,onSavedAddressDelete:J,onClose:I}),ge.createElement(Wy,{isOpen:Boolean(k),address:k,chain:N,onClose:Z})))})),pE="gRT6bZt3",fE="BrPVwQU4",hE="Ps7kqvix",gE="Dnc6lzH5",vE="W2G5uyVG",wE="hdNHgPt2",yE="jQftqhh0",bE="uM1QBU1t",EE=new Set([Dn.Password,Dn.ConnectHardware,Dn.ConfirmHardware]),kE=fe(je((e=>{const{currentDomainLinking:t,mediaViewer:{mediaId:n}}=e,a=rt(e),o=ct(e),{byAddress:r}=(null==o?void 0:o.nfts)||{},i=t.address?null==r?void 0:r[t.address]:void 0,s=i?xa(e,i):"";return{isMediaViewerOpen:Boolean(n),currentDomainLinking:t,byAddress:r,tonBalance:$t(e),accounts:at(e),savedAddresses:null==o?void 0:o.savedAddresses,currentLinkedWalletAddress:s,currentTonAddress:null==a?void 0:a.addressByChain.ton}}))((function(t){let{currentDomainLinking:{address:n,state:a,error:o,isLoading:r,realFee:i,walletAddress:s="",walletAddressName:c="",resolvedWalletAddress:l,txId:d},isMediaViewerOpen:u,byAddress:m,tonBalance:p,accounts:f,savedAddresses:h,currentTonAddress:g,currentLinkedWalletAddress:v}=t;const{startDomainLinking:w,cancelDomainLinking:y,clearDomainLinkingError:b,submitDomainLinking:E,checkDomainLinkingDraft:k,checkLinkingAddress:C,setDomainLinkingWalletAddress:N,showActivityInfo:S}=Ke(),A=_r(),T=a!==Dn.None&&!u,{renderingKey:I,nextKey:B}=yv(a??0,T),_=n?null==m?void 0:m[n]:void 0,x=i?p<i:void 0,D=EE.has(I),L=de((()=>i?{native:i}:void 0),[i]),O=v?"Change Linked Wallet":"Link to Wallet",M=Ea(s,"ton"),P=zo((e=>{N({address:e})})),F=M&&s!==v&&!x&&!r;Ws((e=>{let[t]=e;!t&&T&&P(s||v||g)}),[T,v,s,g]),ce((()=>{T&&k({nft:_})}),[_,T]);const R=zo((e=>{F&&E({password:e})})),U=zo((()=>{F&&E()})),W=zo((()=>{y(),S({id:d})}));function H(t,n,a){switch(a){case Dn.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:A(O),onClose:y}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement("div",{className:gE},ge.createElement(Fy,{nft:_,withMediaViewer:!0}),ge.createElement(mE,{withQrScan:!0,value:s,currentAccountId:"",addressBookChain:"ton",chain:"ton",accounts:f,savedAddresses:h,validateAddress:C,label:A(v?"Linked Wallet":"Wallet"),address:l||s,addressName:c,onInput:P,onClose:y})),ge.createElement(nb,{terms:L,token:e.Tu9,precision:"exact"}),ge.createElement("div",{className:xr(Gs.buttons,vE)},ge.createElement(js,{isPrimary:!0,isDestructive:x,isDisabled:!F,isLoading:!i||r,className:wE,onClick:w},A(x?"Insufficient Balance":"Link")))));case Dn.Password:return function(e){return ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:A("Confirm Linking"),onClose:y}),ge.createElement(Hf,{isActive:e,error:o,isLoading:r,submitLabel:A("Confirm"),cancelLabel:A("Cancel"),onSubmit:R,onCancel:y,onUpdate:b,skipAuthScreen:!0},ge.createElement(Xb,{imageUrl:null==_?void 0:_.thumbnail,text:(null==_?void 0:_.name)??"1 domain",className:il()?void 0:hE})))}(t);case Dn.ConnectHardware:return ge.createElement(Hv,{isActive:t,onConnected:U,onClose:y});case Dn.ConfirmHardware:return ge.createElement(Iv,{text:A("Please confirm transaction on your Ledger"),error:o,onClose:y,onTryAgain:U});case Dn.Complete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:A("Domain has been linked!"),onClose:y}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(of,{play:e,noLoop:!1,nonInteractive:!0,className:fE,tgsUrl:_p.thumbUp,previewUrl:_p.thumbUpPreview}),ge.createElement(Fy,{nft:_,withMediaViewer:!0}),!!d&&ge.createElement("div",{className:xr(yE,bE)},ge.createElement(js,{onClick:W},A("Details"))),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{className:wE,onClick:y,isPrimary:!0},A("Close")))))}(t)}}return ge.createElement(ac,{isOpen:T,nativeBottomSheetKey:"link-domain",forceFullNative:D,dialogClassName:pE,onClose:y},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:I,nextKey:B},H))}))),CE=fe((function(e){let{nfts:t,isStatic:n,className:a}=e;const o=_r(),[r,,i]=rm(!0),s=r&&t.length>11,c=de((()=>s?t.slice(0,10):t),[s,t]);return ge.createElement("div",{className:xr("OW45fd9i",n&&"h6wiRr_r","custom-scroll",a)},c.map((function(e){return ge.createElement("div",{key:e.address,className:"HmnTdlh8"},ge.createElement("img",{src:e.thumbnail,alt:e.name,className:"H3EA9Tak"}),ge.createElement("span",{className:"_gZbYTeY"},e.name||e.address))})),s&&ge.createElement("button",{type:"button",className:"T7bQHi3K",onClick:()=>i()},"+",o("%amount% NFTs",{amount:t.length-10})))})),NE=new Set([xn.Password,xn.ConnectHardware,xn.ConfirmHardware]),SE=fe(je((e=>{var t;const{currentDomainRenewal:n,mediaViewer:{mediaId:a}}=e,{byAddress:o}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)||{};return{isMediaViewerOpen:Boolean(a),currentDomainRenewal:n,byAddress:o,tonBalance:$t(e)}}))((function(t){let{currentDomainRenewal:{addresses:n,state:a,error:o,isLoading:r,realFee:i,txId:s},isMediaViewerOpen:c,byAddress:l,tonBalance:d}=t;const{startDomainsRenewal:u,cancelDomainsRenewal:m,clearDomainsRenewalError:p,submitDomainsRenewal:f,checkDomainsRenewalDraft:h,showActivityInfo:g}=Ke(),v=_r(),w=ve(),y=a!==xn.None&&!c,{renderingKey:b,nextKey:E}=yv(a??0,y),k=de((()=>(n||[]).map((e=>null==l?void 0:l[e])).filter(Boolean)),[n,l]),C=i?d<i:void 0,N=NE.has(b),S=de((()=>i?{native:i}:void 0),[i]),A=Date.now()+ha.UX,T=de((()=>k.map((e=>null==e?void 0:e.thumbnail)).filter(Boolean).slice(0,3)),[k]);cg(w,y?ha.pY:void 0,!0),ce((()=>{y&&h({nfts:k})}),[k,y]);const I=zo((e=>{f({password:e})})),B=zo((()=>{f()})),_=zo((()=>{m(),g({id:s})}));function x(t,a,c){switch(c){case xn.Initial:return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(Gs.header,Gs.header_wideContent)},ge.createElement("div",{className:xr(Gs.title,"cmL5TjIH")},ge.createElement("div",{className:"NtG0ddPE"},v(n&&n.length>1?"Renew Domains":"Renew Domain")),!!A&&ge.createElement("div",{className:"u4jvqiGf"},v("Until %date%",{date:[(0,ha.TK)(v.code,A),(0,ha.fU)(A)].join(", ")}))),ge.createElement(js,{isRound:!0,className:Gs.closeButton,ariaLabel:v("Close"),onClick:m},ge.createElement("i",{className:xr(Gs.closeIcon,"icon-close"),"aria-hidden":!0}))),ge.createElement("div",{className:Gs.transitionContent},ge.createElement("div",{className:gE},1===k.length&&ge.createElement(Fy,{nft:k[0],withMediaViewer:!0}),k.length>1&&ge.createElement(CE,{nfts:k,className:"p6JeJnTy"})),ge.createElement(nb,{terms:S,token:e.Tu9,precision:"exact"}),ge.createElement("div",{className:xr(Gs.buttons,vE)},ge.createElement(js,{isPrimary:!0,isDestructive:C,isDisabled:C,isLoading:!i||r,className:wE,onClick:u},C?v("Insufficient Balance"):k.length>1?v("Renew All"):v("Renew")))));case xn.Password:return function(e){var t,n;return ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:v("Confirm Renewing"),onClose:m}),ge.createElement(Hf,{isActive:e,error:o,isLoading:r,submitLabel:v("Confirm"),cancelLabel:v("Cancel"),onSubmit:I,onCancel:m,onUpdate:p,skipAuthScreen:!0},ge.createElement(Xb,{imageUrl:T,text:1===k.length&&Boolean(null===(t=k[0])||void 0===t?void 0:t.name)?null===(n=k[0])||void 0===n?void 0:n.name:v("$domains_amount %1$d",k.length,"i"),className:il()?void 0:hE})))}(t);case xn.ConnectHardware:return ge.createElement(Hv,{isActive:t,onConnected:B,onClose:m});case xn.ConfirmHardware:return ge.createElement(Iv,{text:v("Please confirm transaction on your Ledger"),error:o,onClose:m,onTryAgain:B});case xn.Complete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:k.length>1?v("Domains have been renewed!"):v("Domain has been renewed!"),onClose:m}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(of,{play:e,noLoop:!1,nonInteractive:!0,className:fE,tgsUrl:_p.thumbUp,previewUrl:_p.thumbUpPreview}),ge.createElement("div",{className:gE},1===k.length&&ge.createElement(Fy,{nft:k[0],withMediaViewer:!0}),k.length>1&&ge.createElement(CE,{nfts:k}),1===k.length&&!!s&&ge.createElement("div",{className:xr(yE,bE)},ge.createElement(js,{onClick:_},v("Details")))),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:m,isPrimary:!0},v("Close")))))}(t)}}return ge.createElement(ac,{isOpen:y,nativeBottomSheetKey:"renew-domain",forceFullNative:N,dialogClassName:pE,onClose:m},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:b,nextKey:E},x))})));function AE(e,t,n,a){const o=`ton://transfer/${e}`,r=[];return t&&r.push(`amount=${t}`),n&&r.push(`text=${encodeURIComponent(n)}`),a&&r.push(`jetton=${encodeURIComponent(a)}`),0===r.length?o:`${o}?${r.join("&")}`}const TE=fe((function(e){let{token:t,className:a,noChainIcon:o,onClick:r}=e;const{transitionRef:i}=function(e){const t=me();return le((()=>{if(!t.current||!e)return;const a=`${e.symbol.length*BE/n.$+IE}rem`;Ls(t.current,{minWidth:a})}),[e]),{transitionRef:t}}(t),s=me(0);return Ee((()=>{s.current++}),[`${null==t?void 0:t.symbol}_${null==t?void 0:t.chain}`]),c=t,ge.createElement(xf,{ref:i,name:"fade",activeKey:s.current,className:xr("ZSZY1phv",a),slideClassName:"vCCqOvOq"},ge.createElement("button",{type:"button",className:"XIxoy7tw",onClick:function(e){Do(e),r()}},c&&ge.createElement(jw,{token:c,withChainIcon:!o,size:"middle",className:"SS8KpgmL"}),ge.createElement("div",{className:"ISsYr_9r"},ge.createElement("span",null,null==c?void 0:c.symbol),ge.createElement("i",{className:xr("icon-chevron-right","D_7DrGaN"),"aria-hidden":!0}))));var c})),IE=70/n.$,BE=10,_E={binance_smart_chain:"Binance Smart Chain",internet_computer:"Internet Computer",ethereum_classic:"Ethereum Classic",bitcoin_cash:"Bitcoin Cash",binance_dex:"Binance Dex",ton:"TON",bitcoin:"Bitcoin",ethereum:"Ethereum",solana:"Solana",tron:"TRON",stellar:"Stellar",doge:"DOGE",eos:"EOS",avalanche:"Avalanche",cardano:"Cardano",monero:"Monero",dash:"Dash",ripple:"Ripple",cosmos:"Cosmos",litecoin:"Litecoin",zcash:"Zcash",polkadot:"Polkadot",iota:"IOTA"};function xE(e){return e?_E[e]??e:""}const DE={tokenSelectInputWrapper:"oCuiJXQ_",tokenSelectSearchIcon:"zftr1vD0",tokenSelectSearchResetWrapper:"Ss4Pd7B2",tokenSelectSearchReset:"oDrN01CP",tokenSelectSearchResetIcon:"ok_5nHql",tokenSelectInput:"fDjHi6pe",tokenSelectContent:"LodBlyss",tokenGroupContainer:"MbjJDq0G",tokenGroupHeader:"RpUAt2yS",tokenGroupTitle:"WhzSaV_6",tokenGroupAdditionalTitle:"FdHSpaSV",tokenContainer:"eUkSUO8W",tokenContainerDisabled:"tHJSsGRH",tokenLogoContainer:"nsViIoST",logoContainer:"adBlSlrG",tokenLogoSkeleton:"cGf45x9B",tokenLogoSymbol:"PSK73bRe",tokenLogo:"xiUmZwCy",tokenLogoDisabled:"OwvlXRrn",tokenNetworkLogoSkeleton:"MO1xaZfl",nameContainer:"ZPTo397c",tokenPriceContainer:"qGxMTfbW",tokenName:"Wgp2h4bc",tokenAmount:"QWmp5WQP",tokenNetwork:"gBNLwjjP",tokenValue:"S1V0VVx3",tokenNameSkeleton:"GkqdgXVp",tokenValueSkeleton:"AhEbK2G0",tokenNotFound:"zp0dyh68",tokenNotFoundTitle:"R7aa_jfY",tokenNotFoundDesc:"XlzS0_qG",tokenTextDisabled:"lotwVvdo"};var LE=function(e){return e[e.Initial=0]="Initial",e[e.Search=1]="Search",e[e.Loading=2]="Loading",e[e.TokenByAddress=3]="TokenByAddress",e[e.Empty=4]="Empty",e}(LE||{});const OE=[],ME={},PE=fe(je((e=>{var t,n;const{baseCurrency:a,isSensitiveDataHidden:o}=e.settings,{isLoading:r,token:i}=e.settings.importToken??{},{tokenInSlug:s,shouldShowAllPairs:c}=e.currentSwap??{},l=null===(t=e.swapPairs)||void 0===t?void 0:t.bySlug,d=function(e){var t;const n=null===(t=ct(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(!n||!e.tokenInfo||!e.swapTokenInfo)return;const a=ut(e)??{},{areTokensWithNoCostHidden:o,isSortByValueEnabled:r}=e.settings;return ra(e.currentAccountId)(n,e.tokenInfo,e.swapTokenInfo,a,r,o)}(e),u=function(e){var t;const n=null===(t=ct(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return aa(e.currentAccountId)(n,e.swapTokenInfo)}(e);return{baseCurrency:a,isLoading:r,token:i,pairsBySlug:l,shouldShowAllPairs:c,tokenInSlug:s,userTokens:d,popularTokens:u,swapTokens:ia(e),isMultichain:Ct(e,e.currentAccountId),availableChains:null===(n=rt(e))||void 0===n?void 0:n.addressByChain,isSensitiveDataHidden:o}}))((function(t){let{token:n,userTokens:a=OE,swapTokens:o=OE,popularTokens:r=OE,header:i,shouldFilter:s,shouldUseSwapTokens:c,baseCurrency:l,tokenInSlug:d,pairsBySlug:u,shouldShowAllPairs:m,isActive:p,isLoading:f,shouldHideMyTokens:h,shouldHideNotSupportedTokens:g=!1,isMultichain:v,availableChains:w=ME,selectedChain:y,isSensitiveDataHidden:b,onTokenSelect:E,onBack:k,onClose:C}=t;const{importToken:N,resetImportToken:S,openSettingsWithState:A}=Ke(),T=_r(),I=hr(l),B=me(),_=me();Yi({isActive:p,onBack:k}),ce((()=>{if(p)return Yr(),Gr}),[p]),xp(_,!p);const{handleScroll:x}=fg(),[D,L]=ie(""),[O,M]=ie(!1),[P,F]=ie(LE.Initial),[R,U]=ie([]),W=ue((e=>function(e,t,n,a,o){return e.length&&n?e.map((e=>{let r;if(o)r=!0;else{var i;const o=null==a||null===(i=a[n])||void 0===i?void 0:i[e.slug];r=Boolean(t?o:o&&!o.isMultichain)}return{...e,canSwap:r}})).sort(((e,t)=>Number(t.canSwap)-Number(e.canSwap))):[]}(e,v,d,u,m)),[u,d,v,m]),H=de((()=>RE(a,g,w,y)),[a,g,w,y]),$=de((()=>RE(o,g,w,y)),[o,g,w,y]),V=de((()=>RE(r,g,w,y)),[r,g,w,y]),{userTokensWithFilter:z,popularTokensWithFilter:K,swapTokensWithFilter:q}=de((()=>s?{userTokensWithFilter:W(H),popularTokensWithFilter:W(V),swapTokensWithFilter:W(o)}:{userTokensWithFilter:H,popularTokensWithFilter:V,swapTokensWithFilter:o}),[W,V,s,o,H]),j=de((()=>{const t=c?q:$,n=D.toLowerCase(),a=n.trim();if(n.length&&!a.length)return[];const o=t.filter((e=>{let{name:t,symbol:n,keywords:o,isDisabled:r}=e;if(r)return!1;const i=t.toLowerCase().includes(a),s=n.toLowerCase().includes(a),c=null==o?void 0:o.some((e=>e.toLowerCase().includes(a)));return i||s||c}))??[],r=o.reduce(((t,n)=>{const o={tickerExactMatch:0,tickerMatchLength:0,nameMatchLength:0,specialOrder:0},r=n.symbol.toLowerCase(),i=n.name.toLowerCase();return r===a&&(o.tickerExactMatch=1),r.includes(a)&&(o.tickerMatchLength=a.length),i.includes(a)&&(o.nameMatchLength=a.length),n.slug===e.rUK&&(o.specialOrder=2),n.slug!==e.QSz&&n.slug!==e.vsz||(o.specialOrder=1),t[n.slug]=o,t}),{});return o.sort(((e,t)=>{const n=function(e,t){return e.specialOrder!==t.specialOrder?t.specialOrder-e.specialOrder:e.tickerExactMatch!==t.tickerExactMatch?t.tickerExactMatch-e.tickerExactMatch:e.tickerMatchLength!==t.tickerMatchLength?t.tickerMatchLength-e.tickerMatchLength:t.nameMatchLength-e.nameMatchLength}(r[e.slug],r[t.slug]);return 0!==n?n:Number(t.amount-e.amount)}))}),[$,c,D,q]),Y=()=>{L("")};Ee((()=>{M(Boolean(D.length));const e=Ea(D,"ton");let t=LE.Initial;f&&e?t=LE.Loading:n&&e?t=LE.TokenByAddress:D.length&&0!==j.length?t=LE.Search:0===j.length&&(t=LE.Empty),F(t),t!==LE.Initial&&U(j)}),[R.length,f,D,n,j]),ce((()=>{"ton"in w&&Ea(D,"ton")?(N({address:D,isSwap:!0}),F(LE.Loading)):S()}),[D,w]),le((()=>{p&&B.current&&(B.current.scrollTop=0)}),[p]);const G=zo((e=>{var t;null===(t=_.current)||void 0===t||t.blur(),E(e),Y(),k()})),Q=zo((()=>{C(),A({state:Hn.Assets})}));function X(e){const t=Boolean(!s||e.canSwap),n=Boolean((v||c)&&!y),a=t?xE(e.chain):T("Unavailable"),o=0===e.price?T("No Price"):ur(e.price,I,void 0,!0);return ge.createElement(FE,{key:e.slug,isAvailable:t,isSensitiveDataHidden:b,withChainIcon:n,descriptionText:a,token:e,tokenPrice:o,onSelect:G})}function J(e,t,n){return ge.createElement("div",{className:DE.tokenGroupContainer},ge.createElement("div",{className:DE.tokenGroupHeader},ge.createElement("span",{className:DE.tokenGroupTitle},t),n&&ge.createElement("span",{className:DE.tokenGroupAdditionalTitle,onClick:Q},T("Settings"))),e.map(X))}function Z(){return ge.createElement("div",{className:xr(DE.tokenContainer,DE.tokenContainerDisabled)},ge.createElement("div",{className:DE.tokenLogoContainer},ge.createElement("div",{className:DE.logoContainer},ge.createElement("div",{className:DE.tokenLogoSkeleton}),ge.createElement("div",{className:DE.tokenNetworkLogoSkeleton})),ge.createElement("div",{className:DE.nameContainer},ge.createElement("span",{className:DE.tokenNameSkeleton}),ge.createElement("span",{className:DE.tokenValueSkeleton}))),ge.createElement("div",{className:DE.tokenPriceContainer},ge.createElement("span",{className:xr(DE.tokenNameSkeleton,DE.rotateSkeleton)}),ge.createElement("span",{className:DE.tokenValueSkeleton})))}function ee(e){return e?ge.createElement("div",{className:DE.tokenGroupContainer},X(e)):ge.createElement(ge.Fragment,null,Z(),Z(),Z(),Z(),Z())}function te(t,a,o){switch(o){case LE.Initial:return ge.createElement(ge.Fragment,null,!h&&J(z,T("MY"),!0),J(K,T("POPULAR")));case LE.Loading:return ee();case LE.Search:return ge.createElement("div",{className:DE.tokenGroupContainer},R.map(X));case LE.TokenByAddress:return ee(n);case LE.Empty:return ge.createElement("div",{className:DE.tokenNotFound},ge.createElement(of,{play:t,tgsUrl:_p.noData,previewUrl:_p.noDataPreview,size:e.lWW,noLoop:!1,nonInteractive:!0}),ge.createElement("span",{className:DE.tokenNotFoundTitle},T("Not Found")),ge.createElement("span",{className:DE.tokenNotFoundDesc},T("Try another keyword or address.")))}}return ge.createElement(ge.Fragment,null,i||ge.createElement(tg,{title:T("Select Token"),onBackButtonClick:k,onClose:C}),ge.createElement("div",{className:DE.tokenSelectInputWrapper},ge.createElement("i",{className:xr(DE.tokenSelectSearchIcon,"icon-search"),"aria-hidden":!0}),ge.createElement("input",{ref:_,name:"token-search-modal",className:DE.tokenSelectInput,onChange:e=>L(e.target.value),placeholder:T("Name or Address..."),value:D}),ge.createElement(xf,{name:"fade",activeKey:O?0:1,className:DE.tokenSelectSearchResetWrapper},O&&ge.createElement("button",{type:"button",className:DE.tokenSelectSearchReset,"aria-label":T("Clear"),onClick:Y},ge.createElement("i",{className:xr(DE.tokenSelectSearchResetIcon,"icon-close"),"aria-hidden":!0})))),ge.createElement("div",{ref:B,className:xr(DE.tokenSelectContent,"custom-scroll"),onScroll:x},ge.createElement(xf,{name:"fade",activeKey:P},te)))})));function FE(e){let{token:t,isAvailable:n,isSensitiveDataHidden:a,withChainIcon:o,descriptionText:r,tokenPrice:i,onSelect:s}=e;const c=n?()=>s(t):void 0,l=de((()=>xw(4,10,t.slug)),[t.slug]);return ge.createElement("div",{className:xr(DE.tokenContainer,!n&&DE.tokenContainerDisabled),onClick:c},ge.createElement("div",{className:DE.tokenLogoContainer},ge.createElement(jw,{token:t,withChainIcon:o,className:xr(DE.tokenLogo,!n&&DE.tokenLogoDisabled)}),ge.createElement("div",{className:DE.nameContainer},ge.createElement("span",{className:xr(DE.tokenName,!n&&DE.tokenTextDisabled)},t.name),ge.createElement("span",{className:xr(DE.tokenNetwork,!n&&DE.tokenTextDisabled)},r))),ge.createElement("div",{className:DE.tokenPriceContainer},ge.createElement(ey,{isActive:a,cols:l,rows:2,cellSize:8,align:"right",className:xr(DE.tokenAmount,!n&&DE.tokenTextDisabled)},ur((0,Pt.nI)(t.amount,null==t?void 0:t.decimals),t.symbol)),ge.createElement("span",{className:xr(DE.tokenValue,!n&&DE.tokenTextDisabled)},i)))}function RE(e,t,n,a){return t||a?e.filter((e=>!(t&&!(e.chain in n)||a&&e.chain!==a))):e}function UE(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.I04,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t=WE(t),n=WE(n),a=WE(a),!t)return"";const i=t.includes("."),[s="0",c]=i?t.split("."):[t],l=r?s.replace(/\d(?=(\d{3})+($|\.))/g,`$&${e.MS3}`):s,d=i?`.${(c||"").substring(0,o)}`:"",u=a?`&thinsp;${a}`:"";return`${n}${l}${d||u?`<span class="${rf.fractional}">${d}${u}</span>`:""}`}function WE(e){const t=document.createElement("span");return t.textContent=e,t.innerHTML}const HE=function(e,t){const n=me(!1),a=me(document.createElement("div"));return{updateFontScale:zo((()=>{const o=e.current;(0,Dr.bo)((()=>{if(null==o||!o.offsetParent)return;let{clientWidth:e}=t?o.parentElement:o;if(t){const{paddingLeft:t,paddingRight:n}=getComputedStyle(o);e-=parseFloat(t)+parseFloat(n)}a.current.className=xr(o.className,"measure-hidden"),a.current.style.width=`${e}px`,a.current.innerHTML="",a.current.append(...o.cloneNode(!0).childNodes),document.body.appendChild(a.current);let r=1;for(;r>.25&&(a.current.style.setProperty("--font-size-scale",r.toString()),!(a.current.scrollWidth<=e));)r-=.05;n.current=r<1,document.body.removeChild(a.current),a.current.className="",o.style.setProperty("--font-size-scale",r.toString())}))})),isFontChangedRef:n}};function $E(e){return e?e.trim().replace(",",".").replace(/[^\d.]/g,"").replace(/^0+(?=([1-9]|0\.))/,"").replace(/^0+$/,"0")??"":""}const VE=fe((function(t){let{id:n,labelText:a,hasError:o,isLoading:r=!1,prefix:i="",suffix:s="",value:c,children:l,className:d,inputClassName:u,labelClassName:m,valueClassName:p,cornerClassName:f,onChange:h,onBlur:g,onFocus:v,onPressEnter:w,onInputClick:y,decimals:b=e.I04,disabled:E=!1,isStatic:k=!1,size:C="large"}=t;const N=me(),S=me(),A=_r(),[T,I,B]=rm(!1),{updateFontScale:_,isFontChangedRef:x}=HE(N),D=me(""),L=zo((e=>{const t=N.current,n=UE(e,i,s,b);if(S.current.innerHTML=e?"":UE("0",i,s),n!==t.innerHTML){const e=document.activeElement===t?function(e,t,n){var a;const o=window.getSelection();if(!o||0===o.rangeCount)return;const r=o.getRangeAt(0);r.setStart(e,0);const i=r.toString().match(new RegExp(`(\\d+(?:[.,]\\d{0,${n}})?)`)),s=t+((null==i||null===(a=i[0])||void 0===a?void 0:a.length)||r.toString().length||0);return function(){try{const{node:t,position:n}=function(e,t){const n=NodeFilter.SHOW_TEXT,a=document.createTreeWalker(e,n,(e=>t>e.textContent.length?(t-=e.textContent.length,NodeFilter.FILTER_REJECT):NodeFilter.FILTER_ACCEPT)),o=a.nextNode()??a.currentNode;return{node:o,position:Math.min(t,o.textContent.length)}}(e,s);o.removeAllRanges();const a=new Range;a.setStart(t,n),a.setEnd(t,n),o.addRange(a)}catch(e){}}}(t,i.length,b):void 0;t.innerHTML=n,null==e||e()}(`${i}${e}${s}`.length>5||x.current)&&_()}));le((()=>{const e=$E(c);e&&D.current.startsWith(e)||(L(e),D.current=e)}),[D,c]),le((()=>{L(D.current)}),[i,s,b]);const O=zo((()=>{E||(I(),null==v||v())})),M=zo((()=>{E||(B(),null==g||g())})),P=xr(rf.input__wrapper,k&&rf.inputWrapperStatic,o&&rf.error,T&&rf.input__wrapper_hasFocus,u),F=xr(rf.input,"large"===C&&rf.large,p,E&&rf.disabled,r&&rf.isLoading,"rounded-font"),R=xr(rf.label,o&&rf.error,m),U=xr(f,T&&rf.swapCorner,o&&rf.swapCorner_error);return ge.createElement("div",{className:xr(rf.wrapper,d)},Boolean(a)&&ge.createElement("label",{className:R,htmlFor:n,id:`${n}Label`},a),ge.createElement("div",{className:P},ge.createElement("div",{className:rf.rich},ge.createElement("div",{ref:N,contentEditable:!E&&!r,id:n,role:"textbox","aria-required":!0,"aria-placeholder":A("Amount value"),"aria-labelledby":a?`${n}Label`:void 0,tabIndex:0,inputMode:"decimal",className:xr(F,rf.rich__value),onKeyDown:e=>{"Enter"===e.key&&(null==w||w(e))},onChange:function(e){const t=$E(e.currentTarget.textContent??void 0);var n;L(t),t!==D.current&&(D.current=t,h&&(n=t,!Number.isNaN(Number(n)))&&h(t))},onFocus:O,onBlur:M,onClick:y}),ge.createElement("div",{ref:S,className:xr(F,rf.rich__placeholder)})),l),f&&ge.createElement("div",{className:U}))}));function zE(e){const t=document.getElementById(e),n=window.getSelection();if(!t||!n)return;const a=document.createRange();a.selectNodeContents(t),a.collapse(!1),n.removeAllRanges(),n.addRange(a)}const KE={modalDialog:"pOo4Z_aH",iosModalDialog:"q6jp1iyp",contentWrapper:"jvZQQwjc",content:"SRNIOpBE",contentTitle:"GKe6CMiw",contentTitleQr:"FleNuH6I",contentTitleLedger:"uEJfLLFI",contentTitleLedgerStatic:"zolk8bhu",tabsInModal:"kxmoYeWl",receiveHeader:"k3MxFquM",receiveHeaderNoTabs:"RJOW3R8W",contentStatic:"CDl3KL71",tabs:"Bq7mtmdH",tabsOverlay:"dsNYuIgk",tronActive:"ikLKZGDP",tab:"YpO46ybD",tabTon:"JKtWSSiZ",tabTron:"U6XprGM_",qrCode:"Bol24ap4",qrCodeStatic:"VkwtgLpL",qrCodeHidden:"yC4eGg0t",labelForInvoice:"ykqIpMy7",addressWrapper:"aUXplGt1",copyButtonStatic:"EbsE8cY6",tokenButton:"vgInBvx7",invoiceComment:"U6Z9qzVb",dottedLink:"xzGjTX1X",actionButtons:"QxrwhhFf",actionButton:"ARg65twE"};var qE=function(e){return e[e.Initial=0]="Initial",e[e.Selector=1]="Selector",e}(qE||{});const jE=fe(je((e=>{var t,n;const a=null===(t=it(e,e.currentAccountId))||void 0===t||null===(t=t.addressByChain)||void 0===t?void 0:t.ton,{invoiceTokenSlug:o}=ct(e)||{};return{isOpen:e.isInvoiceModalOpen,tokenSlug:o,tokensBySlug:null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug,address:a}}))((function(t){let{address:n,tokenSlug:a,tokensBySlug:o,isOpen:r}=t;const{changeInvoiceToken:i,closeInvoiceModal:s}=Ke(),c=_r(),l=o&&a?o[a]:e.Tu9,[d,u,m]=rm(!1),[p,f]=ie(void 0),[h,g]=ie(""),v=(null==l?void 0:l.decimals)??e.Tu9.decimals,w=p?(0,Pt.UH)(p,v):0n,y="tokenAddress"in l?null==l?void 0:l.tokenAddress:void 0,b=n?AE(n,w,h,y):"",E=zo((e=>{i({tokenSlug:e.slug})}));function k(t,n,a){switch(a){case qE.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:c("Deposit Link"),onClose:s}),ge.createElement("div",{className:KE.content},ge.createElement("div",{className:KE.contentTitle},rr(c("$receive_invoice_description"))),ge.createElement(VE,{key:"amount",id:"amount",value:p,labelText:c("Amount"),onChange:f},ge.createElement(TE,{noChainIcon:!0,token:l,className:KE.tokenButton,onClick:u})),ge.createElement(sf,{value:h,label:c("Comment"),placeholder:c("Optional"),wrapperClassName:KE.invoiceComment,onInput:g}),ge.createElement("p",{className:KE.labelForInvoice},c("Share this URL to receive %token%",{token:null==l?void 0:l.symbol})),ge.createElement(qy,{text:b,addressUrl:e.UMQ?b:void 0,noExplorer:!0,withShareInMenu:e.UMQ,copyNotification:c("Invoice link was copied!"),className:KE.invoiceLinkField})));case qE.Selector:return ge.createElement(PE,{isActive:t,shouldHideNotSupportedTokens:!0,selectedChain:"ton",onTokenSelect:E,onBack:m,onClose:s})}}return ge.createElement(ac,{isOpen:r,dialogClassName:KE.modalDialog,nativeBottomSheetKey:"invoice",onClose:s,onCloseAnimationEnd:m},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:d?qE.Selector:qE.Initial,nextKey:d?qE.Initial:qE.Selector},k))}))),YE=new Map,GE=function(e){let{isActive:t,icon:n,title:a,menuItems:o,className:r,onClick:i,clickArg:s,onMenuItemClick:c,onActiveClick:l}=e;const d=me(),u=me(),[m,p]=ie(),f=Boolean(null==o?void 0:o.length),h=Boolean(m),g=zo((()=>u.current)),v=zo((()=>document.body)),w=zo((()=>d.current)),y=zo((()=>({withPortal:!0}))),b=zo((()=>p(void 0))),E=zo((()=>{if(!t||f)if(t)if(h)b();else{const{right:e,y:t,height:n}=u.current.getBoundingClientRect();p({x:e,y:t+n})}else i(s);else null==l||l()}));return ge.createElement("div",{className:xr("D6as8ltx",t&&"O4d43EtE",r,f&&"MiCetFPJ"),onClick:E},ge.createElement("span",{className:"vwr4su2y",ref:u},n&&ge.createElement("i",{className:xr(n,"EDDQtmOa"),"aria-hidden":!0}),a,f&&ge.createElement("i",{className:xr("icon-caret-down","UgBDhvZa"),"aria-hidden":!0})),f&&ge.createElement(eg,{isOpen:h,ref:d,items:o,withPortal:!0,buttonClassName:"tUY9MzOP",menuPositionX:"right",menuAnchor:m,getTriggerElement:g,getRootElement:v,getMenuElement:w,getLayout:y,onSelect:c,onClose:b}))},QE=n.pz?450:n.Ni?400:300,XE="clip-path-container",JE=fe((function(e){let{isActive:t,tabs:n,activeTab:a,className:o,overlayClassName:r,onSwitchTab:i,onActiveTabClick:s}=e;const c=_r(),l=me(),{width:u}=um(),m=xr("Jya4TQTw","no-scrollbar",o);return yb({containerRef:l,shouldPreventDefault:!0}),function(e,t){ce((()=>{if(!t)return;const{scrollWidth:n,offsetWidth:a,scrollLeft:o}=t;if(n<=a)return;const r=t.childNodes[e];if(!r)return;const{offsetLeft:i,offsetWidth:s}=r,c=i-a/2+s/2;Math.abs(c-o)<16||function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;const a="rtl"===e.getAttribute("dir"),{scrollLeft:o,offsetWidth:r,scrollWidth:i,dataset:{scrollId:s}}=e;let c=t-o;if(c<0){const e=-o*(a?-1:1);c=Math.max(c,e)}else if(c>0){const e=i-(o+r);c=Math.min(c,e)}if(0===c)return Promise.resolve();s&&YE.has(s)&&YE.get(s)();const l=o+c;new Promise((t=>{(0,k.RK)((()=>{if(0===n)return e.scrollLeft=l,void t();let a=!1;const o=Math.random().toString();e.dataset.scrollId=o,YE.set(o,(()=>{a=!0})),e.style.scrollSnapType="none";const r=Date.now();(0,d.i0)((()=>{if(a)return!1;const i=Math.min((Date.now()-r)/n,1),s=c*(1-function(e){return 1-(1-e)**3.5}(i));return e.scrollLeft=Math.round(l-s),i>=1&&(e.style.scrollSnapType="",delete e.dataset.scrollId,YE.delete(o),t()),i<1}),k.RK)}))}))}(t,c,QE)}),[e,t])}(a,l.current),ce((()=>{var e;const t=null===(e=l.current)||void 0===e?void 0:e.querySelector(`.${XE}`),n=null==t?void 0:t.childNodes[a];if(t&&n){const e=function(e,t){const{paddingTop:n,paddingBottom:a}=getComputedStyle(e),{offsetLeft:o,offsetWidth:r}=e,i=o,s=Number(100-(o+r)/t.offsetWidth*100).toFixed(3),c=Number(i/t.offsetWidth*100).toFixed(3);return`inset(${parseInt(n)}px ${s}% ${parseInt(a)}px ${c}% round 1rem)`}(n,t);(0,k.RK)((()=>{t.style.clipPath=e}))}}),[t,a,n,c,l,u]),ge.createElement("div",{ref:l,className:m},n.map(((e,t)=>ge.createElement(GE,{key:e.title,title:e.title,isActive:t===a,className:null==e?void 0:e.className,menuItems:null==e?void 0:e.menuItems,onMenuItemClick:null==e?void 0:e.onMenuItemClick,onActiveClick:s,onClick:i,clickArg:e.id,icon:e.icon}))),ge.createElement("div",{className:xr("GMG3Qgat",r,XE),"aria-hidden":!0},n.map(((e,t)=>ge.createElement(GE,{key:e.title,title:e.title,isActive:t===a,className:xr(null==e?void 0:e.className,t===a&&"current-tab"),menuItems:null==e?void 0:e.menuItems,onActiveClick:s,onMenuItemClick:null==e?void 0:e.onMenuItemClick,onClick:i,clickArg:e.id,icon:e.icon})))))})),ZE="eWsAO42f",ek="E2TFEkdV",tk="GUHQ1MCW",nk="wOo6dgfN",ak="Zc6rtbsT",ok="onRwV8fb",rk=fe(je((e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n}}))((function(t){let{className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,onClose:c}=t;const{startSwap:l,openOnRampWidgetModal:d,openInvoiceModal:u,closeReceiveModal:m}=Ke(),p=_r(),f=!o&&!r&&!i,h=!o&&!s,g=zo((()=>{d({chain:"ton"}),null==c||c()})),v=zo((()=>{l({tokenInSlug:e.Czf,tokenOutSlug:e.Tu9.slug,amountIn:"100"}),null==c||c()})),w=zo((()=>{m(),u(),null==c||c()})),y=xr(ZE,a&&ek,n);return ge.createElement("div",{className:y},h&&ge.createElement("div",{className:tk,onClick:g},ge.createElement("i",{className:xr(ak,"icon-card"),"aria-hidden":!0}),p("Buy with Card"),ge.createElement("i",{className:xr(ok,"icon-chevron-right"),"aria-hidden":!0})),f&&ge.createElement("div",{className:tk,onClick:v},ge.createElement("i",{className:xr(ak,"icon-crypto"),"aria-hidden":!0}),p("Buy with Crypto"),ge.createElement("i",{className:xr(ok,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("div",{className:tk,onClick:w},ge.createElement("i",{className:xr(ak,"icon-link"),"aria-hidden":!0}),p("Create Deposit Link"),ge.createElement("i",{className:xr(ok,"icon-chevron-right"),"aria-hidden":!0})))})));let ik;function sk(t){let{address:n,chain:a,isActive:o,hiddenClassName:r,hideLogo:s,withFormatTransferUrl:c}=t;const[l,d]=ie(!!ik),u=e.TI6?"./coreWallet/logo.svg":"./logo.svg",m=me();return ce((()=>{l||i.e(283).then(i.t.bind(i,97283,23)).then((e=>{let{default:t}=e;ik=new t({width:600,height:600,image:a?$w(a):u,margin:0,type:"canvas",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8,crossOrigin:"anonymous"},qrOptions:{errorCorrectionLevel:"M"},data:AE("")}),d(!0)}))}),[a,l,u]),le((()=>{var e;o&&l&&(m.current&&r&&xs(m.current,r),m.current&&(null===(e=ik)||void 0===e||e.append(m.current),ik._options.image=s?void 0:a?$w(a):u))}),[o,l,r,s,a,u]),ce((()=>{n&&o&&ik&&l&&ik.update({data:c?AE(n):n})}),[n,o,l,c]),{qrCodeRef:m,isInitialized:l}}const ck=fe((function(e){let{isActive:t,isStatic:n,isLedger:a,address:o,onClose:r}=e;const{verifyHardwareAddress:i}=Ke(),s=_r(),{qrCodeRef:c,isInitialized:l}=sk({address:o,chain:"ton",isActive:t,hiddenClassName:KE.qrCodeHidden,withFormatTransferUrl:!0}),d=xr(KE.qrCode,n&&KE.qrCodeStatic,!l&&KE.qrCodeHidden);return ge.createElement("div",null,ge.createElement("div",{className:xr(KE.contentTitle,KE.contentTitleQr)},rr(s("$receive_ton_description"))),ge.createElement("div",{className:d,ref:c}),ge.createElement(qy,{chain:"ton",address:o,className:n?KE.copyButtonStatic:KE.addressWrapper,copyNotification:s("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),a&&ge.createElement("div",{className:xr(KE.contentTitle,KE.contentTitleLedger,n&&KE.contentTitleLedgerStatic)},rr(s("$ledger_verify_address"))," ",ge.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),e.stopPropagation(),i()},className:KE.dottedLink},s("Verify now"))),!n&&ge.createElement(rk,{isLedger:a,onClose:r}))})),lk=fe(je((e=>{const{isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}}))((function(t){let{className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,countryCode:c,onClose:l}=t;const{startSwap:d,openOnRampWidgetModal:u}=Ke(),m=_r(),p="RU"!==c,f=!o&&!r&&!i,h=!o&&!s&&(p||a),g=Boolean(f||h||a),v=zo((()=>{u({chain:"tron"}),null==l||l()})),w=zo((()=>{d({tokenInSlug:e.iX4,tokenOutSlug:e.X7T.slug,amountIn:"10"}),null==l||l()})),y=xr(ZE,a&&ek,n);if(g)return ge.createElement("div",{className:y},h&&ge.createElement("div",{className:xr(tk,!p&&nk),onClick:p?v:void 0},ge.createElement("i",{className:xr(ak,"icon-card"),"aria-hidden":!0}),m("Buy with Card"),ge.createElement("i",{className:xr(ok,"icon-chevron-right"),"aria-hidden":!0})),f&&ge.createElement("div",{className:tk,onClick:w},ge.createElement("i",{className:xr(ak,"icon-crypto"),"aria-hidden":!0}),m("Buy with Crypto"),ge.createElement("i",{className:xr(ok,"icon-chevron-right"),"aria-hidden":!0})),a&&ge.createElement("div",{className:xr(tk,nk)},ge.createElement("i",{className:xr(ak,"icon-link"),"aria-hidden":!0}),m("Create Deposit Link"),ge.createElement("i",{className:xr(ok,"icon-chevron-right"),"aria-hidden":!0})))}))),dk=fe((function(e){let{isActive:t,isStatic:n,address:a,onClose:o}=e;const r=_r(),{qrCodeRef:i,isInitialized:s}=sk({address:a,chain:"tron",isActive:t,hiddenClassName:KE.qrCodeHidden,withFormatTransferUrl:!1}),c=xr(KE.qrCode,n&&KE.qrCodeStatic,!s&&KE.qrCodeHidden);return ge.createElement("div",null,ge.createElement("div",{className:xr(KE.contentTitle,KE.contentTitleQr)},rr(r("$receive_tron_description"))),ge.createElement("div",{className:c,ref:i}),ge.createElement(qy,{chain:"tron",address:a,className:n?KE.copyButtonStatic:KE.addressWrapper,copyNotification:r("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),!n&&ge.createElement(lk,{onClose:o}))})),uk=fe(je((e=>{const t=it(e,e.currentAccountId),{receiveModalChain:n}=ct(e)||{};return{addressByChain:null==t?void 0:t.addressByChain,isLedger:Boolean(null==t?void 0:t.ledger),chain:n}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isOpen:t,addressByChain:n,chain:a,isStatic:o,isLedger:r,onClose:i}=e;const{setReceiveActiveTab:s}=Ke(),c=_r(),{isPortrait:l}=hi(),d=de((()=>{const e=[];return null!=n&&n.ton&&e.push({id:0,title:"TON",className:xr(KE.tab,KE.tabTon)}),null!=n&&n.tron&&e.push({id:1,title:"TRON",className:xr(KE.tab,KE.tabTron)}),e}),[null==n?void 0:n.ton,null==n?void 0:n.tron]),u=de((()=>a?"tron"===a?1:0:d.length?d[0].id:0),[a,d]),m=zo((e=>{s({chain:1===e?"tron":"ton"})}));function p(e,a,s){switch(s){case 0:return ge.createElement(ck,{isActive:t&&e,isStatic:o,isLedger:r,address:n.ton,onClose:i});case 1:return ge.createElement(dk,{isActive:t&&e,isStatic:o,address:n.tron,onClose:i})}}if(d.length)return ge.createElement(ge.Fragment,null,o&&function(){const e=d.find((e=>e.id===u));return 1===(null==e?void 0:e.id)?ge.createElement(lk,{isStatic:!0}):ge.createElement(rk,{isStatic:!0,isLedger:r})}(),d.length>1&&ge.createElement(JE,{tabs:d,activeTab:u,className:xr(KE.tabs,!o&&KE.tabsInModal),overlayClassName:xr(KE.tabsOverlay,1===u&&KE.tronActive),onSwitchTab:m}),ge.createElement(xf,{key:`content_${c.code}`,activeKey:u,name:l?"slide":"slideFade",className:KE.contentWrapper,slideClassName:xr(KE.content,o&&KE.contentStatic,"custom-scroll"),shouldRestoreHeight:o},p))}))),mk=fe(je((e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions,a=rt(e);return{isOpen:e.isReceiveModalOpen,isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,isLedger:Boolean(null==a?void 0:a.ledger),isMultichainAccount:Ct(e,e.currentAccountId)}}))((function(e){let{isOpen:t,isTestnet:a,isLedger:o,isSwapDisabled:r,isOnRampDisabled:i,isMultichainAccount:s}=e;const{closeReceiveModal:c}=Ke(),l=_r(),{isLandscape:d}=hi(),u=l((a||o||r)&&(a||i)?"Add":"Add / Buy");return ce((()=>{t&&d&&c()}),[d,t]),ge.createElement(ac,{isOpen:t,dialogClassName:n.ZH?KE.iosModalDialog:KE.modalDialog,nativeBottomSheetKey:"receive",onClose:c},ge.createElement(tg,{title:u,className:xr(KE.receiveHeader,!s&&KE.receiveHeaderNoTabs),onClose:c}),ge.createElement(uk,{isOpen:t,onClose:c}))}))),pk=fe((function(t){let{isSensitiveDataHidden:n,playAnimation:a,amount:o=0n,tokenSymbol:r=e.Tu9.symbol,decimals:i=e.Tu9.decimals,noSign:s,color:c,firstButtonText:l,secondButtonText:d,onFirstButtonClick:u,onSecondButtonClick:m}=t;const p=(0,Pt.nI)(o,i),[f,h]=mr(p,"",s,i).split("."),g=de((()=>xw(5,13,r)),[r]);return ge.createElement(ge.Fragment,null,ge.createElement(of,{play:a,noLoop:!1,nonInteractive:!0,className:Iw.sticker,tgsUrl:_p.thumbUp,previewUrl:_p.thumbUpPreview}),ge.createElement(ey,{isActive:n,cols:g,rows:3,cellSize:18,align:"center",maskSkin:"green",className:xr(Iw.amount,c&&Iw[`amount_${c}`],"rounded-font")},f.trim().replace(" ","").replace("-","−"),h&&ge.createElement("span",{className:Iw.amountFraction},".",h.trim()),ge.createElement("span",{className:Iw.amountSymbol},r)),function(){if(l||d)return ge.createElement("div",{className:Iw.buttons},l&&ge.createElement(js,{className:Iw.button,onClick:u},l),d&&ge.createElement(js,{className:Iw.button,onClick:m},d))}())}));function fk(t,n){var a;return t?(null===(a=e.mEK[n])||void 0===a?void 0:a[t])??e.mEK[n].en:""}function hk(t){const{baseCurrency:n,onAmountChange:a}=t,{isBaseCurrency:o,switchCurrency:r,...i}=function(t){let{baseCurrency:n,amount:a,token:o,isAmountReadonly:r,onAmountChange:i,onTokenChange:s}=t;const[c,l]=ie(!1),d=me(),u=me(),m=e.yR2[n].decimals,p=e=>{d.current=e,u.current=gk(e,null==o?void 0:o.price,m)},f=(e,t)=>{if(c&&!r){const n=vk(u.current,e,t);n!==yk(d.current)&&(d.current=n,i(wk(n,t)))}else u.current=gk(d.current,e,m)};Ee((()=>{const e=(t=a,n=null==o?void 0:o.decimals,void 0===t?void 0:(0,Pt.nI)(t,n));var t,n;e!==yk(d.current)&&p(e)}),[a,null==o?void 0:o.decimals]),Ee((()=>{f(null==o?void 0:o.price,null==o?void 0:o.decimals)}),[null==o?void 0:o.price,null==o?void 0:o.decimals,m]);const h=zo((e=>{var t;e||=void 0,c?(t=e,d.current=vk(t,null==o?void 0:o.price,null==o?void 0:o.decimals),u.current=t):p(e),i(wk(d.current,null==o?void 0:o.decimals))})),g=zo(((e,t)=>{null==s||s(e),t&&f(t.price,t.decimals)}));return{isBaseCurrency:c,isAmountReadonly:r,inputValue:c?u.current:d.current,alternativeValue:c?d.current:u.current,switchCurrency:l,onInputChange:h,onTokenChange:g}}(t),s=zo((e=>{void 0!==e&&(ul(),r(!1),a(e,!0))})),c=zo((()=>{ul(),r(!o)}));return{...i,isBaseCurrency:o,baseCurrency:n,onMaxAmountClick:s,onAlternativeAmountClick:c}}function gk(e,t,n){return e&&void 0!==t?(0,Ft.z)(e).mul(t).round(n).toString():void 0}function vk(e,t,n){return e&&t?(0,Ft.z)(e).div(t).round(n??Bt.fI).toString():void 0}function wk(e,t){return e?(0,Pt.UH)(e,t):void 0}function yk(e){if(!e)return;if(!e.includes("."))return e;let t=e.length;for(;"0"===e[t-1];)t--;return"."===e[t-1]&&t--,e.slice(0,t)}function bk(e){let{tokenBySlug:t,states:n,shouldUseNominators:a,selectedStakingId:o,isViewMode:r}=e;const i=de((()=>{if(!t||!n)return[];let e=function(e,t,n){const a=t.some((e=>"nominators"===e.type&&lu(e))),o=t.some((e=>"liquid"===e.type&&lu(e)));return n&&!o&&(t=t.filter((e=>"liquid"!==e.type))),n||a||(t=t.filter((e=>"nominators"!==e.type))),t.filter((t=>e[t.tokenSlug])).map((t=>({...e[t.tokenSlug],id:t.id})))}(t,n,a);return r&&(e=e.filter((e=>{let{id:t}=e;return t===o}))),e}),[t,n,a,r,o]);return[de((()=>i.find((e=>e.id===o))),[i,o]),i]}function Ek(e,t){const n=me(0);return de((()=>{t||(n.current+=1)}),e),n.current}const kk=fe((function(e){let{maxAmount:t,token:n,isLoading:a,isSensitiveDataHidden:o,isAllMode:r,onAmountClick:i}=e;const s=_r(),c=a?s("Loading..."):n&&void 0!==t?o?`*** ${n.symbol}`:r?pr(t,n.symbol,n.decimals):ur((0,Pt.nI)(t,n.decimals),n.symbol):"",l=Ek([!c,null==n?void 0:n.symbol,a,o]);return ge.createElement(xf,{name:"fade",activeKey:l,shouldCleanup:!0,className:"OEF25dXJ"},c&&ge.createElement("span",{className:"zfocSjTR"},s(r?"$all_balance":"$max_balance",{balance:ge.createElement("div",{role:"button",tabIndex:0,onClick:()=>i(t),className:"KwAXOVQ_"},c)})))})),Ck={dropdown:"ZNn8fpqd",dropdown__prefix:"u0_9mbdz",dropdownPrefix:"u0_9mbdz",prefix:"yhhTwepY",purple:"fP_2Gh_l"},Nk=[],Sk=fe((function(e){let{selectedToken:t,allTokens:n=Nk,isMultichainAccount:a,theme:o,isInMode:r,onChange:i}=e;const s=_r()("$in_currency",{currency:""}),c=de((()=>r&&ge.createElement("span",{className:Ck.prefix},s)),[r,s]),l=de((()=>n.map((e=>function(e,t){return{value:Ak(e),icon:Kw[e.symbol.toLowerCase()]||e.image,overlayIcon:t?$w(e.chain):void 0,name:e.symbol}}(e,a)))),[n,a]),d=de((()=>n.reduce(((e,t)=>(e[Ak(t)]=t,e)),{})),[n]),u=zo((e=>{const t=d[e];null==i||i(e,t)}));if(!l.length)return;const m=t&&"string"!=typeof t?Ak(t):t;return ge.createElement(xv,{items:l,selectedValue:m,buttonPrefix:c,className:Ck.dropdown,menuClassName:o&&Ck[o],onChange:u})}));function Ak(e){return e.id??e.slug}const Tk=fe((function(t){let{isBaseCurrency:n,inputValue:a,alternativeValue:o,baseCurrency:r,maxAmount:i,token:s,allTokens:c,isStatic:d,hasError:u,isMultichainAccount:m,isSensitiveDataHidden:p,isMaxAmountLoading:f,isMaxAmountAllMode:h,renderBottomRight:g,isAmountReadonly:v,labelText:w,onTokenChange:y,onPressEnter:b,onInputChange:E,onMaxAmountClick:k,onAlternativeAmountClick:C}=t;const N=_r(),S=n?0:1,{inputId:A,onInputFocus:T,onInputBlur:I,onClick:B}=function(e){const t=`${ke()}_${e}`,n=me(!1),a=me(),o=zo((()=>{var e;null===(e=a.current)||void 0===e||e.call(a),n.current=!0})),r=zo((()=>{var e;null===(e=a.current)||void 0===e||e.call(a),a.current=(0,l.Gf)(500,(()=>{n.current=!1}))}));return ce((()=>{n.current&&zE(t)}),[e]),{inputId:t,onInputFocus:o,onInputBlur:r,onClick:()=>{n.current&&zE(t)}}}(S),_=zo((()=>{k(i),B()}));return ge.createElement(xf,{activeKey:S,name:"semiFade",shouldCleanup:!0,className:"u5uvgNoY",slideClassName:"OeHWkJFQ"},ge.createElement(kk,{maxAmount:v?void 0:i,token:s,isLoading:f,isAllMode:h,isSensitiveDataHidden:p,onAmountClick:_}),function(){let t,o;if(n){const{shortSymbol:n}=e.yR2[r];n?t=n:o=r}return ge.createElement(VE,{id:A,hasError:u,value:a,labelText:w??N("Amount"),decimals:n?e.yR2[r].decimals:null==s?void 0:s.decimals,className:"me9Fg5VF",isStatic:d,prefix:t,suffix:o,disabled:v,onChange:E,onPressEnter:b,onFocus:T,onBlur:I},ge.createElement(Sk,{selectedToken:s,allTokens:c,isInMode:n,isMultichainAccount:m,onChange:y}))}(),ge.createElement("div",{className:"xPmDv9gI"},function(){const e=n?(null==s?void 0:s.symbol)??"":hr(r);return ge.createElement("button",{type:"button",className:"hx_H7UUP",onClick:()=>{C(),B()}},"≈ ",ur(o??0,e,void 0,!0),ge.createElement("i",{className:xr("Agk5w0hD","icon-switch"),"aria-hidden":!0}))}(),g("uMCMe6l_")))})),Ik=(0,et.A)((e=>0===e?/^(\d+)/:new RegExp(`^(\\d+)([.,])?(\\d{1,${e}})?`))),Bk=fe((function(t){let{id:n,labelText:a,value:o,error:r,prefix:i,suffix:s,zeroValue:c,decimals:l=e.I04,className:d,isSensitiveData:u,isSensitiveDataHidden:m,sensitiveDataMaskSkin:p,isStatic:f,inputClassName:h,labelClassName:g,valueClassName:v,children:w}=t;const y=me(),b=me(""),{updateFontScale:E,isFontChangedRef:k}=HE(y,!0),C=zo((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=y.current,a=Ik(l),o=e.match(a);if(null===o||o.length<4||""===o[0])return void(t||""===e?(b.current="",n.innerText=""):C(b.current,!0));const r=(null==o?void 0:o[0])||"";b.current=e,n.innerHTML=UE(e,i,s,l,!0),(r.length>5||k.current)&&E()}));le((()=>{o?C(o):c&&(y.current.textContent=c)}),[i,s,l,C,o,c]);const N=xr(rf.input__wrapper,f&&rf.inputWrapperStatic,h),S=xr(rf.rich__value,rf.input,rf.large,rf.disabled,r&&rf.error,"rounded-font",v),A=xr(rf.label,g);return ge.createElement("div",{className:xr(rf.wrapper,d)},r&&ge.createElement("label",{className:xr(rf.label,rf.label_error,rf.error),htmlFor:n},r),a&&ge.createElement("label",{className:A,htmlFor:n,id:`${n}Label`},a),ge.createElement("div",{className:N},u?ge.createElement(ey,{isActive:m,cols:8,rows:3,cellSize:16,maskSkin:p,className:xr(rf.rich,rf.large),maskClassName:rf.mask},ge.createElement("div",{ref:y,id:n,className:S})):ge.createElement("div",{className:rf.rich},ge.createElement("div",{ref:y,id:n,className:S})),w))})),_k={modalDialog:"oJIiPolp",welcome:"TiFPq3C6",welcome_static:"Rv6oYnJ8",welcomeStatic:"Rv6oYnJ8",welcomeInformation:"Xg9cqUJJ",welcomeInformation_static:"o_nJd5KS",welcomeInformationStatic:"o_nJd5KS",stakingApy:"HKeaaGYy",textButton:"fole9hpS",sticker:"bPhlS4F_",sticker_static:"uaQ89610",stickerStatic:"uaQ89610",stakingSafeDialog:"zNAkvVGS",amountBottomRight:"VuUMtt0r",amountBottomRight_error:"XziKGimY",amountBottomRightError:"XziKGimY",amountBottomRight_slide:"D7jfmDqZ",amountBottomRightSlide:"D7jfmDqZ",animating:"idaRXWqT",from:"w5MTAdBs",to:"OH6m_v4W",balanceError:"XV91oi_1",historyTotalValue:"ps_1E9fe",stakingBalance:"ZzjyhAIi",balanceResultWrapper:"vtSKtwOl",balanceResultWrapper__slide:"ri2mpmSG",balanceResultWrapperSlide:"ri2mpmSG",balanceResultInput:"oiRjkkEM",balanceResultLabel:"h10QGypW",balanceStakedLabel:"DlWk_wtQ",balanceStakedResult:"Zvcxz1_r",balanceResult:"ANb8RM_U",stakingInfoModal:"WPEajhsz",stakingInfoModal_withHistory:"RmyjusO4",stakingInfoModalWithHistory:"RmyjusO4",stakingInfo:"jqjfDFur",stakingInfo_modal:"WPEajhsz",stakingInfoNoHistory:"JhvH7wqN",stakingInfoModalContent:"adkWFcPE",history:"vrPulHrK",historyList:"Y0yHbYn0",withBackground:"seOnXIX2",stakingInfoLoading:"FpmrUch0",stakingInfoLoadingAnimation:"HhFmzxoC",stakingInfoClose:"hUegI624",stakingInfoButtons:"p0aoyqxp",stakingInfoButtons_withMargin:"pa9mJcSA",stakingInfoButtonsWithMargin:"pa9mJcSA",stakingInfoButtons_adaptiveWidth:"KhWpHXOV",stakingInfoButtonsAdaptiveWidth:"KhWpHXOV",stakingInfoButton:"ANY2XY_3",checkEligibilityButton:"aM6EzHZ6",insufficientBalance:"rGOjgmuu",unstakeTime:"AQ56tknq",unstakeTime_purple:"LqS98rhM",unstakeTimePurple:"LqS98rhM",unstakeTimeIcon:"tyhEzoP5",history_static:"s2VvvIeZ",historyStatic:"s2VvvIeZ",historyTotal:"saWAKbAc",historyTitle:"Y0cCgJMS",historyList_static:"axMdO17j",historyListStatic:"axMdO17j",transactionBanner:"qrdHJFDS",unstakeInfoTransition:"dyqJuGUL",unstakeInfo:"m1LUZiWL"};function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xk.apply(null,arguments)}var Dk=function(e){return e[e.Fee=0]="Fee",e[e.InsufficientBalance=1]="InsufficientBalance",e[e.InsufficientFee=2]="InsufficientFee",e[e.BelowMinimumAmount=3]="BelowMinimumAmount",e[e.ApiError=4]="ApiError",e}(Dk||{});const Lk=new Set([Un.StakeInitial,Un.None]),Ok=(0,l.nF)((e=>e()),1500,!0),Mk=fe(je((t=>{var n;const a=t.currentAccountId,o=ct(t),r=Wt(t),i=t.tokenInfo.bySlug,{baseCurrency:s=e.wOb,isSensitiveDataHidden:c}=t.settings,{state:l,isLoading:d,error:u}=t.currentStaking,m=a?Sa(t,a):void 0,p=Ia(t,t.currentAccountId);return{isViewMode:It(t),isLoading:d&&Lk.has(l),tokens:r,tokenBySlug:i,apiError:u,stakingState:p,states:m,shouldUseNominators:null==o||null===(n=o.staking)||void 0===n?void 0:n.shouldUseNominators,isSensitiveDataHidden:c,baseCurrency:s}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:a,isStatic:o,isLoading:r,isViewMode:i,apiError:s,tokens:c,tokenBySlug:l,stakingState:d,states:u,shouldUseNominators:m,isSensitiveDataHidden:p,baseCurrency:f}=t;const{submitStakingInitial:h,fetchStakingFee:g,cancelStaking:v,changeCurrentStaking:w}=Ke(),y=_r(),[b,E,k]=rm(),[C,N]=ie();let S=!1,A=!1,T=!1,I=!1;const{id:B,type:_,tokenSlug:x}=d??{},D=de((()=>{if(!x||!c||!l)return;let e=c.find((e=>{let{slug:t}=e;return t===x}));return!e&&x in l&&(e=ta(l[x])),e}),[x,c,l]),{amount:L=0n,symbol:O,decimals:M=e.Tu9.decimals}=D??{};let{annualYield:P=0}=d??{},F=`${P}%`;if("jetton"===(null==d?void 0:d.type)&&C)P=function(e){let{tvl:t,dailyReward:n,decimals:a}=e;if(!t)return 0;const o=(0,Pt.CF)(n,a).div((0,Pt.CF)(t,a)).mul(365).mul(100).toFixed(2);return Number(o)}({tvl:d.tvl+C,dailyReward:d.dailyReward,decimals:M});else if("ethena"===(null==d?void 0:d.type)){const{annualYieldStandard:e,annualYieldVerified:t}=d;F=`${e}%–${t}%`}const R=Qn(null==D?void 0:D.slug),U=de((()=>{if(!c||!D)return;if(R)return D;const e=Jn(D.chain).slug;return c.find((t=>{let{slug:n}=t;return n===e}))}),[c,D,R]),W=(null==U?void 0:U.amount)??0n,H=function(t){switch(t){case"nominators":return e.pLj;case"ethena":return e.WUE;default:return e.UAn}}(_),{gas:$,real:V}=ru(null==d?void 0:d.type).stake,z=R&&C?C+$:$,K=2n*$,q=R&&L>=K,j=(()=>{let e=L;return R&&e&&(e-=q?K:$),(0,ua._O)(0n,e)})(),Y=su();void 0!==C&&(Number.isNaN(C)||C<0?S=!0:C<H?I=!0:!j||C>L?A=!0:(W<$||R&&z>L)&&(T=!0));const[G,Q]=bk({tokenBySlug:l,states:u,shouldUseNominators:m,selectedStakingId:B}),X=zo((()=>{const e=fk(y.code,"ethenaStaking");dc(e,{title:y("Help Center"),subtitle:Qo(e)})}));ce((()=>{C&&Ok((()=>{g({amount:C})}))}),[C,g]),Ee((()=>{if(n.bA&&b){let e;switch(null==d?void 0:d.type){case"jetton":e=[`${y("$safe_staking_description_jetton1").replace("%jvault_link%","JVault")}`,`${y("$safe_staking_description_jetton2")}`];break;case"ethena":e=[`1. ${y("$safe_staking_ethena_description1")}`,`2. ${y("$safe_staking_ethena_description2")}`,`3. ${y("$safe_staking_ethena_description3")}`];break;default:e=[`1. ${y("$safe_staking_description1")}`,`2. ${y("$safe_staking_description2")}`,`3. ${y("$safe_staking_description3")}`]}"ethena"===(null==d?void 0:d.type)?cb.confirm({title:y(Y),message:e.join("\n\n").replace(/\*\*/g,""),okButtonTitle:y("Close"),cancelButtonTitle:y("Help Center")}).then((e=>{k(),e.value||X()})):cb.alert({title:y(Y),message:e.join("\n\n").replace(/\*\*/g,"")}).then(k)}}),[b,y,d,Y]);const J=C&&j&&!i&&!S&&!I&&!T&&!A,Z=zo((e=>{Do(e),J&&(ul(),h({amount:C}))})),ee=zo((()=>{dc(e.lsx)})),[te,ne]=de((()=>A?[y("Insufficient balance"),Dk.InsufficientBalance]:T?[y("$insufficient_fee",{fee:ur((0,Pt.nI)($),(null==U?void 0:U.symbol)??"")}),Dk.InsufficientFee]:I?[y("$min_value",{value:ur((0,Pt.nI)(H,M),O??"")}),Dk.BelowMinimumAmount]:s?[y(s),Dk.ApiError]:[void 0,Dk.Fee]),[s,M,I,A,T,y,H,null==U?void 0:U.symbol,$,O]),ae=ue((e=>{let t=" ";return t=te?ge.createElement("span",{className:_k.balanceError},te):D?y("$fee_value",{fee:ge.createElement(tb,{terms:{native:V},precision:"approximate",token:D})}):"",ge.createElement(xf,{className:xr(_k.amountBottomRight,S&&_k.amountBottomRight_error,e),slideClassName:_k.amountBottomRight_slide,name:"semiFade",activeKey:ne},t)}),[te,ne,S,y,V,D]);const oe=zo((e=>{v(),w({stakingId:e,shouldReopenModal:!o})})),re=hk({amount:C,token:D,baseCurrency:f,onAmountChange:N,onTokenChange:oe});return ge.createElement("form",{className:o?void 0:Gs.transitionContent,onSubmit:Z},ge.createElement("div",{className:xr(_k.welcome,o&&_k.welcome_static)},ge.createElement(of,{size:o?e.lWW:e.jzp,play:a,noLoop:!1,nonInteractive:!0,className:xr(_k.sticker,o&&_k.sticker_static),tgsUrl:_p.wait,previewUrl:_p.waitPreview}),ge.createElement("div",{className:xr(_k.welcomeInformation,o&&_k.welcomeInformation_static)},ge.createElement("div",null,y("Earn from your tokens while holding them",{symbol:O})),ge.createElement("div",{className:_k.stakingApy},y("Est. %annual_yield%",{annual_yield:F})),"ethena"===_&&ge.createElement(js,{isText:!0,className:_k.textButton,onClick:ee},y("Check eligibility")),ge.createElement(js,{isText:!0,className:_k.textButton,onClick:E},y(su(_))))),ge.createElement(Tk,xk({},re,{maxAmount:j,token:G,allTokens:Q,isStatic:o,hasError:S||A,isMaxAmountLoading:!G,isSensitiveDataHidden:p,renderBottomRight:ae,onPressEnter:Z})),function(){const t=(0,Pt.CF)(C??0,M);let n,a,r;if(re.isBaseCurrency){n=t.mul((null==D?void 0:D.price)??0);const{shortSymbol:o}=e.yR2[f];o?a=o:r=f}else n=t;const i=n.mul(P/100+1).toString();return ge.createElement(xf,{activeKey:re.isBaseCurrency?0:1,name:"semiFade",className:_k.balanceResultWrapper,slideClassName:_k.balanceResultWrapper__slide,shouldCleanup:!0},ge.createElement(Bk,{labelText:y("Est. balance in a year"),zeroValue:"...",value:i,decimals:e.Vxu,prefix:a,suffix:r,isStatic:o,inputClassName:_k.balanceResultInput,labelClassName:_k.balanceResultLabel,valueClassName:_k.balanceResult}))}(),!i&&ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,isSubmit:!0,isDisabled:!J,isLoading:r},y("$stake_asset",{symbol:null==D?void 0:D.symbol}))),function(){if(!n.bA)return ge.createElement(ac,{isCompact:!0,isOpen:b,title:y(Y),onClose:k,dialogClassName:_k.stakingSafeDialog},!!d&&function(){switch(d.type){case"jetton":return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Gs.text},rr(y("$safe_staking_description_jetton1",{jvault_link:ge.createElement("a",{href:e.dCY,target:"_blank",rel:"noreferrer"},ge.createElement("b",null,"JVault"))}))),ge.createElement("p",{className:Gs.text},rr(y("$safe_staking_description_jetton2"))));case"ethena":return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Gs.text},rr(y("$safe_staking_ethena_description1"))),ge.createElement("p",{className:Gs.text},rr(y("$safe_staking_ethena_description2"))),ge.createElement("p",{className:Gs.text},rr(y("$safe_staking_ethena_description3"))));default:return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Gs.text},rr(y("$safe_staking_description1"))),ge.createElement("p",{className:Gs.text},rr(y("$safe_staking_description2"))),ge.createElement("p",{className:Gs.text},rr(y("$safe_staking_description3"))))}}(),ge.createElement("div",{className:Gs.buttons},"ethena"===d.type&&ge.createElement(js,{onClick:X},y("Help Center")),ge.createElement(js,{onClick:k},y("Close"))))}())}))),Pk=new Set([Un.StakeInitial,Un.StakePassword,Un.StakeConnectHardware,Un.StakeConfirmHardware,Un.StakeComplete]),Fk=fe(je((e=>{const t=e.currentAccountId,n=Ct(e,t),a=Ia(e,t),o=e.tokenInfo.bySlug;return{...e.currentStaking,stakingState:a,tokenBySlug:o,isMultichainAccount:n}}))((function(t){let{state:n,stakingState:a,isLoading:o,amount:r,error:i,tokenBySlug:s,isMultichainAccount:c}=t;const{startStaking:l,setStakingScreen:d,cancelStaking:u,clearStakingError:m,submitStaking:p,openStakingInfo:f}=Ke(),{tokenSlug:h}=a??{},g=h&&s?s[h]:void 0,v=_r(),w=Pk.has(n),[y,b]=ie(r),{renderingKey:E,nextKey:k,updateNextKey:C}=yv(n,w),N=zo((()=>{n===Un.StakePassword&&(m(),d({state:Un.StakeInitial}))})),S=zo((()=>{b(r),p()})),A=zo((e=>{b(r),p({password:e})})),T=zo((()=>{u(),f()}));function I(t,n,a){switch(a){case Un.StakeInitial:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:v("$stake_asset",{symbol:null==g?void 0:g.symbol}),onClose:u}),ge.createElement(Mk,{isActive:t}));case Un.StakePassword:return function(t){return ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:v("Confirm Staking"),onClose:u}),ge.createElement(Hf,{isActive:t,isLoading:o,error:i,withCloseButton:e.UMQ,operationType:"staking",placeholder:"Confirm operation with your password",submitLabel:v("Confirm"),cancelLabel:v("Back"),onSubmit:A,onCancel:N,onUpdate:m,skipAuthScreen:!0},function(){if(g&&r)return ge.createElement(Xb,{tokenIn:g,withChainIcon:c,color:"purple",text:ur((0,Pt.nI)(r,g.decimals),g.symbol),className:il()?void 0:_k.transactionBanner})}()))}(t);case Un.StakeConnectHardware:return ge.createElement(Hv,{isActive:t,onConnected:S,onClose:u});case Un.StakeConfirmHardware:return ge.createElement(Iv,{text:v("Please confirm operation on your Ledger"),error:i,onClose:u,onTryAgain:S});case Un.StakeComplete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:v("Coins have been staked!"),onClose:u}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(pk,{color:"purple",playAnimation:e,amount:y,decimals:null==g?void 0:g.decimals,tokenSymbol:null==g?void 0:g.symbol,noSign:!0,firstButtonText:v("View"),secondButtonText:v("Stake More"),onFirstButtonClick:T,onSecondButtonClick:l}),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:u,isPrimary:!0},v("Close")))))}(t)}}return ge.createElement(ac,{isOpen:w,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:_k.modalDialog,nativeBottomSheetKey:"stake",forceFullNative:E===Un.StakePassword,onClose:u,onCloseAnimationEnd:C},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:E,nextKey:k,onStop:C},I))}))),Rk=new Set([Un.ClaimPassword,Un.ClaimConfirmHardware,Un.ClaimConnectHardware,Un.ClaimComplete]),Uk=fe(je((e=>{const t=e.currentAccountId,{addressByChain:n}=it(e,t)||{},a=pt(e),{state:o,isLoading:r,error:i}=(null==e?void 0:e.currentStaking)||{},s=t?Ia(e,t):void 0,c=Wt(e);return{stakingState:"jetton"===(null==s?void 0:s.type)||"ethena"===(null==s?void 0:s.type)?s:void 0,isOpen:Rk.has(o),state:o,tokens:c,isLoading:r,error:i,address:null==n?void 0:n.ton,isHardwareAccount:a,isMultichainAccount:Ct(e,t),isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(t){let{stakingState:n,isOpen:a,tokens:o,isLoading:r,address:i,error:s,state:c=Un.ClaimPassword,isHardwareAccount:l,isMultichainAccount:d,isSensitiveDataHidden:u}=t;const{submitStakingClaim:m,cancelStakingClaim:p,clearStakingError:f}=Ke(),{tokenSlug:h}=n??{},g=n&&"unclaimedRewards"in n?n.unclaimedRewards:(null==n?void 0:n.unstakeRequestAmount)??0n,v=_r(),w=de((()=>null==o?void 0:o.find((e=>{let{slug:t}=e;return t===h}))),[o,h]),y=de((()=>null==o?void 0:o.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[o]),b=(null==y?void 0:y.amount)??0n,{gas:E,real:k}=ru(null==n?void 0:n.type).claim,C=b>E,{renderingKey:N,nextKey:S,updateNextKey:A}=yv(c,Boolean(a)),T=c===Un.ClaimComplete||!l&&!il(),I=T?v(c===Un.ClaimComplete?"Coins have been unstaked!":"ethena"===(null==n?void 0:n.type)?"Confirm Unstaking":"Confirm Rewards Claim"):void 0,B=zo((e=>{C&&m({password:e})})),_=zo((()=>{C&&m()}));function x(t,n,o){switch(o){case Un.ClaimConnectHardware:return ge.createElement(Hv,{isActive:t,onConnected:_,onClose:p});case Un.ClaimConfirmHardware:return ge.createElement(Iv,{text:v("Please confirm transaction on your Ledger"),error:s,onClose:p,onTryAgain:_});case Un.ClaimPassword:return ge.createElement(Hf,{isActive:Boolean(a),isLoading:r,withCloseButton:!0,operationType:"claim",error:C?s:v("Insufficient Balance for Fee"),submitLabel:v("Confirm"),onSubmit:B,onCancel:p,onUpdate:f,skipAuthScreen:!0},function(){const t=xr("k75dvmdJ",!il()&&"F2nQ3VmO"),n=u?`*** ${w.symbol}`:ur((0,Pt.nI)(g,w.decimals),w.symbol,e.Vxu);return ge.createElement(ge.Fragment,null,ge.createElement(Xb,{tokenIn:w,withChainIcon:d,text:n,className:il()?void 0:"yYT_DSGe",secondText:i&&(0,jt.W)(i)}),ge.createElement("div",{className:t},w&&rr(v("$fee_value_bold",{fee:ge.createElement(tb,{terms:{native:C?k:E},precision:C?"approximate":"lessThan",token:w})}))))}());case Un.ClaimComplete:return ge.createElement("div",{className:Gs.transitionContent},ge.createElement(pk,{isSensitiveDataHidden:u,color:"green",playAnimation:t,amount:g,tokenSymbol:null==w?void 0:w.symbol,decimals:null==w?void 0:w.decimals,noSign:!0}),ge.createElement("div",{className:"zw06OBVe"},v("$unstake_information_instantly")),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:p,isPrimary:!0},v("Close"))))}}return ge.createElement(ac,{isOpen:a,title:I,hasCloseButton:T,forceFullNative:!0,nativeBottomSheetKey:"staking-claim",contentClassName:"FYtlcmCw",onClose:p},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:N,nextKey:S,onStop:A},x))}))),Wk=fe((function(e){let{tonToken:t,timestamp:n,profit:a,isSensitiveDataHidden:o}=e;const r=_r(),i=de((()=>xw(4,10,n.toString())),[n]);return ge.createElement("div",{className:"nq4YjGn3"},ge.createElement("i",{className:xr("jLdRlENh","icon-earn"),"aria-hidden":!0}),ge.createElement("div",{className:"nxAiUgO_"},ge.createElement("div",{className:"uDw7ob8E"},r("Earned")),ge.createElement("div",{className:"aJl0mknc"},(0,ha.N5)(r,n),", ",(0,ha.fU)(n))),ge.createElement(ey,{isActive:o,cellSize:8,rows:2,cols:i,align:"right",className:"x2kd8DjZ"},mr(a,t.symbol)))})),Hk=fe(je((t=>{var n;const a=t.currentAccountId,{settings:{theme:o,isSensitiveDataHidden:r},tokenInfo:{bySlug:i}}=t,s=ct(t),c=a?Sa(t,a):void 0,l=a?Ia(t,a):void 0,d=a?Ba(t,a):void 0,u=a?function(t,n){var a;const o=lt(t,n);return(Ia(t,n).tokenSlug===e.Tu9.slug?null==o||null===(a=o.staking)||void 0===a?void 0:a.totalProfit:void 0)??0n}(t,a):0n;return{stakingState:l,states:c,totalProfit:u,stakingHistory:d,tokens:Wt(t),tokenBySlug:i,theme:o,shouldUseNominators:null==s||null===(n=s.staking)||void 0===n?void 0:n.shouldUseNominators,isSensitiveDataHidden:r,isViewMode:It(t)}}))((function(t){let{states:n,stakingState:a,isActive:o,isStatic:r,totalProfit:i,stakingHistory:s,tokens:c,tokenBySlug:l,theme:d,shouldUseNominators:u,isViewMode:m,isSensitiveDataHidden:p,onClose:f}=t;const{startStaking:h,startUnstaking:g,startStakingClaim:v,fetchStakingHistory:w,changeCurrentStaking:y}=Ke(),{id:b,tokenSlug:E,balance:k,annualYield:C=0,unstakeRequestAmount:N,type:S}=a??{},A=iu(a),T=a?"readyToClaim"===cu(a):void 0,I=de((()=>E?null==c?void 0:c.find((e=>{let{slug:t}=e;return E===t})):void 0),[E,c]),{decimals:B,symbol:_}=I??{},x=_r(),D=void 0===k,L=Boolean(null==s?void 0:s.length),{shouldRender:O,ref:M}=$s({isOpen:D&&o,withShouldRender:!0}),P=de((()=>null==c?void 0:c.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[c]),F=ve(),{height:R}=um(),U=Vf(d),{shouldRender:W,ref:H}=$s({isOpen:!p,withShouldRender:!0}),$="jetton"===(null==a?void 0:a.type)?a.unclaimedRewards:void 0;cg(F,N?3e4:void 0),ce((()=>{o&&w()}),[w,o]);const V=zo((()=>{null==f||f(),h()})),z=zo((()=>{null==f||f(),g()})),K=zo((()=>{null==f||f(),v()}));let q="0",j="0";k&&(q=(0,Pt.CF)(k,B).round(e.Vxu).toString(),j=(0,Pt.CF)(k,B).mul(C/100+1).round(e.Vxu).toString());const Y=zo((()=>{dc(e.lsx)})),[G,Q]=bk({tokenBySlug:l,states:n,shouldUseNominators:u,selectedStakingId:b,isViewMode:m});function X(){let t;if(A){let e="$unstaking_when_receive_with_amount";"ethena"===S?e="$unstaking_when_receive_with_amount_ethena":"nominators"===S&&(e="$unstaking_when_receive"),t=x(e,{time:ge.createElement("strong",null,(0,ha.YG)(x.code,A)),amount:ge.createElement("strong",null,ur((0,Pt.nI)(N??0n,B),_).replace(" "," "))})}return ge.createElement("div",{className:xr(_k.unstakeTime,_k.unstakeTime_purple)},ge.createElement(of,{play:o,size:e.wg4,className:_k.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:_p[U].iconClockPurple,previewUrl:_p[U].preview.iconClockPurple}),ge.createElement("div",null,t))}const J=xr(_k.stakingInfo,!r&&_k.stakingInfo_modal,!L&&_k.stakingInfoNoHistory,r&&"staking-info"),Z=zo((e=>{null==f||f(),y({stakingId:e,shouldReopenModal:!r})})),ee=Ek([r,b],!r);return ge.createElement(xf,{name:"fade",activeKey:ee,shouldCleanup:!0,className:_k.stakingTransition,slideClassName:r?"staking-info":void 0},ge.createElement(ge.Fragment,null,ge.createElement("div",{className:J},!r&&ge.createElement(tg,{title:x("Staking"),closeClassName:_k.stakingInfoClose,onClose:f}),ge.createElement(Bk,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:x("Currently Staked"),zeroValue:"...",value:q,decimals:B,className:_k.stakingBalance,labelClassName:_k.balanceStakedLabel,valueClassName:_k.balanceStakedResult},ge.createElement("div",{className:_k.stakingInfoLoading},O&&ge.createElement(fv,{ref:M,className:_k.stakingInfoLoadingAnimation})),ge.createElement(Sk,{selectedToken:G,allTokens:Q,theme:"purple",onChange:Z})),N&&N>0n&&"ethena"!==S?X():ge.createElement(ge.Fragment,null,ge.createElement(Bk,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:x("Est. balance in a year"),zeroValue:"...",value:j,decimals:B,suffix:_,labelClassName:_k.balanceStakedLabel,valueClassName:_k.balanceResult}),"ethena"===S&&!T&&!!N&&X(),!m&&ge.createElement("div",{className:xr(_k.stakingInfoButtons,"ethena"===S&&_k.stakingInfoButtonsAdaptiveWidth,!!$&&_k.stakingInfoButtonsWithMargin)},ge.createElement(js,{className:_k.stakingInfoButton,isPrimary:!0,isDisabled:D,onClick:V},x("Stake More")),("ethena"!==S||!T)&&ge.createElement(js,{className:_k.stakingInfoButton,isDisabled:D,onClick:z},x("ethena"===S?"Request Unstaking":"Unstake")),T&&ge.createElement(js,{className:_k.stakingInfoButton,isDisabled:D,onClick:K},x("Unstake %amount%",{amount:p?`*** ${_}`:ur((0,Pt.nI)(N,B),_,2)}))),!m&&"ethena"===S&&ge.createElement(js,{isText:!0,className:_k.checkEligibilityButton,onClick:Y},x("Check eligibility for max APY")),!!$&&function(){const e=(0,Pt.nI)($,B);return ge.createElement(ge.Fragment,null,ge.createElement(Bk,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:x("Accumulated Rewards"),zeroValue:"...",value:e,decimals:B,suffix:_,labelClassName:_k.balanceStakedLabel,valueClassName:_k.balanceResult}),!m&&ge.createElement("div",{className:_k.stakingInfoButtons},ge.createElement(js,{className:_k.stakingInfoButton,isDisabled:D,onClick:K},x("Claim"))))}())),L&&ge.createElement("div",{className:xr(_k.history,r&&_k.history_static)},W&&ge.createElement("div",{ref:H,className:_k.historyTotal},x("$total",{value:ge.createElement("span",{className:_k.historyTotalValue},ur((0,Pt.nI)(i),e.Tu9.symbol))})),ge.createElement("div",{className:_k.historyTitle},x("Earning History")),ge.createElement("div",{className:xr(_k.historyList,r&&_k.historyList_static,r&&"custom-scroll",!r&&R>=640&&"custom-scroll")},null==s?void 0:s.map((e=>ge.createElement(Wk,{key:e.timestamp,profit:e.profit,timestamp:e.timestamp,tonToken:P,isSensitiveDataHidden:p})))))))}))),$k=fe(je((e=>{const t=e.currentAccountId,n=t?Ba(e,t):void 0,a=t?Ia(e,t):void 0;return{tokenSlug:null==a?void 0:a.tokenSlug,hasHistory:Boolean(null==n?void 0:n.length)}}))((function(t){let{isOpen:n,tokenSlug:a,hasHistory:o,onClose:r}=t;const{fetchStakingHistory:i}=Ke(),s=a!==e.Tu9.slug;return ce((()=>{n&&i()}),[i,n]),ge.createElement(ac,{isOpen:n,contentClassName:xr(_k.stakingInfoModalContent,s&&_k.withBackground),nativeBottomSheetKey:"staking-info",onClose:r,forceFullNative:o},ge.createElement(Hk,{isActive:n,onClose:r}))})));function Vk(){return Vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vk.apply(null,arguments)}const zk=new Set([Un.UnstakeInitial,Un.UnstakePassword,Un.UnstakeConnectHardware,Un.UnstakeConfirmHardware,Un.UnstakeComplete]),Kk=new Set([Un.UnstakePassword,Un.UnstakeConnectHardware,Un.UnstakeConfirmHardware]),qk=fe(je((t=>{const n=t.currentAccountId,a=Wt(t),{baseCurrency:o=e.wOb,isSensitiveDataHidden:r}=t.settings,i=Ct(t,n),s=Ia(t,n),c="nominators"===(null==s?void 0:s.type);return{...t.currentStaking,tokens:a,baseCurrency:o,isNominators:c,theme:t.settings.theme,isMultichainAccount:i,stakingState:s,isSensitiveDataHidden:r,isViewMode:It(t)}}))((function(t){let{state:a,isViewMode:o,isLoading:r,error:i,tokens:s,baseCurrency:c,isNominators:l,isMultichainAccount:d,theme:u,amount:m,stakingState:p,isSensitiveDataHidden:f}=t;const{setStakingScreen:h,cancelStaking:g,clearStakingError:v,submitStakingInitial:w,submitStaking:y,fetchStakingHistory:b}=Ke(),{type:E,tokenSlug:k,balance:C}=p??{},N=_r(),S=zk.has(a),{gas:A,real:T}=ru(null==p?void 0:p.type).unstake,I=de((()=>null==s?void 0:s.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[s]),B=I&&I.amount>=A,_="liquid"===(null==p?void 0:p.type)?p.instantAvailable:void 0,x=de((()=>k?null==s?void 0:s.find((e=>{let{slug:t}=e;return t===k})):void 0),[k,s]);let D=!1,L=!1;const O=l,[M,P]=ie(O?C:void 0),[F,R]=ie(void 0),U=iu(p),W=p?du(p,M):void 0,[H,$]=ie(U??Date.now()+e.NFS),V=ve(),z=Vf(u),{renderingKey:K,nextKey:q,updateNextKey:j}=yv(a,S),Y=!B||L||!M;ce((()=>{S&&(b(),P(O?C:void 0))}),[S,b,O,C]),Ee((()=>{U&&$(U)}),[U]),i===Pa.KL.InsufficientBalance&&(L=!0);const G=zo((()=>{H<Date.now()&&b(),V()}));cg(G,3e4);const Q=zo((()=>{a===Un.UnstakePassword&&h({state:Un.UnstakeInitial})})),X=zo((()=>{w({isUnstaking:!0,amount:M})})),J=zo((e=>{R(m),y({password:e,isUnstaking:!0})})),Z=zo((()=>{R(m),y({isUnstaking:!0})}));void 0!==M&&(M<0?D=!0:(!C||M>C)&&(D=!0,L=!0));const ee=hk({amount:M,token:x,baseCurrency:c,isAmountReadonly:O,onAmountChange:P}),te=de((()=>x&&[x]),[x]),ne=ue((e=>{const t=L?0:B?_?2:3:1;let n=x?N("$fee_value",{fee:ge.createElement(tb,{terms:{native:T},precision:"approximate",token:x})}):"";return x&&(L?n=ge.createElement("span",{className:_k.balanceError},N("Insufficient balance")):B?_&&(n=N("$unstake_up_to_information",{value:ur((0,Pt.nI)(_,x.decimals),x.symbol)})):n=ge.createElement("span",{className:_k.balanceError},N("$insufficient_fee",{fee:ur((0,Pt.CF)(A),(null==I?void 0:I.symbol)??"")}))),ge.createElement(xf,{className:xr(_k.amountBottomRight,e),slideClassName:_k.amountBottomRight_slide,name:"semiFade",activeKey:t},n)}),[_,L,B,N,null==I?void 0:I.symbol,A,T,x]);function ae(){const t="ethena"===E?rr(N("$unstaking_when_receive_ethena")):N("$unstaking_when_receive",{time:ge.createElement("strong",null,(0,ha.YG)(N.code,H))});return ge.createElement("div",{className:xr(_k.unstakeTime)},ge.createElement(of,{play:S,size:e.wg4,className:_k.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:_p[z].iconClockGray,previewUrl:_p[z].preview.iconClockGray}),ge.createElement("div",null,t))}function oe(t,a,s){switch(s){case Un.UnstakeInitial:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:N("$unstake_asset",{symbol:null==x?void 0:x.symbol}),onClose:g}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(Tk,Vk({},ee,{labelText:N("Amount to unstake"),maxAmount:C,token:x,allTokens:te,hasError:D,isMaxAmountLoading:void 0===C||!x,isMaxAmountAllMode:!0,isSensitiveDataHidden:f,renderBottomRight:ne})),function(){const e=!L&&M;return ge.createElement(xf,{name:"fade",activeKey:e?W?2:1:0,className:_k.unstakeInfoTransition},e?W?ae():ge.createElement("div",{className:_k.unstakeInfo},N("$unstake_information_instantly")):void 0)}(),!o&&ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,isLoading:r,isDisabled:Y,onClick:X},N("Unstake")))));case Un.UnstakePassword:return function(t){return ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:N("Confirm Unstaking"),onClose:g}),ge.createElement(Hf,{isActive:t,isLoading:r,withCloseButton:e.UMQ,operationType:"unstaking",error:i,placeholder:"Confirm operation with your password",submitLabel:N("Confirm"),cancelLabel:N("Back"),onSubmit:J,onCancel:Q,onUpdate:v,skipAuthScreen:!0},function(){if(x&&M)return ge.createElement(Xb,{tokenIn:x,withChainIcon:d,color:"green",text:ur((0,Pt.nI)(M,x.decimals),x.symbol),className:il()?void 0:_k.transactionBanner})}()))}(t);case Un.UnstakeConnectHardware:return ge.createElement(Hv,{isActive:t,onConnected:Z,onClose:g});case Un.UnstakeConfirmHardware:return ge.createElement(Iv,{text:N("Please confirm operation on your Ledger"),error:i,onClose:g,onTryAgain:Z});case Un.UnstakeComplete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:(0,n.v3)()?N("Request is sent!"):N("ethena"===E?"Request for unstaking is sent!":"Coins have been unstaked!"),onClose:g}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(pk,{color:"ethena"!==E?"green":void 0,playAnimation:e,amount:F,tokenSymbol:null==x?void 0:x.symbol,decimals:null==x?void 0:x.decimals,noSign:!0}),W&&ae(),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:g,isPrimary:!0},N("Close")))))}(t)}}return ge.createElement(ac,{isOpen:S,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:_k.modalDialog,nativeBottomSheetKey:"unstake",forceFullNative:Kk.has(K),onClose:g,onCloseAnimationEnd:j},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:K,nextKey:q,onStop:j},oe))}))),jk=fe(je((e=>({isAppUpdateAvailable:e.isAppUpdateAvailable,newAppVersion:e.latestAppVersion,isAppUpdateRequired:e.isAppUpdateRequired})))((function(t){let{isAppUpdateAvailable:a,newAppVersion:o,isAppUpdateRequired:r}=t;const i=_r(),{shouldRender:s,ref:c}=$s({isOpen:e.VL7&&a||r,withShouldRender:!0});if(s)return ge.createElement("button",{ref:c,type:"button",className:"eU8arlH4",onClick:()=>{var t;n.u2?window.location.reload():dc((t=o,e.VL7?t?`${e.V3_}/releases/download/v${encodeURIComponent(t||"")}/${encodeURIComponent(e.C39)}.apk`:"https://github.com/mytonwallet-org/mytonwallet/releases/latest":n.xy?`${e.W1_}android-store`:n.ZH?`${e.W1_}ios`:n.iF?`${e.W1_}${n.pr?"edge-extension":"chrome-extension"}`:e.v5B?`${e.W1_}firefox-extension`:e.W1_),{isExternal:!0})}},ge.createElement("i",{className:xr("icon icon-download-filled","X9C5VDdJ"),"aria-hidden":!0}),i("Update %app_name%",{app_name:e.C39}))})));function Yk(e,t){return e.reduce(((e,n)=>e+n.parts.reduce(((e,n)=>e+(t.includes(n.status)?n.amount:0)),0)),0).toString()}const Gk="WYLJUay4",Qk="af6G76Qu",Xk=fe(je((e=>{const t=ct(e),{info:n,unfreezeRequestedIds:a}=(null==t?void 0:t.vesting)||{};return{isOpen:e.isVestingModalOpen,isViewMode:It(e),vesting:n,isUnfreezeRequested:Boolean(null==a?void 0:a.length),mycoin:Kt(e),theme:e.settings.theme}}))((function(t){let{isOpen:n,isViewMode:a,isUnfreezeRequested:o,vesting:r,mycoin:i,theme:s}=t;const{fetchStakingHistory:c,closeVestingModal:l,startClaimingVesting:d}=Ke(),u=_r(),m=ve(),p=de((()=>r?Yk(r,["frozen","ready"]):"0"),[r]),f=de((()=>r?Yk(r,["ready"]):"0"),[r]),h="0"===f,g=Vf(s);cg(m,o?3e4:void 0),ce((()=>{n&&c()}),[c,n]);const v=zo((()=>{d()}));if(i)return ge.createElement(ac,{isOpen:n,contentClassName:"Z3AdvY3j",nativeBottomSheetKey:"vesting-info",forceFullNative:!0,onClose:l},ge.createElement(ge.Fragment,null,ge.createElement("div",{className:"nmSXdbkU"},ge.createElement(tg,{title:u("Vesting"),className:"UGaC6iSp",closeClassName:"gj76sp0s",onClose:l}),ge.createElement(Bk,{labelText:u("Vesting Balance"),zeroValue:"...",value:p||"0",decimals:e.Vxu,suffix:"MY",className:Gk,labelClassName:Qk,valueClassName:"W2jkzSKT"}),o?ge.createElement("div",{className:"nOY_rRWD"},ge.createElement(of,{play:n,size:e.wg4,className:"B_mbvdNt",nonInteractive:!0,noLoop:!1,tgsUrl:_p[g].iconClockBlue,previewUrl:_p[g].preview.iconClockBlue}),ge.createElement("div",null,u("You will receive your unfrozen coins in a few minutes."))):ge.createElement(ge.Fragment,null,ge.createElement(Bk,{labelText:u("Ready to Unfreeze"),zeroValue:"...",value:f,decimals:e.Vxu,suffix:"MY",className:Gk,inputClassName:"laFaO54G",labelClassName:Qk,valueClassName:"Da5SKOto"}),!a&&ge.createElement("div",{className:"TDJhFbKs"},ge.createElement(js,{className:"q0MWzlSV",isPrimary:!0,isDisabled:h,onClick:h?void 0:v},u("Unfreeze"))))),ge.createElement("div",{className:"qVDajNe7"},ge.createElement("div",{className:"mwrjA2Wq"},u("Vesting Schedule")),ge.createElement("div",{className:xr("Gvf3taGj","custom-scroll")},null==r?void 0:r.map((function(e){return ge.createElement("div",{key:e.id,className:"N60lIj1U"},ge.createElement("div",{className:"aLa4cQLd"},ge.createElement("div",{className:"RlCMRY3O"},e.title),ge.createElement("div",{className:"A2xAIJdW"},u("%volume% in %amount% parts",{volume:ge.createElement("b",null,ur(e.initialAmount,i.symbol,i.decimals)),amount:e.parts.length.toString()}))),e.parts.map((e=>{const t="frozen"===e.status?"icon-snow":"missed"===e.status?"icon-missed":"unfrozen"===e.status?"icon-check":"icon-fire",n="frozen"===e.status?"Frozen":"missed"===e.status?"Missed":"unfrozen"===e.status?"Unfrozen":"Ready to Unfreeze",r=!a&&!o&&"ready"===e.status,s="frozen"===e.status?e.time:"ready"===e.status?e.timeEnd:void 0;return ge.createElement("div",{key:e.id,role:r?"button":void 0,className:xr("tbB7hrjM",e.status,r&&"Fi06J8yl"),onClick:r?v:void 0},ge.createElement("i",{className:xr("Bc1llfyb",t,e.status),"aria-hidden":!0}),ge.createElement("div",{className:"SkSkSLJA"},u(n),Boolean(s)&&ge.createElement("div",{className:"F8H8tP5h"},u("until %date%",{date:ge.createElement(ge.Fragment,null,ge.createElement("span",{className:"_7RDFG6sc"},(0,ha.TK)(u.code,s)),","," ",(0,ha.fU)(s))}))),ge.createElement("div",{className:xr("oTZtwcWo",e.status)},ur(e.amount,i.symbol,i.decimals)))})))}))))))}))),Jk=fe(je((e=>{const{addressByChain:t}=it(e,e.currentAccountId)||{},n=ct(e),a=pt(e),{isConfirmRequested:o,info:r,isLoading:i,error:s,unfreezeState:c}=(null==n?void 0:n.vesting)||{};return{isOpen:o,vesting:r,tokens:Wt(e),isLoading:i,error:s,address:null==t?void 0:t.ton,state:c,mycoin:Kt(e),isHardwareAccount:a,isMultichainAccount:Ct(e,e.currentAccountId)}}))((function(t){let{isOpen:n,vesting:a,tokens:o,isLoading:r,address:i,error:s,mycoin:c,state:l=Wn.Password,isHardwareAccount:d,isMultichainAccount:u}=t;const{submitClaimingVesting:m,cancelClaimingVesting:p,clearVestingError:f}=Ke(),h=_r(),{amount:g}=de((()=>null==o?void 0:o.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[o])||{},v=(0,Pt.CF)(e.aEZ),w=!g||g<e.aEZ,{renderingKey:y,nextKey:b,updateNextKey:E}=yv(l,Boolean(n)),k=!d&&!il(),C=de((()=>a?Yk(a,["ready"]):"0"),[a]),N=zo((e=>{w||m({password:e})})),S=zo((()=>{w||m()}));if(c)return ge.createElement(ac,{isOpen:n,title:k?h("Confirm Unfreezing"):void 0,hasCloseButton:k,forceFullNative:!0,nativeBottomSheetKey:"vesting-confirm",contentClassName:"TSf_GkYf",onClose:p},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:y,nextKey:b,onStop:E},A));function A(t,a,o){switch(o){case Wn.ConnectHardware:return ge.createElement(Hv,{isActive:t,onConnected:S,onClose:p});case Wn.ConfirmHardware:return ge.createElement(Iv,{text:h("Please confirm transaction on your Ledger"),error:s,onClose:p,onTryAgain:S});case Wn.Password:return ge.createElement(Hf,{isActive:Boolean(n),isLoading:r,withCloseButton:!0,operationType:"unfreeze",error:w?h("Insufficient Balance for Fee"):s,submitLabel:h("Confirm"),onSubmit:N,onCancel:p,onUpdate:f},function(){const t=xr("V5IIeyTC",!il()&&"ZROURKjf");return ge.createElement(ge.Fragment,null,ge.createElement(Xb,{tokenIn:c,withChainIcon:u,text:ur(C,c.symbol,c.decimals),className:il()?void 0:"pu3vP7ZP",secondText:i&&(0,jt.W)(i)}),ge.createElement("div",{className:t},rr(h("$fee_value_bold",{fee:ur(v,e.Tu9.symbol)}))))}())}}}))),Zk=[{name:"Multisend",fontIcon:"menu-multisend",value:"multisend"}];function eC(t){"multisend"===t&&(ul(),dc(e.JDR,{title:Ir("Multisend"),subtitle:Qo(e.JDR)}))}const tC="Ehn5yB9o",nC="ZXtTwJ2M",aC="wvOK88A2",oC="ow57IO0l";function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rC.apply(null,arguments)}const iC=fe((function(e){let{isOpen:t,onClose:n,title:a,...o}=e;const r=_r();return ge.createElement(ac,{isOpen:t,onClose:n,isCompact:!0,title:a??r("Blockchain Fee Details"),contentClassName:"ejEBAbV8"},ge.createElement(sC,rC({onClose:n},o)))}));function sC(e){let{onClose:t,fullFee:n,realFee:a,realFeePrecision:o="exact",excessFee:r,excessFeePrecision:i="exact",token:s,extraContent:c}=e;const l=s&&Zn(s.slug),d=l&&jn(l).nativeToken,u=_r();return ge.createElement(ge.Fragment,null,ge.createElement("div",null,ge.createElement("div",{className:"SpaIcYmy"},ge.createElement("div",{className:xr(tC,nC)},u("Final Fee")),ge.createElement("div",{className:xr(tC,aC)},u("Excess"))),ge.createElement("div",{className:"f8dLAhsP"},ge.createElement("div",{className:xr(oC,nC)},a&&s&&ge.createElement(tb,{terms:a,precision:o,token:s,shouldPreferIcons:!0})),ge.createElement("div",{className:xr(oC,aC)},void 0!==r&&s&&ge.createElement(tb,{terms:{native:r},precision:i,token:s,shouldPreferIcons:!0})))),ge.createElement("div",{className:"Tbn84o8Q"},ge.createElement("div",null,rr(u("$fee_details",{full_fee:n&&s&&ge.createElement("b",null,ge.createElement(tb,{terms:n,precision:"exact",token:s})),excess_symbol:ge.createElement("b",null,null==d?void 0:d.symbol),chain_name:null==l?void 0:l.toUpperCase()}))),c),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,className:Gs.button,onClick:t},u("Got It"))))}const cC={modalDialog:"tGUq61Uw",scrollContent:"m5XAGki9",amountInput:"SZC58ifv",amountInputBuy:"uBBR78Gi",inputLabel:"EeV5B584",amountInputInner:"L752Cv1F",advancedSlippageContainer:"jiH3u0SA",content:"dQUuISOK",inputContainer:"IkAedzyb",advancedSlippageButton:"nnFruaI2",swapButtonWrapper:"eEwTqlEP",swapButtonWrapperStatic:"z1UgQ2yi",swapButton:"hrHymNJu",footerBlock:"yPmfwG9j",footerBlockStatic:"Edk19FlP",dot:"ru4rAllW",advancedBlock:"dx6Hf2xp",advancedRow:"QPeOMoOM",advancedDescription:"YzXjxATB",advancedTooltip:"QdMU2Tgb",advancedTooltipContainer:"VGq4FFXS",advancedValue:"JTLP1WRv",advancedSlippageError:"NW_aag3U",advancedSlippage:"K4rGLITC",advancedInput:"uWjxL_tL",advancedInputValue:"Y_KEhiFS",isEmpty:"lP4fP0kG",advancedError:"X2kTDRkO",advancedLink:"NlT_I8kT",advancedLinkIcon:"A0XDmIY2",advancedPlaceholder:"vvtzW7L0",footerButtonWrapper:"_5_NPQXE0",footerButton:"qzfAPYMD",footerButtonInner:"Ns4lxltP",swapArrowIcon:"Vzdj7mTH",changellyInfo:"gCMqbJwS",priceImpact:"nwwHhwFa",feeLine:"vz3aF88G",priceImpactSticker:"YaZn9OUh",priceImpactContent:"UUOZvXZT",priceImpactTitle:"sbyrAyQC",priceImpactArrow:"cEk2aQ7Z",priceImpactDescription:"olGNOU3k",swapCornerTop:"csDd7Ni1",swapCornerBottom:"xyxUxtsY",swapCornerStaticTop:"B7ECmlJ1",swapCornerStaticBottom:"WuHn_HeC",selectBlockchainBlock:"prVCHnG1",inputAddressWrapper:"DTAq0std",inputAddress:"b7EwDSEo",blockchainHintWrapper:"ywkeppF2",changellyDescription:"V7p8St7r",blockchainHintText:"CBP3_LjF",blockchainHintTextError:"t2EtyAQD",inputButton:"IpN3STYq",inputButtonShifted:"xDE5m07O",changellyInfoStatic:"EvrCvWOD",priceImpactStatic:"eoiWwJ0m",changellyInfoTitle:"fwJQ9lpO",changellyInfoDescription:"Y38OidS3",changellyIcon:"ieB34P8k",changellyInfoBlock:"aQOSkXKG",blockchainButtons:"pQ9YM0ta",changellyTextField:"cTKYWTLL",textFieldWrapperFullWidth:"VR4c3lOH",changellyImportantRed:"M_DwJtlB",arrowContainer:"abK4XtWe",arrowContainerInverted:"OSP7z62u",arrow:"ZktBDvds",arrowNew:"Z8CqJe5c",arrowOld:"G_2MIwOh",animateDisappear:"PpIbnc8v","arrow-disappear":"VKHzIRP6",arrowDisappear:"VKHzIRP6",animateAppear:"STVPF9rF","arrow-appear":"igBksUDT",arrowAppear:"igBksUDT",transactionBanner:"T1jLnRBM",changellyDescriptionBold:"Vbj5MEAN",qrCode:"MuLyFrfU",qrCodeHidden:"Fn7oQpnQ",textFieldLabel:"ak6Vmppj"},lC=250+e.xB5,dC=fe((function(e){let{tokenIn:t,tokenOut:n,amountIn:a,amountOut:o,swapType:r,isEstimating:i,isSending:s,isNotEnoughNative:c,nativeToken:l,dieselStatus:d,isPriceImpactError:u,canSubmit:m,errorType:p,limits:f}=e;const h=_r(),g=void 0!==p,v=s&&r===Pn.CrosschainToWallet,w=!m||v,y=i||v,b={[Mn.UnexpectedError]:h("Unexpected Error"),[Mn.InvalidPair]:h("Invalid Pair"),[Mn.NotEnoughLiquidity]:h("Insufficient liquidity"),[Mn.ChangellyMinSwap]:h("Minimum amount",{value:pr((null==f?void 0:f.fromMin)??"0",(null==t?void 0:t.symbol)??"",null==t?void 0:t.decimals)}),[Mn.ChangellyMaxSwap]:h("Maximum amount",{value:pr((null==f?void 0:f.fromMax)??"0",(null==t?void 0:t.symbol)??"",null==t?void 0:t.decimals)}),[Mn.NotEnoughForFee]:h("Not Enough %symbol%",{symbol:null==t?void 0:t.symbol}),[Mn.TooSmallAmount]:h("$swap_too_small_amount")},E=Boolean(a||o);let k="$swap_from_to";E&&(g?k=b[p]:l&&(c&&"ton"===(null==t?void 0:t.chain)&&null!=t&&t.tokenAddress?"not-available"===d?k=h("Not Enough %symbol%",{symbol:"TON"}):"pending-previous"===d?k=h("Awaiting Previous Fee"):"not-authorized"===d&&(k=h("Authorize %token% Fee",{token:null==t?void 0:t.symbol})):c&&(k=h("Not Enough %symbol%",{symbol:null==l?void 0:l.symbol}))));const C=Array.isArray(k)?k.join(""):k,N=E&&!i&&(u||g||l&&c&&(!d||"not-available"===d||"pending-previous"===d)),S=me(0),A=function(e,t){const n=function(e,t,n){return lm((t=>{t(e())}),t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}((()=>e()),[e],t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return Rs(n,[n,e],!0)}(Rs((()=>{const e="$swap_from_to"===C?h("$swap_from_to",{from:null==t?void 0:t.symbol,icon:ge.createElement("i",{className:xr("icon-chevron-right",cC.swapArrowIcon),"aria-hidden":!0}),to:null==n?void 0:n.symbol}):C;return ge.createElement(xf,{name:"semiFade",className:cC.footerButtonWrapper,activeKey:S.current++},ge.createElement(js,{isPrimary:!0,isSubmit:!0,className:cC.footerButton,isDisabled:w,isLoading:y,isDestructive:N},ge.createElement("span",{className:cC.footerButtonInner},e)))}),[N,w,y,h,C,null==t?void 0:t.symbol,null==n?void 0:n.symbol]),lC);return Us(A)})),uC="mdHmid9q",mC="y7MeqLtP",pC="VF77TUMq",fC="sRFnXBUF",hC="e9qAwzfb",gC=i.p+"dedust.76618cc56dfd6341f305.png",vC=i.p+"stonfi.bf33a92c06cc67840d20.png",wC=/^\d{5,}([.,]|$)/,yC=fe(je((e=>({currentSwap:e.currentSwap,swapVersion:e.swapVersion})))((function(t){let{tokenIn:n,tokenOut:a,isStatic:o,currentSwap:{amountOut:r,amountIn:i,estimates:s,currentDexLabel:c,bestRateDexLabel:l,inputSource:d,ourFeePercent:u=e.YDh},swapVersion:m}=t;const{setSwapDex:p}=Ke(),f=_r(),[h,g,v]=rm(!1),[w,y]=ie(c),b=Vh(null!=s&&s.length?s:void 0,!0),E=Vh(c,!0),k=Vh(l,!0),C=Boolean(l&&l===w),N=C?f("Use Best Rate"):f("Switch to %dex_name%",{dex_name:w?e.S7e[w]:""}),S=!!(null!=s&&s.length&&a&&r&&i),{shouldRender:A,ref:T}=$s({isOpen:2===m&&S,withShouldRender:!0}),I=zo((()=>{w&&p({dexLabel:w}),v()})),{shouldRender:B,value:_}=de((()=>function(e){let{ourFeePercent:t,decimals:n,bestRateDexLabel:a,estimates:o,inputSource:r}=e;if(!o||o.length<2)return{shouldRender:!1,value:"0"};const i=o.find((e=>{let{dexLabel:t}=e;return t===a})),s=o.find((e=>{let{dexLabel:t}=e;return t!==a}));if(!s||!i)return{shouldRender:!1,value:"0"};const c=r===On.In,l=c?"toAmount":"fromAmount",d=Number(i[l])/100*t,u=((0,Pt.UH)(i[l],n)-(0,Pt.UH)(s[l],n))*(c?1n:-1n);return{shouldRender:u-(0,Pt.UH)(d,n)>0n,value:(0,Pt.nI)(u,n)}}({ourFeePercent:u,decimals:d===On.In?null==a?void 0:a.decimals:null==n?void 0:n.decimals,estimates:s,inputSource:d,bestRateDexLabel:k})),[k,s,d,u,null==n?void 0:n.decimals,null==a?void 0:a.decimals]),x=de((()=>{if(null!=b&&b.length&&!(b.length<2))return b.reduce(((t,o)=>{const{fromAmount:r,toAmount:i,dexLabel:s}=o,c=d===On.In?i:r,l=d===On.In?a:n;if(wC.test(c)){const n=function(t,n){const a=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Tu9.decimals;const a=Ik(n);return t.match(a)||void 0}(t,e.Vxu);if(!a)return;const[,o,r,i]=a,s=i||r?`.${(i||"").substring(0,e.Vxu)}`:"",c=o.replace(/\d(?=(\d{3})+($))/g,`$&${e.MS3}`);return ge.createElement(ge.Fragment,null,c,ge.createElement("span",{className:"jQ6cgMjD"},s," ",n.symbol))}(c,l);n&&(t[s]=n)}else t[s]=ur(c,l.symbol);return t}),{})}),[d,b,n,a]);if(!A||null==b||!b.length)return;const D=ge.createElement(ge.Fragment,null,k===E&&b.length>1&&ge.createElement("span",{className:"Er8PXP6e"},ge.createElement("span",{className:"IIv2eCYK"},f("Best Rate"))),f("via %dex_name%",{dex_name:ge.createElement("strong",null,e.S7e[E])}),b.length>1&&ge.createElement("i",{className:xr("icon-chevron-right","jDHaQfBV"),"aria-hidden":!0}));return 1===b.length?ge.createElement("div",{ref:T,className:uC},ge.createElement("div",{className:mC},ge.createElement("span",{className:xr("M5luQatq",o&&pC)},D))):ge.createElement("div",{ref:T,className:uC},ge.createElement("div",{className:mC},ge.createElement("button",{type:"button",className:xr("bmtS8v9y",o&&pC),onClick:function(){h?v():(y(c),g())}},D),ge.createElement(ac,{isOpen:h,isCompact:!0,title:f("Built-in DEX Aggregator"),onClose:v},ge.createElement("div",{className:"NlzL4Voz"},b.map((t=>function(t){const o=Pw(t.fromAmount,t.toAmount,n,a);return ge.createElement("div",{key:t.dexLabel,tabIndex:0,role:"button",className:xr("lL1VFeQA",k===t.dexLabel&&"AC6eCyuu",w===t.dexLabel&&"_F70O58C"),onClick:()=>{y(t.dexLabel)}},ge.createElement("div",{className:"YT_HY2ps"},ge.createElement("img",{src:"dedust"===t.dexLabel?gC:vC,alt:e.S7e[t.dexLabel],className:"V0Td82aA"}),e.S7e[t.dexLabel]),ge.createElement("div",{className:"J5iGiLKz"},null==x?void 0:x[t.dexLabel]),ge.createElement("div",{className:"JAHr4SCc"},o?ge.createElement(ge.Fragment,null,o.firstCurrencySymbol," ≈ ",o.price," ",o.secondCurrencySymbol):void 0),t.dexLabel===k&&ge.createElement("span",{className:"gq26TBf_"},f("Best")))}(t)))),ge.createElement("p",{className:xr(fC,!C&&hC)},rr(f("$swap_dex_chooser_rate_title"))),B&&(d===On.Out?ge.createElement("p",{className:xr(fC,!C&&hC)},rr(f("You will spend %amount% **less**.",{amount:ge.createElement("strong",null,ur(_,n.symbol))}))):ge.createElement("p",{className:xr(fC,!C&&hC)},rr(f("You will receive %amount% **more**.",{amount:ge.createElement("strong",null,ur(_,a.symbol))})))),ge.createElement("div",{className:xr(Gs.buttons,"IfkI_jwY")},ge.createElement(xf,{activeKey:C?0:1,name:"semiFade",slideClassName:"i8eq5QM3"},ge.createElement(js,{isPrimary:!0,className:xr(Gs.buttonFullWidth,C&&"MevYjouy"),onClick:I},N))))))})));function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bC.apply(null,arguments)}const EC=[.5,1,2,5,10],kC=fe(je((e=>{var t;const{tokenInSlug:n,amountIn:a,amountOut:o,networkFee:r,realNetworkFee:i,slippage:s,priceImpact:c,amountOutMin:l,ourFee:d,ourFeePercent:u,dieselStatus:m,dieselFee:p}=e.currentSwap,f=n?null===(t=Yn(Zn(n)))||void 0===t?void 0:t.nativeToken:void 0,h=f?Ht(e,f.slug):void 0;return{amountIn:a,amountOut:o,networkFee:r,realNetworkFee:i,swapType:la(e),tokenIn:sa(e),tokenOut:ca(e),slippage:s,priceImpact:c,amountOutMin:l,ourFee:d,ourFeePercent:u,dieselStatus:m,dieselFee:p,nativeTokenInBalance:h}}))((function(t){let{onClose:n,amountIn:a,amountOut:o,swapType:r,tokenIn:i,tokenOut:s,slippage:c,priceImpact:l,networkFee:d,realNetworkFee:u,amountOutMin:m,ourFee:p,ourFeePercent:f=e.YDh,dieselStatus:h,dieselFee:g,nativeTokenInBalance:v,showFullNetworkFee:w,onNetworkFeeClick:y}=t;const{setSlippage:b}=Ke(),E=_r(),k=r===Pn.OnChain,[C,N]=ie(c),S=(l??0)>=5,A=void 0===C?"Slippage not specified":C>50?"Slippage too high":"",T=zo((()=>{b({slippage:C}),n()})),I=zo((e=>{const t=e?Number(e):void 0;N(t)})),B=de((()=>Cu({swapType:r,tokenInSlug:null==i?void 0:i.slug,networkFee:d,realNetworkFee:u,ourFee:p,dieselStatus:h,dieselFee:g,nativeTokenInBalance:v})),[r,i,d,u,p,h,g,v]);return ge.createElement(ge.Fragment,null,k&&ge.createElement("div",{className:cC.advancedInput},function(){const e=EC.map(((e,t)=>ge.createElement("div",{key:e,className:cC.advancedSlippageButton},ge.createElement("div",{role:"button",tabIndex:0,onClick:()=>N(e),className:cC.balanceLink},e,"%"),t+1!==EC.length&&ge.createElement("i",{className:cC.dot,"aria-hidden":!0}))));return ge.createElement("div",{className:cC.advancedSlippageContainer},ge.createElement("span",{className:cC.advancedSlippage},e))}(),ge.createElement(VE,{labelText:ge.createElement(ge.Fragment,null,E("Slippage"),ge.createElement(SC,{isError:Boolean(A)},ge.createElement("span",null,E("$swap_slippage_tooltip1")),ge.createElement("span",null,E("$swap_slippage_tooltip2")))),labelClassName:cC.slippageLabel,value:null==C?void 0:C.toString(),hasError:Boolean(A),decimals:2,suffix:"%",size:"normal",onChange:I}),ge.createElement("div",{className:cC.advancedSlippageError},ge.createElement("span",null,E(A)))),ge.createElement("div",{className:cC.advancedBlock},function(){const e=Pw(a,o,i,s,!0);return ge.createElement("div",{className:cC.advancedRow},ge.createElement("span",{className:cC.advancedDescription},E("Exchange Rate")),ge.createElement("span",{className:cC.advancedValue},e?`${e.firstCurrencySymbol} ≈ ${e.price} ${e.secondCurrencySymbol}`:ge.createElement(NC,null)))}(),function(){const e=w?B.fullFee:B.realFee;let t=e&&i&&ge.createElement(tb,{terms:e.networkTerms,precision:e.precision,token:i});return t&&y&&(t=ge.createElement("span",{role:"button",tabIndex:0,className:cC.advancedLink,onClick:()=>y()},ge.createElement("span",null,t),ge.createElement("i",{className:xr("icon-chevron-right",cC.advancedLinkIcon),"aria-hidden":!0}))),ge.createElement("div",{className:cC.advancedRow},ge.createElement("span",{className:cC.advancedDescription},E("Blockchain Fee")),ge.createElement("span",{className:cC.advancedValue},t||ge.createElement(NC,null)))}(),B.shouldShowOurFee&&ge.createElement("div",{className:cC.advancedRow},ge.createElement("span",{className:cC.advancedDescription},E("Aggregator Fee"),ge.createElement(SC,null,ge.createElement("span",null,rr(E("$swap_aggregator_fee_tooltip",{percent:`${f}%`}))))),ge.createElement("span",{className:cC.advancedValue},void 0!==p?ur(p,(null==i?void 0:i.symbol)??"",void 0,!0):ge.createElement(NC,null))),r===Pn.OnChain&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:cC.advancedRow},ge.createElement("span",{className:xr(cC.advancedDescription,S&&cC.advancedError)},E("Price Impact"),ge.createElement(SC,{isError:Boolean(S)},ge.createElement("span",null,E("$swap_price_impact_tooltip1")),ge.createElement("span",null,E("$swap_price_impact_tooltip2")))),ge.createElement("span",{className:xr(cC.advancedValue,S&&cC.advancedError)},void 0!==l?`${l}%`:ge.createElement(NC,null))),ge.createElement("div",{className:cC.advancedRow},ge.createElement("span",{className:cC.advancedDescription},E("Minimum Received"),ge.createElement(SC,null,ge.createElement("span",null,E("$swap_minimum_received_tooltip1")),ge.createElement("span",null,E("$swap_minimum_received_tooltip2")))),ge.createElement("span",{className:cC.advancedValue},void 0!==m&&s?ur(m,s.symbol):ge.createElement(NC,null))))),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{className:Gs.button,onClick:n},E("Close")),k&&ge.createElement(js,{isPrimary:!0,isDisabled:Boolean(A),className:Gs.button,onClick:T},E("Save"))))})));function CC(e){let{isOpen:t,onClose:n,...a}=e;const o=_r();return ge.createElement(ac,{isOpen:t,onClose:n,isCompact:!0,title:o("Swap Details")},ge.createElement(kC,bC({onClose:n},a)))}function NC(){const e=_r();return ge.createElement("span",{className:cC.advancedPlaceholder},e("No Data"))}function SC(e){let{children:t,isError:n}=e;return ge.createElement(ge.Fragment,null," ",ge.createElement(qv,{message:t,size:"small",iconClassName:xr(cC.advancedTooltip,n&&cC.advancedError),tooltipClassName:cC.advancedTooltipContainer}))}const AC=fe(je((e=>{var t;const n=rt(e);return{currentSwap:e.currentSwap,tokens:ia(e),addressByChain:null==n?void 0:n.addressByChain,isMultichainAccount:Ct(e,e.currentAccountId),swapType:la(e),isSensitiveDataHidden:e.settings.isSensitiveDataHidden,pairsBySlug:null===(t=e.swapPairs)||void 0===t?void 0:t.bySlug}}),((e,t,n)=>n(e.currentAccountId)))((function(t){var n,a,o,r,i,s;let{currentSwap:{tokenInSlug:c,tokenOutSlug:l,amountIn:d,amountOut:u,errorType:m,isEstimating:p,networkFee:f,realNetworkFee:h,priceImpact:g=0,inputSource:v,limits:w,isLoading:y,dieselStatus:b,ourFee:E,ourFeePercent:k,dieselFee:C},addressByChain:N,tokens:S,isActive:A,isStatic:T,isMultichainAccount:I,swapType:B,isSensitiveDataHidden:_,pairsBySlug:x}=t;const{setDefaultSwapParams:D,setSwapAmountIn:L,setSwapAmountOut:O,switchSwapTokens:M,estimateSwap:P,setSwapScreen:F,setSwapCexAddress:R,authorizeDiesel:U,showNotification:W}=Ke(),H=_r(),$=me(),V=me(),z=c??e.Tu9.slug,K=l??e.rKC,q=de((()=>null==S?void 0:S.find((e=>e.slug===z))),[z,S]),j=de((()=>null==S?void 0:S.find((e=>e.slug===K))),[K,S]),Y=I||"ton"===(null==q?void 0:q.chain)?null===(n=Yn(null==q?void 0:q.chain))||void 0===n?void 0:n.nativeToken.slug:void 0,G=de((()=>null==S?void 0:S.find((e=>e.slug===Y))),[Y,S]),Q=(null==G?void 0:G.amount)??0n,X=d&&q?(0,Pt.UH)(d,q.decimals):void 0,J=u&&j?(0,Pt.UH)(u,j.decimals):void 0,Z=(null==q?void 0:q.amount)??0n,ee=de((()=>Cu({swapType:B,tokenInSlug:c,networkFee:f,realNetworkFee:h,ourFee:E,dieselStatus:b,dieselFee:C,nativeTokenInBalance:Q})),[B,c,f,h,E,b,C,Q]),te=Nu({swapType:B,tokenInBalance:Z,tokenIn:q,fullNetworkFee:null===(a=ee.fullFee)||void 0===a?void 0:a.networkTerms,ourFeePercent:k}),ne=function(e){var t;const{swapType:n,amountIn:a,tokenInBalance:o,nativeTokenInBalance:r,tokenIn:i,fullNetworkFee:s}=e;if(n===Pn.CrosschainToWallet)return!0;if(void 0===a||!i||void 0===o||void 0===r||!s)return;const c=null===(t=Yn(Zn(i.slug)))||void 0===t?void 0:t.nativeToken;if(!c)return;const l=Nu(e);if(void 0===l)return;const d=(0,Pt.UH)(a,i.decimals),u=(0,Pt.UH)(s.native??"0",c.decimals);return d<=l&&u<=r}({swapType:B,tokenInBalance:Z,tokenIn:q,fullNetworkFee:null===(o=ee.fullFee)||void 0===o?void 0:o.networkTerms,ourFeePercent:k,amountIn:d,nativeTokenInBalance:Q}),ae=void 0!==f&&G?(0,Pt.UH)(f,G.decimals):0n,oe=Q>=ae,re=ee.isGasless&&"not-authorized"===b,se=re||(X??0n)>0n&&(J??0n)>0n&&ne&&(!ee.isGasless||"available"===b||"stars-fee"===b)&&!p&&void 0===m,le=void 0!==X&&void 0!==te&&X>te,ue=(X??0n)<=0n&&v===On.In?"":null==u?void 0:u.toString(),pe=!1===ne&&!(void 0!==Z&&void 0!==X&&X>Z)&&"not-authorized"!==b&&"pending-previous"!==b,fe=g>=5,he=B===Pn.CrosschainFromWallet||B===Pn.CrosschainToWallet,[ve,we]=function(e,t,n,a,o,r){var i;const s=e||(null==t||null===(i=t[n])||void 0===i||null===(i=i[a])||void 0===i?void 0:i.isReverseProhibited);return[s,de((()=>s?()=>{ul(),o({message:r("$swap_reverse_prohibited")})}:void 0),[s,r,o])]}(he,x,z,K,W,H),ye=zo((()=>{(A&&!_l()||p)&&P()})),be=dm(L,[L],500,!0),Ee=dm(O,[O],500,!0),[ke,Ce,Ne,Se]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o]=ie();return[a,zo((()=>o("settings"))),de((()=>n?()=>o("feeDetails"):void 0),[n]),zo((()=>o(void 0)))]}(ee);ce((()=>{c||l||D()}),[c,l]),ce((()=>{p&&ye();const e=setInterval(ye,1e3);return()=>clearInterval(e)}),[p]);const Ae=zo((e=>{be({amount:e||void 0})})),Te=zo((()=>{F({state:Ln.SelectTokenFrom})})),Ie=zo((()=>{F({state:Ln.SelectTokenTo})})),Be=zo((e=>{Ee({amount:e||void 0})})),_e=zo((()=>{if(void 0===te)return;ul();const e=(0,Pt.nI)(te,q.decimals);L({amount:e,isMaxAmount:!0})})),xe=zo((e=>{if(Do(e),se)if(re)U();else{if(ul(),he)return R({toAddress:""}),void(B===Pn.CrosschainToWallet?F({state:Ln.Password}):I&&N[q.chain]&&N[j.chain]?(R({toAddress:N[j.chain]}),F({state:Ln.Password})):F({state:Ln.Blockchain}));F({state:Ln.Password})}})),De=zo((()=>{ul(),M()}));return ge.createElement(ge.Fragment,null,ge.createElement("form",{className:T?void 0:Gs.transitionContent,onSubmit:xe},ge.createElement("div",{className:cC.content},ge.createElement("div",{ref:$,className:cC.inputContainer},ge.createElement(kk,{maxAmount:te,token:q,isSensitiveDataHidden:_,onAmountClick:_e}),ge.createElement(VE,{id:"swap-sell",labelText:H("You sell"),className:cC.amountInput,hasError:le,value:null==d?void 0:d.toString(),isLoading:p&&v===On.Out,onChange:Ae,onPressEnter:xe,decimals:null==q?void 0:q.decimals,labelClassName:cC.inputLabel,inputClassName:cC.amountInputInner,cornerClassName:xr(cC.swapCornerTop,T&&cC.swapCornerStaticTop),isStatic:T},ge.createElement(TE,{token:q,onClick:Te}))),ge.createElement("div",{className:xr(cC.swapButtonWrapper,T&&cC.swapButtonWrapperStatic)},ge.createElement(TC,{onClick:De})),ge.createElement("div",{ref:V,className:cC.inputContainer},ge.createElement(VE,{id:"swap-buy",labelText:H("You buy"),className:cC.amountInputBuy,value:ue,isLoading:p&&v===On.In,disabled:ve,onChange:Be,onPressEnter:xe,onInputClick:we,decimals:null==j?void 0:j.decimals,labelClassName:cC.inputLabel,inputClassName:cC.amountInputInner,cornerClassName:xr(cC.swapCornerBottom,T&&cC.swapCornerStaticBottom),isStatic:T},ge.createElement(TE,{token:j,onClick:Ie})))),ge.createElement(yC,{tokenIn:q,tokenOut:j,isStatic:T}),ge.createElement("div",{className:xr(cC.footerBlock,T&&cC.footerBlockStatic)},function(){let e,t="exact";if(d&&u||(d||u)&&m){const n=pe?ee.fullFee:void 0;n&&({terms:e,precision:t}=n)}return ge.createElement(nb,{isStatic:T,terms:e,token:q,precision:t,keepDetailsButtonWithoutFee:!0,onDetailsClick:Ce,className:cC.feeLine})}(),function(){if(g&&fe&&!he)return ge.createElement("div",{className:xr(cC.priceImpact,T&&cC.priceImpactStatic),onClick:Ce},ge.createElement(of,{play:A,tgsUrl:_p.run,previewUrl:_p.runPreview,noLoop:!1,nonInteractive:!0,size:e.YO8,className:cC.priceImpactSticker}),ge.createElement("div",{className:cC.priceImpactContent},ge.createElement("span",{className:cC.priceImpactTitle},H("The exchange rate is below market value!",{value:`${g}%`}),ge.createElement("i",{className:xr(cC.priceImpactArrow,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("span",{className:cC.priceImpactDescription},H("We do not recommend to perform an exchange, try to specify a lower amount."))))}(),function(){if(he)return ge.createElement("div",{className:xr(cC.changellyInfo,T&&cC.changellyInfoStatic)},ge.createElement("span",{className:cC.changellyInfoTitle},ge.createElement("i",{className:xr("icon-changelly",cC.changellyIcon),"aria-hidden":!0}),H("Cross-chain exchange provided by Changelly")),ge.createElement("span",{className:cC.changellyInfoDescription},H("$swap_changelly_agreement_message",{terms:ge.createElement("a",{href:e.Kq_,target:"_blank",rel:"noreferrer"},H("$swap_changelly_terms_of_use")),policy:ge.createElement("a",{href:e.kuw,target:"_blank",rel:"noreferrer"},H("$swap_changelly_privacy_policy")),kyc:ge.createElement("a",{href:e.BZS,target:"_blank",rel:"noreferrer"},"Changelly AML/KYC")})))}(),ge.createElement(dC,{tokenIn:q,tokenOut:j,amountIn:d,amountOut:u,swapType:B,isEstimating:p,isNotEnoughNative:!oe,nativeToken:G,dieselStatus:b,isSending:y,isPriceImpactError:fe,canSubmit:se,errorType:m,limits:w}))),ge.createElement(CC,{isOpen:"settings"===ke,onClose:Se,onNetworkFeeClick:Ne,showFullNetworkFee:pe}),ge.createElement(iC,{isOpen:"feeDetails"===ke,onClose:Se,fullFee:null===(r=ee.fullFee)||void 0===r?void 0:r.networkTerms,realFee:null===(i=ee.realFee)||void 0===i?void 0:i.networkTerms,realFeePrecision:null===(s=ee.realFee)||void 0===s?void 0:s.precision,excessFee:ee.excessFee,excessFeePrecision:"approximate",token:q}))})));function TC(t){let{onClick:n}=t;const a=Ve().settings.animationLevel===e.zP3,[o,r,i]=rm(!1),s=zo((()=>{a&&(r(),window.setTimeout((()=>{i()}),350)),null==n||n()}));function c(e){return ge.createElement("div",{className:xr(cC.arrowContainer,e&&cC.arrowContainerInverted)},ge.createElement("div",{className:cC.arrow},ge.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),ge.createElement("div",{className:xr(cC.arrowOld,o&&cC.animateDisappear)},ge.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),ge.createElement("div",{className:xr(cC.arrowNew,o&&cC.animateAppear)},ge.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})))}return ge.createElement("div",{className:cC.swapButton,onClick:s},c(),c(!0))}function IC(e,t){const n=new TextDecoder("utf-8"),a=(new TextEncoder).encode(e).slice(0,t);return n.decode(a).replace(/\uFFFD/g,"")}const BC=[{value:"raw",name:"Comment or Memo"},{value:"encrypted",name:"Encrypted Message"}],_C=fe((function(e){let{comment:t,shouldEncrypt:n,binPayload:a,stateInit:o,chain:r,isStatic:i,isCommentRequired:s,isEncryptedCommentSupported:c,onCommentChange:l}=e;const{setTransferShouldEncrypt:d}=Ke(),u=_r(),m=zo((e=>{d({shouldEncrypt:"encrypted"===e})})),p=de((()=>c?BC:BC.slice(0,1)),[c]);return a||o?ge.createElement(ge.Fragment,null,a&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:eE},u("Signing Data")),ge.createElement(qy,{text:a,copyNotification:u("Data was copied!"),className:nE})),o&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:eE},u("Contract Initialization Data")),ge.createElement(qy,{text:o,copyNotification:u("Data was copied!"),className:nE})),ge.createElement("div",{className:iE},rr(u("$signature_warning")))):ge.createElement(sf,{wrapperClassName:oE,className:i?"RJsBtjCe":void 0,label:ge.createElement(xv,{items:p,selectedValue:BC[n?1:0].value,theme:"inherit",disabled:"tron"===r,menuPositionX:"left",shouldTranslateOptions:!0,onChange:m}),placeholder:u(s?"Required":"Optional"),value:t,isMultiline:!0,isDisabled:"tron"===r,onInput:l,isRequired:s})}));function xC(){return xC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xC.apply(null,arguments)}const DC=new Set([In.Initial,In.None]),LC=ha.Z2,OC=(0,l.sg)((e=>e()),500,!1),MC=fe(je((t=>{const{toAddress:n,resolvedAddress:a,toAddressName:o,amount:r,comment:i,shouldEncrypt:s,fee:c,realFee:l,tokenSlug:d,isLoading:u,state:m,nfts:p,binPayload:f,isMemoRequired:h,diesel:g,stateInit:v,scamWarningType:w}=t.currentTransfer,y=pt(t),b=ct(t),{baseCurrency:E=e.wOb,isSensitiveDataHidden:k}=t.settings,C=DC.has(m),N=Zn(d);return{toAddress:n,resolvedAddress:a,toAddressName:o,amount:r,comment:i,shouldEncrypt:s,fee:c,realFee:l,nfts:p,tokenSlug:d,binPayload:f,stateInit:v,tokens:Wt(t),savedAddresses:null==b?void 0:b.savedAddresses,isEncryptedCommentSupported:!(y||null!=p&&p.length||h),isMemoRequired:h,isActive:C,isLoading:u&&C,baseCurrency:E,currentAccountId:t.currentAccountId,accounts:at(t),nativeTokenBalance:Ht(t,Jn(N).slug),diesel:g,isDieselAuthorizationStarted:null==b?void 0:b.isDieselAuthorizationStarted,isMultichainAccount:Ct(t,t.currentAccountId),isMultisig:Nt(t,t.currentAccountId,N),isSensitiveDataHidden:k,scamWarningType:w,isAllowSuspiciousActions:Tt(t,t.currentAccountId)}}),((e,t,n)=>n(e.currentAccountId)))((function(t){var n,a,o,r,i;let{isStatic:s,slideClassName:c,tokenSlug:l,toAddress:d="",resolvedAddress:u,toAddressName:m="",amount:p,comment:f="",shouldEncrypt:h,tokens:g,fee:v,realFee:w,savedAddresses:y,accounts:b,nativeTokenBalance:E,currentAccountId:k,isEncryptedCommentSupported:C,isMemoRequired:N,isActive:S,isLoading:A,baseCurrency:T,nfts:I,binPayload:B,stateInit:_,diesel:x,isDieselAuthorizationStarted:D,isMultichainAccount:L,isMultisig:O,isSensitiveDataHidden:M,scamWarningType:P,isAllowSuspiciousActions:F}=t;const{submitTransferInitial:R,fetchTransferFee:U,fetchNftFee:W,changeTransferToken:H,setTransferAmount:$,setTransferToAddress:V,setTransferComment:z,setTransferShouldEncrypt:K,cancelTransfer:q,showDialog:j,authorizeDiesel:Y,fetchTransferDieselState:G,checkTransferAddress:Q,dismissTransferScamWarning:X}=Ke(),J=Boolean(null==I?void 0:I.length);J&&(l=e.Tu9.slug,p=void 0);const Z=_r(),ee=de((()=>null==g?void 0:g.find((e=>e.slug===l))),[l,g]),{amount:te,symbol:ne,chain:ae}=ee||{},oe=Vh(P,!0),re=me(!1),ie=l===e.Tu9.slug,se=ae?Ea(d,ae):void 0,le="ton"===ae,pe=Ek(null!=I&&I.length?I:[l]),fe=zo(((e,t)=>{t&&(re.current=!0),V({toAddress:e})})),he=!(d||f||B||h||(J?s:void 0!==p)),ve=de((()=>ma({fee:v,realFee:w,diesel:x,tokenSlug:l})),[v,w,x,l]),we=function(e){let{tokenBalance:t,nativeTokenBalance:n,transferAmount:a,fullFee:o,canTransferFullBalance:r}=e;if(void 0===a||void 0===t||void 0===n||!o)return;const i=a===t&&r,s=(o.token??0n)+(i?0n:a),c=o.native??0n;return s<=t&&c<=n}({tokenBalance:te,nativeTokenBalance:E,transferAmount:J?0n:p,fullFee:null===(n=ve.fullFee)||void 0===n?void 0:n.terms,canTransferFullBalance:ve.canTransferFullBalance}),ye=!J&&!p,be=pa({tokenBalance:te,tokenSlug:l,fullFee:null===(a=ve.fullFee)||void 0===a?void 0:a.terms,canTransferFullBalance:ve.canTransferFullBalance}),Ee="not-authorized"===(null==x?void 0:x.status),ke=Ee&&D?LC:void 0,Ce=zo((()=>{G({tokenSlug:l})}));cg(Ce,ke),ce((()=>{ie&&te&&p&&v&&p<te&&v<te&&p+v>=te&&$({amount:te-v})}),[ie,p,te,v]),ce((()=>{if(ye||!se)return;const e=()=>{J?W({toAddress:d,comment:f,nfts:I??[]}):U({tokenSlug:l,toAddress:d,comment:f,shouldEncrypt:h,binPayload:B,stateInit:_})};re.current?(re.current=!1,e()):OC(e)}),[ye,B,f,h,se,J,I,_,d,l]),ce((()=>{ea(ee)&&j({title:Z("Warning!"),message:Z("$service_token_transfer_warning"),noBackdropClose:!0})}),[Z,ee]);const Ne=zo((e=>{H({tokenSlug:e})}));function Se(){fe(""),Q({address:""}),$({amount:void 0}),z({comment:void 0}),K({shouldEncrypt:!1})}const Ae=zo((()=>{s?q({shouldReset:!0}):Se()})),Te=zo((()=>{X(),s?Se():q({shouldReset:!0})})),Ie=zo((()=>{re.current=!0})),Be=zo((e=>{z({comment:IC(e,5e3)})})),_e=!J&&void 0!==te&&void 0!==p&&p>te,xe=!1===we&&!_e&&"not-authorized"!==(null==x?void 0:x.status)&&"pending-previous"!==(null==x?void 0:x.status),De=!J&&void 0!==p&&(void 0!==be&&p>be||xe),Le=Boolean(d)&&N,Oe=Ee||Boolean(se&&!ye&&!De&&we&&!(Le&&!f)&&!O&&(!ve.isGasless||"available"===(null==x?void 0:x.status)||"stars-fee"===(null==x?void 0:x.status))&&!(J&&(null==I||!I.length))),Me=zo((e=>{e&&Do(e),P||(Ee?Y():Oe&&(ul(),R({tokenSlug:l,amount:p??0n,toAddress:d,comment:f,binPayload:B,shouldEncrypt:h,nfts:I,withDiesel:ve.isGasless,isGaslessWithStars:"stars-fee"===(null==x?void 0:x.status),stateInit:_})))})),[Pe,Fe,Re]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o,r]=rm(!1);return[a,n?o:void 0,r]}(ve),Ue=de((()=>(g??[]).filter((e=>function(e,t){return"lp_token"!==e.type||e.amount>0&&!e.isDisabled||e.slug===t}(e,l)))),[g,l]),We=hk({amount:p,token:ee,baseCurrency:T,onAmountChange:(e,t)=>{S&&(void 0!==e&&e<0||(t&&(re.current=!0),$({amount:e})))},onTokenChange:Ne}),He=ue((e=>{let t=0,n=" ";return O?(t=1,n=ge.createElement("span",{className:tE},Z("Multisig sending disabled"))):p&&(_e?(t=2,n=ge.createElement("span",{className:tE},Z("Insufficient balance"))):xe&&(t=3,n=ge.createElement("span",{className:tE},Z("Insufficient fee")))),ge.createElement(xf,{className:e,name:"fade",activeKey:t},n)}),[p,xe,_e,O,Z]);return ge.createElement(ge.Fragment,null,ge.createElement("form",{className:s?void 0:Gs.transitionContent,onSubmit:Me,onPaste:Ie},ge.createElement(xf,{activeKey:pe,name:"semiFade",direction:s&&!le?"inverse":void 0,shouldCleanup:!0,slideClassName:xr("TEJfM3gl",s&&"mfCYg0_s",c)},1===(null==I?void 0:I.length)&&ge.createElement(Fy,{nft:I[0],isStatic:s,withMediaViewer:!0}),Boolean(null==I?void 0:I.length)&&I.length>1&&ge.createElement(CE,{nfts:I,isStatic:s}),ge.createElement(mE,{label:Z("Recipient Address"),value:d,chain:ae,addressBookChain:J?"ton":void 0,currentAccountId:k,accounts:b,savedAddresses:y,validateAddress:Q,isStatic:s,withQrScan:!0,address:u||d,addressName:m,onInput:fe,onClose:q}),!J&&ge.createElement(Tk,xC({},We,{maxAmount:be,token:ee,allTokens:Ue,isStatic:s,hasError:De,isMultichainAccount:L,isMaxAmountLoading:void 0===be,isSensitiveDataHidden:M,renderBottomRight:He,onPressEnter:Me})),le&&ge.createElement(_C,{comment:f,shouldEncrypt:h,binPayload:B,stateInit:_,chain:ae,isStatic:s,isCommentRequired:Le,isEncryptedCommentSupported:C,onCommentChange:Be}),ge.createElement("div",{className:xr("yVExFE73",s&&"ton"!==ae&&"NGWUkuR3")},function(){let e,t="exact";if(!ye){const n=xe?ve.fullFee:ve.realFee;n&&({terms:e,precision:t}=n)}return ge.createElement(nb,{isStatic:s,terms:e,token:ee,precision:t,onDetailsClick:Fe})}(),ge.createElement("div",{className:"oMCN3Z8P"},ge.createElement(js,{isDisabled:he||A,className:rE,onClick:Ae},Z("Clear")),ge.createElement(js,{isPrimary:!0,isSubmit:!0,isDisabled:!Oe,isLoading:A,className:rE},"not-authorized"===(null==x?void 0:x.status)?Z("Authorize %token% Fee",{token:ne}):"pending-previous"===(null==x?void 0:x.status)?Z("Awaiting Previous Fee"):Z("$send_token_symbol",J?"NFT":ne||"TON")))))),ge.createElement(iC,{isOpen:Pe,onClose:Re,fullFee:null===(o=ve.fullFee)||void 0===o?void 0:o.terms,realFee:null===(r=ve.realFee)||void 0===r?void 0:r.terms,realFeePrecision:null===(i=ve.realFee)||void 0===i?void 0:i.precision,excessFee:ve.excessFee,excessFeePrecision:"approximate",token:ee}),ge.createElement(ac,{isOpen:Boolean(P),isCompact:!0,title:Z("Warning!"),noBackdropClose:!0,onClose:Te},ge.createElement("div",null,function(e,t){return t?e(t===Bn.DomainLike?"$domain_like_scam_warning":"$seed_phrase_scam_warning",{help_center_link:ge.createElement("a",{href:fk(e.code,t===Bn.DomainLike?"domainScam":"seedScam"),target:"_blank",rel:"noreferrer"},ge.createElement("b",null,e("$help_center_prepositional")))}):void 0}(Z,oe)),ge.createElement("div",{className:Gs.footerButtons},F?ge.createElement(ge.Fragment,null,ge.createElement(js,{className:Gs.button,onClick:Te},Z("Close")),ge.createElement(js,{isPrimary:!0,isDestructive:!0,className:Gs.button,onClick:X},Z("Continue"))):ge.createElement(js,{onClick:Te},Z("Close")))))}))),PC=e=>{let{elementRef:t,isMenuDisabled:a,shouldDisableOnLink:o,shouldDisableOnLongTap:r,shouldDisablePropagation:i}=e;const[s,c]=ie(!1),[l,d]=ie(void 0),[u,m]=ie(void 0),p=zo((e=>{a||2!==e.button||(0,k.RK)((()=>{_s(e.target,"no-selection")}))})),f=zo((e=>{(0,k.RK)((()=>{xs(e.target,"no-selection")})),a||o&&e.target.matches("a[href]")||(Do(e),l||(c(!0),d({x:e.clientX,y:e.clientY}),m(e.target),ul()))})),h=zo((()=>{c(!1)})),g=zo((()=>{d(void 0)})),v=zo((e=>{s&&Do(e)}));return ce((()=>{if(a||!n.TF||r)return;const e=t.current;if(!e)return;let s;const u=()=>{s&&(clearTimeout(s),s=void 0)},m=e=>{u(),v(e)},p=e=>{a||(i&&e.stopPropagation(),u(),s=window.setTimeout((()=>(e=>{u();const{clientX:t,clientY:a,target:r}=e.touches[0];l||o&&r.matches("a[href]")||(document.addEventListener("touchend",(e=>{n.pz&&n._7&&setTimeout((()=>{document.removeEventListener("mousedown",Do,{capture:!0}),document.removeEventListener("click",Do,{capture:!0})}),100),Do(e)}),{once:!0,capture:!0}),n._7&&n.pz&&(document.addEventListener("mousedown",Do,{once:!0,capture:!0}),document.addEventListener("click",Do,{once:!0,capture:!0})),c(!0),d({x:t,y:a}),ul())})(e)),200))};return e.addEventListener("touchstart",p,{passive:!0}),e.addEventListener("touchcancel",u,!0),e.addEventListener("touchend",u,!0),e.addEventListener("touchmove",m,!0),()=>{u(),e.removeEventListener("touchstart",p),e.removeEventListener("touchcancel",u,!0),e.removeEventListener("touchend",u,!0),e.removeEventListener("touchmove",m,!0)}}),[l,a,r,t,o,i]),{isContextMenuOpen:s,contextMenuAnchor:l,contextMenuTarget:u,handleBeforeContextMenu:p,handleContextMenu:f,handleContextMenuClose:h,handleContextMenuHide:g}};function FC(e){let{items:t,rootRef:n,onItemClick:a,children:o,menuClassName:r,menuPositionY:i="bottom"}=e;const s=me(),c=me(),{isPortrait:l}=hi(),d=zo((()=>s.current)),u=zo((()=>(null==n?void 0:n.current)??document.body)),m=zo((()=>c.current)),p=zo((()=>({withPortal:!0,doNotCoverTrigger:!0,centerHorizontally:!0}))),{isContextMenuOpen:f,contextMenuAnchor:h,handleBeforeContextMenu:g,handleContextMenu:v,handleContextMenuClose:w,handleContextMenuHide:y}=PC({elementRef:s,shouldDisablePropagation:!0}),b=zo((e=>{a(e)}));return ge.createElement(ge.Fragment,null,l&&ge.createElement(Hy,{isMenuOpen:f,contentRef:s,contentClassName:r}),o({ref:s,onMouseDown:g,onContextMenu:v},f),!!h&&ge.createElement(eg,{ref:c,withPortal:!0,shouldTranslateOptions:!0,isOpen:f,items:t,menuPositionY:i,menuAnchor:h,bubbleClassName:r,getTriggerElement:d,getRootElement:u,getMenuElement:m,getLayout:p,onSelect:b,onClose:w,onCloseAnimationEnd:y}))}const RC={container:"oiB1R7GB",tabs:"Sue0UN3j",notAllTabs:"QLxHVfeT",tab:"qUqbpDN6",active:"PSKCyspY",tab_purple:"Hw7rCAOU",tabPurple:"Hw7rCAOU",tab_purpleText:"Y4BNELoX",tabPurpleText:"Y4BNELoX",tabDelimiter:"CLfyAuI6",withContextMenu:"xFC2ES5I",tabDecoration:"SSnDTAfy",tabIcon:"nIk_Y_3d",tabText:"IfCQ498V",contentHeader:"LzaI7YWC",firstActive:"G0Sd_POg",contentHeaderInner:"rWtZ588N",lastActive:"Y80L38VI",contentBg:"ibE61V3n",contentFooter:"WvrNEDxt",contentSlideStaked:"F0M6K6CS","tab-0":"NmGloXOI",tab0:"NmGloXOI","tab-1":"S7XD0emA",tab1:"S7XD0emA",slideContent:"bTsglo_e",transitionContent:"YJuoqMiV",slideContentAddBuy:"QO6jMpRA",spinner:"KCsGLTLM",menu:"Q6q8HQcu"};function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},UC.apply(null,arguments)}const WC=[Vn.Receive,Vn.Transfer,Vn.Swap,Vn.Stake],HC={inactive:"Earn",active:"Earning",unstakeRequested:"$unstaking_short",readyToClaim:"$unstaking_short"},$C=fe(je((e=>{var t;const n=lt(e,e.currentAccountId)??{},{isOnRampDisabled:a}=e.restrictions;return{activeTabIndex:null==n?void 0:n.landscapeActionsActiveTabIndex,isTestnet:e.settings.isTestnet,isSwapDisabled:da(e),isStakingDisabled:_a(e),isOnRampDisabled:a,accentColorIndex:null===(t=ut(e))||void 0===t?void 0:t.accentColorIndex}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{containerRef:a,stakingStatus:o,isLedger:r,theme:i,activeTabIndex:s=e.Dde,isTestnet:c,isSwapDisabled:l,isOnRampDisabled:d,isStakingDisabled:u,accentColorIndex:m}=t;const{setLandscapeActionsActiveTabIndex:p}=Ke(),f=_r(),h=s===Vn.Stake&&"inactive"!==o,g=`transfer_slide_${ke()}`,{renderedBgHelpers:v,transitionRef:w}=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=me(),r=me(),i=me(),s=me(),c=zo((function(){var n,c;let l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const d=`.${e}.${Bf}`,u=a?" .staking-info":"",m=`${d} .${t}.${_f}, ${d} .${t}.${Bf}`,p=`.${e}.${_f}${u}, ${d}${u}`,f=((null===(n=o.current)||void 0===n?void 0:n.querySelector(m))||(null===(c=o.current)||void 0===c?void 0:c.querySelector(p))).getBoundingClientRect(),h=!s.current||l;s.current!==f.height&&r.current&&(0,k.RK)((()=>{if(!r.current||!i.current)return;const e=r.current.style,t=i.current.style;h&&(e.transition="none",t.transition="none"),e.transform=`scaleY(calc(${f.height} / 100))`,t.transform=`translateY(${Math.floor(f.height)}px)`,h&&(0,k.RK)((()=>{r.current&&i.current&&(r.current.style.transition="",i.current.style.transition="")})),s.current=f.height}))}));ce((()=>{c(!0);const e=new ResizeObserver((e=>{e.length&&c()}));return o.current&&e.observe(o.current),()=>{e.disconnect()}}),[c]);return{renderedBgHelpers:de((()=>ge.createElement(ge.Fragment,null,ge.createElement("div",{ref:r,className:xr(RC.contentBg,n)}),ge.createElement("div",{ref:i,className:xr(RC.contentFooter,n)}))),[n]),transitionRef:o}}(RC.slideContent,g,h?RC.contentSlideStaked:void 0,h),y=!c&&!d,b=l||u,E=u&&l&&s===Vn.Transfer||u&&!l&&s===Vn.Swap||!u&&s===Vn.Stake,[C,N,S]=rm(),[A,T,I]=rm(),[B,_,x]=rm(),[D,L,O]=rm(),M=Vf(i),P=_p[M],F=m?ph[M][m]:void 0,R=me(0);function U(e){switch(s){case Vn.Receive:return ge.createElement("div",{className:xr(RC.slideContent,RC.slideContentAddBuy)},ge.createElement(uk,{isOpen:e,isStatic:!0}));case Vn.Transfer:return ge.createElement("div",{className:xr(RC.slideContent,RC.slideContentTransfer)},ge.createElement(MC,{isStatic:!0,slideClassName:g}));case Vn.Swap:return ge.createElement("div",{className:RC.slideContent},ge.createElement(AC,{isStatic:!0,isActive:e}));case Vn.Stake:return ge.createElement("div",{className:RC.slideContent},ge.createElement("inactive"===o?Mk:Hk,{isStatic:!0,isActive:e}));default:return}}function W(e,t){n.TF&&t(),p({index:e},{forceOnHeavyAnimation:!0})}return Ee((()=>{R.current++}),[F]),ce((()=>{(l&&s===Vn.Swap||u&&s===Vn.Stake)&&p({index:Vn.Transfer})}),[s,c,r,l,u]),ge.createElement("div",{className:RC.container},ge.createElement("div",{className:xr(RC.tabs,b&&RC.notAllTabs)},ge.createElement("div",{className:xr(RC.tab,s===Vn.Receive&&RC.active),onMouseEnter:n.TF?void 0:N,onContextMenu:Do,onClick:()=>{W(Vn.Receive,N)}},ge.createElement(of,{play:C,size:e.lk4,speed:2,className:RC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:P.iconAdd,iconPreviewClass:"icon-action-add",onEnded:S}),ge.createElement("span",{className:RC.tabText},f(!l||y?"Add / Buy":"Add")),ge.createElement("span",{className:RC.tabDecoration,"aria-hidden":!0})),ge.createElement(FC,{items:Zk,rootRef:a,menuClassName:RC.menu,onItemClick:eC},(t=>{let{ref:a,...o}=t;return ge.createElement("div",UC({},o,{ref:a,className:xr(RC.tab,s===Vn.Transfer&&RC.active,RC.withContextMenu),onMouseEnter:n.TF?void 0:T,onClick:()=>{W(Vn.Transfer,T)}}),ge.createElement(of,{play:A,size:e.lk4,speed:2,className:RC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:P.iconSend,iconPreviewClass:"icon-action-send",onEnded:I}),ge.createElement("span",{className:RC.tabText},f("Send")),ge.createElement("span",{className:RC.tabDecoration,"aria-hidden":!0}),ge.createElement("span",{className:RC.tabDelimiter,"aria-hidden":!0}))})),!l&&ge.createElement("div",{className:xr(RC.tab,s===Vn.Swap&&RC.active),onMouseEnter:n.TF?void 0:_,onContextMenu:Do,onClick:()=>{W(Vn.Swap,_)}},ge.createElement(of,{play:B,size:e.lk4,speed:2,className:RC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:P.iconSwap,iconPreviewClass:"icon-action-swap",onEnded:x}),ge.createElement("span",{className:RC.tabText},f("Swap")),ge.createElement("span",{className:RC.tabDecoration,"aria-hidden":!0}),ge.createElement("span",{className:RC.tabDelimiter,"aria-hidden":!0})),!u&&ge.createElement("div",{className:xr(RC.tab,s===Vn.Stake&&RC.active,h&&RC.tab_purple,"inactive"!==o&&RC.tab_purpleText),onMouseEnter:n.TF?void 0:L,onContextMenu:Do,onClick:()=>{W(Vn.Stake,L)}},ge.createElement(of,{play:D,size:e.lk4,speed:2,className:RC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:P["inactive"!==o?"iconEarnPurple":"iconEarn"],iconPreviewClass:xr("icon-action-earn","inactive"!==o&&RC.tab_purpleText),onEnded:O}),ge.createElement("span",{className:RC.tabText},f(HC[o])),ge.createElement("span",{className:RC.tabDecoration,"aria-hidden":!0}),ge.createElement("span",{className:RC.tabDelimiter,"aria-hidden":!0}))),ge.createElement("div",{className:xr(RC.contentHeader,s===Vn.Receive&&RC.firstActive,E&&RC.lastActive)},ge.createElement("div",{className:xr(RC.contentHeaderInner,h&&RC.contentSlideStaked)})),v,ge.createElement(xf,{ref:w,name:"slideFade",activeKey:s,renderCount:WC.length,className:xr(RC.transitionContent,"static-container")},U))}))),VC="f9uDJdvE",zC="iQddp8Ac";function KC(){return KC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},KC.apply(null,arguments)}const qC=fe((function(t){let{isTestnet:n,stakingStatus:a,isStakingDisabled:o,isSwapDisabled:r,isOnRampDisabled:i,containerRef:s,onEarnClick:c}=t;const{startTransfer:l,startSwap:d,openReceiveModal:u}=Ke(),m=_r(),p=!n&&!i,f=e.TI6?"Receive":!r||p?"Add / Buy":"Add",h=zo((()=>{ul(),d()})),g=zo((()=>{ul(),l({isPortrait:!0})})),v=zo((()=>{ul(),u()})),w=zo((()=>{ul(),c()}));return ge.createElement("div",{className:"oAYeit4x"},ge.createElement("div",{className:"Xw7VtigI"},ge.createElement(js,{isSimple:!0,className:VC,onClick:v},ge.createElement("i",{className:xr(zC,"icon-action-add"),"aria-hidden":!0}),m(f)),ge.createElement(FC,{rootRef:s,items:Zk,menuClassName:"kJbEm897",onItemClick:eC},((e,t)=>ge.createElement(js,KC({},e,{isSimple:!0,className:xr(VC,t&&"s05GLla1"),onClick:g,ref:e.ref}),ge.createElement("i",{className:xr(zC,"icon-action-send"),"aria-hidden":!0}),m("Send")))),!r&&ge.createElement(js,{isSimple:!0,className:VC,onClick:h},ge.createElement("i",{className:xr(zC,"icon-action-swap"),"aria-hidden":!0}),m("Swap")),!o&&ge.createElement(js,{isSimple:!0,className:xr(VC,"inactive"!==a&&"DSist0sY"),onClick:w},ge.createElement("i",{className:xr(zC,"icon-action-earn"),"aria-hidden":!0}),m(HC[a]))))}));function jC(e,t){return e=(0,Ft.z)(e),t=(0,Ft.z)(t),e.minus(e.div(t.plus(1)))}function YC(t,n){const a=(0,c.dU)(n??[],"tokenSlug"),o=t.reduce(((t,n)=>{if(e.Svl.has(n.slug))return t;const o=a[n.slug];if(o){const e=(0,Pt.CF)(uu(o),n.decimals);t=t.plus(e.mul(n.price))}return t.plus(n.totalValue)}),(0,Ft.z)(0)),[r,i]=dr(o).split("."),s=t.reduce(((e,t)=>e.plus(jC(t.totalValue,t.change24h))),(0,Ft.z)(0)).round(4).toNumber(),l=Mr(o?s/(o.toNumber()-s)*100:0,2),d=s>0?"up":s<0?"down":void 0;return{primaryValue:o.toString(),primaryWholePart:r,primaryFractionPart:i,changePrefix:d,changePercent:l,changeValue:s}}function GC(e){const[t,n]=ie(!1);return cg((()=>{var t;const a=null===(t=ct(Ve()))||void 0===t?void 0:t[e];if(!a)return void n(!1);const o=Date.now()-a;n(o>2e3)}),1e3,!1),t}const QC=fe((function(e){let{className:t,noAnimation:n}=e;const a=ke("transparentMask-");return ge.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",className:t},ge.createElement("mask",{id:a},ge.createElement("rect",{width:"32",height:"32",fill:"black"}),ge.createElement("circle",{cx:"16",cy:"16",r:"16",fill:"white"}),ge.createElement("path",{d:"M17.375 8.87438C17.375 8.11563 16.7594 7.5 16 7.5C15.2406 7.5 14.625 8.11563 14.625 8.87438V16.0006C14.625 16.76 15.2406 17.375 16 17.375C16.7594 17.375 17.375 16.76 17.375 16.0006V8.87438Z",fill:"black"},!n&&ge.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"2s",repeatCount:"indefinite"})),ge.createElement("path",{d:"M17.375 11.985C17.375 11.2337 16.7594 10.625 16 10.625C15.2406 10.625 14.625 11.2337 14.625 11.985V16.015C14.625 16.7662 15.2406 17.375 16 17.375C16.7594 17.375 17.375 16.7662 17.375 16.015V11.985Z",fill:"black"},!n&&ge.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"12s",repeatCount:"indefinite"}))),ge.createElement("rect",{className:"avkqxacs",width:"32",height:"32",mask:`url(#${a})`}))})),XC=fe(je((t=>{const n=ct(t),{config:a}=ct(t)||{},o=t.settings.animationLevel;return{hasCardsInfo:Boolean(null==a?void 0:a.cardsInfo),isCardMinting:null==n?void 0:n.isCardMinting,noAnimation:o===e.dnp}}))((function(e){let{isCardMinting:t,hasCardsInfo:n,noAnimation:a}=e;const{openMintCardModal:o}=Ke(),r=_r(),{shouldRender:i,ref:s}=$s({isOpen:n||t,withShouldRender:!0});if(i)return ge.createElement("button",{ref:s,type:"button",className:"XUXxtxF8","aria-label":r("Mint Cards"),title:r("Mint Cards"),onClick:()=>o()},ge.createElement("i",{className:t?"icon-magic-wand-loading":"icon-magic-wand","aria-hidden":!0}),t&&ge.createElement(QC,{className:"uN651IGD",noAnimation:a}))})));let JC=0;const ZC=(0,l.Fe)((()=>{JC=0})),eN=fe((t=>{let{text:n,isDisabled:a}=t;const o=Ve().settings.animationLevel,{isRtl:r}=_r(),i=be(n),s=ve(),c=!(!(!a&&o===e.zP3&&void 0!==i&&i!==n)||JC>=10||(0===JC&&ZC(),JC++,0)),l=de((()=>c?function(e,t){const n=[],a=e.length,o=(null==t?void 0:t.length)??0;for(let r=0;r<=a;r++){const i=a-r,s=o-r;t&&s>=0&&e[i]!==t[s]?n.unshift(ge.createElement("div",{className:"o6dPPa5S"},ge.createElement("div",{className:"wT7hwE_a"},e[i]??""),ge.createElement("div",{className:"pSP5fUMh"},t[s]),ge.createElement("div",{className:"FtEeojTc"},e[i]??""))):n.unshift(ge.createElement("span",null,e[i]??""))}return n}(n,i):n),[c,i,n]);return ce((()=>{if(!c)return;const e=window.setTimeout((()=>{s()}),200);return()=>{window.clearTimeout(e)}}),[c,n]),ge.createElement("span",{className:xr(!a&&"UizaBW8F"),dir:r?"rtl":void 0},l)})),tN={containerWrapper:"wKxh3a3S",isLoading:"iGGNu8pc",center:"JhiFICIH",container:"DeiKNEF2",backstage:"Z0VKHxKs",tokenCard:"lPzc1tFZ",containerInner:"CJuAKeNp",balanceSlide:"_S0PhahZ",balanceTransition:"Q_lPdCwD",currencySymbol:"l0dhdAHZ",primaryValue:"_jSits6S",primaryFractionPart:"L4sI_b_K",iconCaret:"S_WiTJlv",iconCaretSmall:"AyZvbJo1",iconCaretFraction:"UPrAgVuY",currencySwitcher:"JRDSCLUm",currencySwitcherMenu:"ouGIASNp",addressContainer:"Hscx8f3y",addressLabel:"bU030X2g",icon:"Z4odaM4f",address:"xtFe1Hpt",menuItem:"DYEcCh8V",menuIcon:"reCfAfE0",menuItemName:"XG4JwTZX",menuFontIcon:"SR492iSb",menuExplorerIcon:"F5fuBEwJ",addressMenuBubble:"eqrUlhby",domainText:"FeL3tHeI",addressText:"W__Ag4Sn",separator:"x_DIVHjK",explorerButton:"a6nY4qXV",changeSpoiler:"u3xBtJOM",blurred:"VWmNqmzU",change:"p0ADnah2",changePrefix:"cuZcbnpx",chainIcon:"m2FMwrjB",multichainIcon:"f7vAJ3qA",tokenInfo:"bGU6MKkV",tokenLogo:"KjXvLECZ",tokenInfoHeader:"JX6roGM_",tokenInfoSubheader:"RxOFnjoX",tokenAmount:"eIbQBxJS",tokenName:"BnrECUAN",tokenValue:"FJv4OzYN",tokenChange:"GGm5XDND",tokenChangeSensitiveData:"f4V9saRa",tokenChangeSpoiler:"_12taTXqz",tokenTitle:"RmC9TfSK",tokenHistoryPrice:"_4dlU8cE",tokenCurrentPrice:"gV90_PgX",tokenPriceDate:"iPGWJEAe",apy:"NuM0o0NU",interactive:"qQdmiqxi",tokenExplorerButton:"OG4bpDUn",chart:"lKplVEJ6",chartImg:"RidGreTo",backButton:"rzhYg9wP",periodChooser:"fJhqjFVE",periodChooserHidden:"xPL1t22b",periodItem:"il0Zz8yE",periodItem_active:"fcYKEjig",periodItemActive:"fcYKEjig",periodInput:"PIahT0n2",loadingDotsContainer:"iRUbIPAX",cardCustomBackground:"A2ptDHpn",visible:"aEg2wczx",black:"ah_6og0J",platinum:"nnklDXWY",gold:"c4y77fMq",silver:"M9_HMKD7",borderShine_down:"VoOVf4tq",borderShineDown:"VoOVf4tq",borderShine_left:"dWc8MTsx",borderShineLeft:"dWc8MTsx",borderShine_up:"k8VOGUyt",borderShineUp:"k8VOGUyt",borderShine_right:"tqABUy73",borderShineRight:"tqABUy73"},nN=i.p+"multichain_account.18e8f6e7ee28b26527ba.svg",aN=fe(je((e=>{const{type:t,addressByChain:n,domainByChain:a}=it(e,e.currentAccountId)||{};return{addressByChain:n,domainByChain:a,isTestnet:e.settings.isTestnet,accountType:t}}))((function(e){let{addressByChain:t,domainByChain:a,isTestnet:o,accountType:r,withTextGradient:i}=e;const{showNotification:s}=Ke(),c=_r(),{isPortrait:l}=hi(),d=me(),u=me(),[m,p]=ie(),f=Boolean(m),h=de((()=>Object.keys(t||{})),[t]),g="hardware"===r,v="view"===r,w=c("View on Explorer"),y=de((()=>{const e=h[0]&&(null==a?void 0:a[h[0]]);if(!(h.length<2)||e)return h.map((e=>({value:t[e],address:(0,jt.W)(t[e],null!=a&&a[e]?4:void 0),...(null==a?void 0:a[e])&&{domain:a[e]},icon:$w(e),fontIcon:"copy",chain:e,label:c("View address on %ton_explorer_name%",{ton_explorer_name:Xo(e)}).join("")})))}),[t,a,h,c]),b=()=>{const{left:e,width:t,bottom:n}=d.current.getBoundingClientRect();p({x:e+t/2,y:n})},E=()=>{p(void 0)},k=zo((e=>{s({message:c("Address was copied!"),icon:"icon-copy"}),hl(e)})),C=zo(((e,t)=>{k(t),E()})),N=zo(((e,t)=>{s({message:c("Domain was copied!"),icon:"icon-copy"}),hl(t),E()})),S=zo(((e,t,n)=>{dc(er(t,n,o)),E()})),A=me(),T=zo((()=>{A.current&&clearTimeout(A.current),b()})),I=zo((()=>{A.current=window.setTimeout(E,150)})),B=zo((()=>d.current)),_=zo((()=>document.body)),x=zo((()=>u.current)),D=zo((()=>({withPortal:!0,centerHorizontally:l,preferredPositionX:"left",doNotCoverTrigger:l})));if(y){const e=h[0],t=null==a?void 0:a[e],o=1===h.length&&t?t:c("Multichain");return ge.createElement("div",{ref:d,className:tN.addressContainer},v&&ge.createElement("span",{className:tN.addressLabel},ge.createElement("i",{className:xr(tN.icon,"icon-eye-filled"),"aria-hidden":!0}),c("$view_mode")),g&&ge.createElement("i",{className:xr(tN.icon,"icon-ledger"),"aria-hidden":!0}),ge.createElement("button",{type:"button",className:xr(tN.address,i&&"gradientText"),onMouseEnter:n.TF?void 0:T,onMouseLeave:n.TF?void 0:I,onClick:b},h.length>1?ge.createElement("img",{src:nN,alt:"",className:tN.multichainIcon}):ge.createElement("img",{src:$w(e),alt:"",className:tN.chainIcon}),ge.createElement("span",{className:xr(tN.itemName,"itemName")},o),ge.createElement("i",{className:xr(tN.iconCaretSmall,"icon-caret-down"),"aria-hidden":!0})),ge.createElement(Jh,{menuRef:u,isOpen:f,type:"dropdown",withPortal:!0,getTriggerElement:B,getRootElement:_,getMenuElement:x,getLayout:D,anchor:m,bubbleClassName:tN.addressMenuBubble,noBackdrop:!n.TF,onMouseEnter:n.TF?void 0:T,onMouseLeave:n.TF?void 0:I,onClose:E},y.map(((e,t)=>{const n=xr(zh.item,t>0&&zh.separator,tN.menuItem);return ge.createElement("div",{key:e.value,className:n},y.length>1&&ge.createElement("img",{src:e.icon,alt:"",className:xr("icon",zh.itemIcon,tN.menuIcon)}),ge.createElement("span",{className:xr(zh.itemName,tN.menuItemName)},e.domain&&ge.createElement(ge.Fragment,null,ge.createElement("span",{tabIndex:0,role:"button",className:tN.domainText,onClick:t=>N(t,e.domain)},e.domain),ge.createElement("span",{className:tN.separator},"·")),ge.createElement("span",{tabIndex:0,role:"button",onClick:t=>C(t,e.value),className:e.domain&&tN.addressText},e.address),ge.createElement("i",{className:xr(`icon icon-${e.fontIcon}`,zh.fontIcon,tN.menuFontIcon),"aria-hidden":!0,onClick:t=>C(t,e.value)})),ge.createElement("i",{tabIndex:0,role:"button",className:xr(zh.close,"icon icon-tonexplorer-small",tN.menuExplorerIcon),"aria-label":e.label,onClick:t=>S(t,e.chain,e.value)}))}))))}const L=h[0];if(!L)return;const O=t[L],M=(null==a?void 0:a[L])||(0,jt.W)(O);return ge.createElement("div",{className:tN.addressContainer},v&&ge.createElement("span",{className:tN.addressLabel},ge.createElement("i",{className:xr(tN.icon,"icon-eye-filled"),"aria-hidden":!0}),c("$view_mode")),g&&ge.createElement("i",{className:xr(tN.icon,"icon-ledger"),"aria-hidden":!0}),ge.createElement("button",{type:"button",className:xr(tN.address,i&&"gradientText"),"aria-label":c("Copy wallet address"),onClick:()=>k(O)},ge.createElement("img",{src:$w(L),alt:"",className:tN.chainIcon}),M,ge.createElement("i",{className:xr(tN.icon,"icon-copy"),"aria-hidden":!0})),ge.createElement("a",{href:er(L,O,o),className:tN.explorerButton,title:w,"aria-label":w,target:"_blank",rel:"noreferrer noopener",onClick:mc},ge.createElement("i",{className:xr(tN.icon,"icon-tonexplorer-small"),"aria-hidden":!0})))}))),oN=fe(je((e=>({currentCurrency:e.settings.baseCurrency})))((function(t){let{isOpen:n,triggerRef:a,anchor:o,currentCurrency:r,excludedCurrency:i,menuPositionX:s,className:c,onClose:l,onChange:d}=t;const{changeBaseCurrency:u}=Ke(),m=me(),p=de((()=>Object.entries(e.yR2).filter((e=>{let[t]=e;return t!==i})).map((e=>{let[t,{name:n}]=e;return{value:t,name:n}}))),[i]),f=zo((e=>{l(),e!==r&&(u({currency:e}),null==d||d(e))})),h=zo((()=>a.current)),g=zo((()=>document.body)),v=zo((()=>m.current)),w=zo((()=>({withPortal:!0,centerHorizontally:!s,preferredPositionX:s||"left",doNotCoverTrigger:!0})));return ge.createElement(eg,{withPortal:!0,ref:m,isOpen:n,items:p,shouldTranslateOptions:!0,selectedValue:r,menuPositionX:s,menuAnchor:o,getTriggerElement:h,getRootElement:g,getMenuElement:v,getLayout:w,className:c,onClose:l,onSelect:f})}))),rN={root:"UUXTSSNb",sticky:"GydVN6zu",image:"GnuUYTcY",borderShine_down:"eZtdmQCz",borderShineDown:"eZtdmQCz",borderShine_left:"u_5j0LEw",borderShineLeft:"u_5j0LEw",borderShine_up:"DBu8v2wg",borderShineUp:"DBu8v2wg",borderShine_right:"iOyJF5OB",borderShineRight:"iOyJF5OB",borderShine_radioactive:"omctwMWw",borderShineRadioactive:"omctwMWw",shadow:"rm7OVuVh"},iN=fe((function(e){var t;let{isSticky:n,nft:a,noShowAnimation:o,shouldHide:r,onLoad:i,onTransitionEnd:s}=e;const{imageUrl:c}=bv(a?ar(a):void 0),[l,d]=rm(),u=Fp(o||l&&!r),{borderShineType:m,withTextGradient:p,classNames:f}=Ev(a),h=xr(rN.root,n&&rN.sticky,f,m&&rN[`borderShine_${m}`],l&&!r&&rN.loaded,r&&rN.hide),g="standard"===(null===(t=a.metadata)||void 0===t?void 0:t.mtwCardType);return ge.createElement("div",{ref:u,className:h,onTransitionEnd:s},c&&ge.createElement("img",{src:c,alt:a.name,className:rN.image,onLoad:function(){d(),null==i||i(p,f)}}),g&&ge.createElement("div",{className:rN.shadow}))})),sN=fe((function(e){let{isSticky:t,nft:n,onCardChange:a}=e;const o=me(void 0),r=ve();Ws((e=>{let[t,r]=e;(null==n?void 0:n.address)!==r&&(o.current=t),n||a(!1,void 0)}),[n,null==n?void 0:n.address]);const i=o.current,s=me(!0),c=n&&s.current;s.current=!1;const l=zo((()=>{o.current=void 0,r()}));return ge.createElement("div",{teactFastList:!0},i&&ge.createElement(iN,{key:i.address,isSticky:t,nft:i,shouldHide:!n,onTransitionEnd:l}),n&&ge.createElement(iN,{key:n.address,isSticky:t,nft:n,noShowAnimation:c,onLoad:a,onTransitionEnd:l}))})),cN={green:[80,135,51],orange:[173,84,54],pink:[154,60,144],purple:[104,48,149],red:[156,52,75],sea:[43,116,123],tegro:[3,93,229],blue:[47,108,173]},lN={[e.Tu9.slug]:"blue",[e.X7T.slug]:"red",[e.rUK]:"sea",[e.QSz]:"sea",[e.vsz]:"sea",[e.Bqy]:"green"};const dN=fe((function(e){let{width:t,height:n,prices:a,selectedIndex:o,className:r,imgClassName:i,onSelectIndex:s,isUpdating:c}=e;const l=_r(),d=de((()=>{const e=a.map((e=>{let[,t]=e;return t})),t=Math.min(...e),n=Math.max(...e);return{width:a.length-1,height:Math.max(1e-9,n-t),min:t}}),[a]),u=de((()=>{const e=t/d.width,o=n/d.height;return a.map(((t,n)=>{let[,a]=t;return{x:n*e+3,y:(a-d.min)*o+3}}))}),[d.height,d.min,d.width,n,t,a]);function m(e){const t=u.length-1,n=e<0?0:e>t?t:e,a=u[n],o=.9999,r=n/t,i=u[0],s=u[t].x-i.x,c=u[t].y-i.y;return{x:o*a.x+(1-o)*(i.x+r*s),y:o*a.y+(1-o)*(i.y+r*c)}}function p(e){const t=m(e),n=m(e-1),a=m(e-2);return`C ${(2*a.x+n.x)/3} ${(2*a.y+n.y)/3} ${(a.x+2*n.x)/3} ${(a.y+2*n.y)/3} ${(a.x+4*n.x+t.x)/6} ${(a.y+4*n.y+t.y)/6}`}function f(e){const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),{clientX:a}="touches"in e?e.touches[0]:e,o=a-t-n/u.length/2,r=Math.max(0,Math.min(Math.round(u.length*(o/n)),u.length-1));s(r)}function h(){s(-1),mo()}return ge.createElement("div",{className:r,onMouseMove:f,onMouseLeave:h,onTouchStart:function(e){f(e),uo()},onTouchMove:f,onTouchEnd:h,onTouchCancel:h},ge.createElement(xf,{activeKey:c?1:0,name:"semiFade",shouldCleanup:!0},ge.createElement("img",{src:function(){const e=u[o]||u[u.length-1];return`data:image/svg+xml;utf8,<svg viewBox="0 0 ${t+6} ${n+6}" height="${n+6}" width="${t+6}"\n        xmlns="http://www.w3.org/2000/svg" style="transform: scale(1,-1)">\n        <g fill="none" stroke="white">\n          <path stroke-linejoin="round" stroke-width="1.5" d="${function(){let e=u.reduce(((e,t,n)=>{const a=p(n);return 0===n?`M ${t.x} ${t.y} `:`${e} ${a} `}),"");return e+=p(u.length),e+=`L ${(t=u[u.length-1]).x} ${t.y}`,e;var t}()}" style="stroke-linecap: round" />\n          <circle r="2.5" fill="white" cx="${e.x}" cy="${e.y}" />\n        </g>\n      </svg>`}(),className:xr(i,c&&"glare-image"),alt:l("Currency History")})))})),uN=e.Kfi.map((e=>({value:e,name:"ALL"===e?"All":e}))),mN=fe(je((e=>{const t=ct(e);return{currentPeriod:null==t?void 0:t.currentTokenPeriod}}))((function(e){let{isOpen:t,currentPeriod:n,onClose:a,onChange:o}=e;const{setCurrentTokenPeriod:r}=Ke(),i=zo((e=>{a(),e!==n&&(ul(),r({period:e}),null==o||o(e))}));return ge.createElement(eg,{isOpen:t,onClose:a,items:uN,className:"Lfs6oB99",bubbleClassName:"EJsuJXfx",buttonClassName:"J7O_MmwF",selectedValue:n,menuPositionX:"right",onSelect:i})}))),pN=12e4,fN=5*ha.Z2,hN=e.Kfi[0],gN=fe(je(((e,t)=>{var n;const a=t.token.slug,o=ct(e),r=null===(n=e.tokenInfo.bySlug[a])||void 0===n?void 0:n.tokenAddress,i=Sa(e,e.currentAccountId);return{isTestnet:e.settings.isTestnet,period:null==o?void 0:o.currentTokenPeriod,baseCurrency:e.settings.baseCurrency,historyPeriods:e.tokenPriceHistory.bySlug[t.token.slug],tokenAddress:r,stakingStates:i,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(t){let{ref:a,isTestnet:o,token:r,classNames:i,period:s=hN,isUpdating:c,baseCurrency:l,historyPeriods:d,tokenAddress:u,stakingStates:m,isSensitiveDataHidden:p,onYieldClick:f,onClose:h}=t;const{loadPriceHistory:g}=Ke(),v=_r(),w=ve(),y=me(),[b,E]=ie(),[k,C,N]=rm(!1),S=void 0===l||l===r.symbol,A=hr(S?e.wOb:l),[T,I]=ie(-1);Ee((e=>{let[t]=e;n.pz&&void 0!==t&&ul()}),[T]);const{slug:B,symbol:_,amount:x,name:D,price:L,decimals:O}=r,{annualYield:M,yieldType:P,id:F}=de((()=>{if(!e.TI6)return null==m?void 0:m.reduce(((e,t)=>t.tokenSlug===B&&(!e||t.balance>e.balance)?t:e),void 0)}),[m,B])??{},R=zo((e=>{g({slug:B,period:e??s})})),U=zo((e=>{g({slug:B,period:s,currency:e})})),W=zo((()=>{E(void 0)}));cg(R,fN);const H=null==d?void 0:d[s],$=null!=H&&H.length?1e3*H[H.length-1][0]:void 0,V=null!=H&&H.length?H[H.length-1][1]:L,z=null==H?void 0:H[T],K=(null==z?void 0:z[1])??(S?V:void 0)??L,q=p?L:K,j=!$||Date.now()-$>pN,Y=z?(0,ha.mf)(v.code,1e3*z[0],!0,!0):j&&$?(0,ha.mf)(v.code,$,!0,!1):v("Now");lg(w,j?void 0:pN,[$]);const G=de((()=>{var e;return null==H||null===(e=H.find((e=>{let[,t]=e;return Boolean(t)})))||void 0===e?void 0:e[1]}),[H]),Q=(0,Pt.CF)(x,O).mul(K),X=Q.toString(),J=G&&K?K-G:0,Z=G&&q?jC(Q,G&&q?q/G-1:0).toNumber():0,ee=void 0===J?J:J>0?"↑":J<0?"↓":0,te=Z?Math.abs(Rt(Z,4)):0,ne=J?Math.abs(Rt(J/G*100,2)):0,ae=Boolean(void 0!==J),oe=null!=H&&H.length?new Date(1e3*H[0][0]):void 0,re=Boolean(r.cmcSlug||u),se=!(null!=H&&H.length)&&0===r.priceUsd,ce=de((()=>function(e){let t="blue",n=1/0;if(!e)return t;if(lN[e.slug])return lN[e.slug];if(!e.color)return t;const a=$p(e.color);return Object.entries(cN).forEach((e=>{let[o,r]=e;const i=function(e,t){const[n,a,o]=Vp(e),[r,i,s]=Vp(t),c=Math.sqrt(a*a+o*o),l=c-Math.sqrt(i*i+s*s),d=a-i,u=o-s,m=(n-r)/1,p=l/(1+.045*c),f=Math.sqrt(d*d+u*u-l*l)/(1+.015*c);return Math.sqrt(m*m+p*p+f*f)}(a,r);i<n&&(n=i,t=o)})),n>35?"blue":t}(r)),[r]);return ge.createElement("div",{ref:a,className:xr(tN.container,tN.tokenCard,i,ce,"token-card")},ge.createElement("div",{className:tN.tokenInfo},ge.createElement(js,{className:tN.backButton,isSimple:!0,onClick:h,ariaLabel:v("Back")},ge.createElement("i",{className:"icon-chevron-left","aria-hidden":!0})),ge.createElement(jw,{token:r,size:"x-large",className:tN.tokenLogo}),ge.createElement("div",{className:tN.tokenInfoHeader,ref:y},ge.createElement("b",{className:tN.tokenAmount},ge.createElement(ey,{isActive:p,maskSkin:"cardLightText",cols:10,rows:2,cellSize:8},ur((0,Pt.nI)(x,r.decimals),_))),ae&&ge.createElement("div",{className:tN.tokenValue},ge.createElement(ey,{isActive:p,maskSkin:"cardLightText",align:"right",cols:10,rows:2,cellSize:8},ge.createElement("div",{className:tN.currencySwitcher,role:"button",tabIndex:0,onClick:()=>{const{left:e,width:t,bottom:n}=y.current.getBoundingClientRect();E({x:e+t,y:n})}},"≈ ",ur(X,A,void 0,!0),ge.createElement("i",{className:xr("icon","icon-caret-down",tN.iconCaretSmall),"aria-hidden":!0})),ge.createElement(oN,{isOpen:Boolean(b),triggerRef:y,anchor:b,menuPositionX:"right",excludedCurrency:r.symbol,onClose:W,onChange:U})))),ge.createElement("div",{className:tN.tokenInfoSubheader},ge.createElement("span",{className:tN.tokenTitle},ge.createElement("span",{className:tN.tokenName},D),P&&ge.createElement("span",{className:xr(tN.apy,f&&tN.interactive),onClick:f?()=>f(F):void 0},P," ",Rt(M??0,2),"%")),ae&&Boolean(te)&&ge.createElement("div",{className:tN.tokenChange},ee," ",Math.abs(ne),"% ·",ge.createElement(ey,{isActive:p,align:"right",maskSkin:"cardLightText",cols:6,rows:2,cellSize:8,className:tN.tokenChangeSensitiveData,maskClassName:tN.tokenChangeSpoiler},ur(Math.abs(te),A))))),ge.createElement(xf,{activeKey:H?H.length?e.Kfi.indexOf(s)+1:-1:0,name:"fade"},H?null!=H&&H.length?ge.createElement(ge.Fragment,null,ge.createElement(dN,{className:tN.chart,imgClassName:tN.chartImg,width:300,height:64,prices:H,selectedIndex:T,onSelectIndex:I,isUpdating:c}),ge.createElement("div",{className:tN.tokenHistoryPrice},ur(H[0][1],A,2,!0),ge.createElement("div",{className:tN.tokenPriceDate},(0,ha.mf)(v.code,oe)))):void 0:ge.createElement("div",{className:xr(tN.isLoading)},ge.createElement(fv,{color:"white",className:tN.center}))),ge.createElement("span",{className:xr(tN.periodChooser,se&&tN.periodChooserHidden),role:"button",tabIndex:0,onClick:C},"ALL"===s?"All":s,ge.createElement("i",{className:xr("icon","icon-caret-down",tN.iconCaretSmall),"aria-hidden":!0}),ge.createElement(mN,{isOpen:k,onChange:R,onClose:N})),ge.createElement("div",{className:tN.tokenCurrentPrice},ur(K,A,-1===T?2:4,!0),ge.createElement("div",{className:tN.tokenPriceDate},Y,re&&function(){const e=function(e,t,n,a){if(t||n)return n?function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Go[e].explorer.replace("{base}",Jo(e,t))}(e,a).replace("{address}",n):`https://coinmarketcap.com/currencies/${t}/`}(r.chain,r.cmcSlug,u,o);if(!e)return;const t=v("Open on %ton_explorer_name%",{ton_explorer_name:Xo(r.chain)}).join("");return ge.createElement(ge.Fragment,null," · ",ge.createElement("a",{href:e,title:t,"aria-label":t,target:"_blank",rel:"noreferrer",className:tN.tokenExplorerButton,onClick:mc},ge.createElement("i",{className:"icon-tonexplorer-small","aria-hidden":!0})))}())))}))),vN=fe(je((e=>{const t=ct(e),n=Sa(e,e.currentAccountId),{cardBackgroundNft:a}=ut(e)||{};return{isViewMode:It(e),tokens:Wt(e),currentTokenSlug:null==t?void 0:t.currentTokenSlug,baseCurrency:e.settings.baseCurrency,stakingStates:n,cardNft:a,isSensitiveDataHidden:e.settings.isSensitiveDataHidden,isNftBuyingDisabled:e.restrictions.isNftBuyingDisabled}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{ref:a,tokens:o,currentTokenSlug:r,onTokenCardClose:i,onYieldClick:s,baseCurrency:c,stakingStates:l,isSensitiveDataHidden:d,isNftBuyingDisabled:u,cardNft:m,isViewMode:p}=t;const f=me(),h=hr(c),[g,v]=ie(void 0),[w,y]=ie(!1),{isPortrait:b}=hi(),{width:E}=um(),k=GC("balanceUpdateStartedAt"),{updateFontScale:C}=HE(f),N=b?E:0,[S,A]=ie(),T=Vh(de((()=>o?o.find((e=>e.slug===r)):void 0),[r,o]),!0),{shouldRender:I,ref:B}=$s({isOpen:Boolean(r),noMountTransition:!0,withShouldRender:!0}),_=function(e){const{mtwCardType:t,mtwCardTextType:n}=(null==e?void 0:e.metadata)||{};return"gold"===t?"cardGoldText":"silver"===t||"dark"===n?"cardDarkText":"cardLightText"}(m),x=()=>{const{left:e,width:t,bottom:n}=f.current.getBoundingClientRect();A({x:e+t/2,y:n})},D=zo((()=>{A(void 0)})),L=zo(((e,t)=>{v(t),y(e)})),O=de((()=>o?YC(o,l):void 0),[o,l]);Yi({isActive:Boolean(r),onBack:i}),ce((()=>I?qh(i):void 0),[I,i]);const{primaryValue:M,primaryWholePart:P,primaryFractionPart:F,changePrefix:R,changePercent:U,changeValue:W}=O||{};return le((()=>{void 0!==M&&C()}),[F,M,P,h,C,N]),ge.createElement("div",{ref:a,className:tN.containerWrapper},ge.createElement(xf,{activeKey:k?1:0,name:"fade",shouldCleanup:!0,className:tN.loadingDotsContainer},k?ge.createElement(Ks,{isActive:!0,isDoubled:!0}):void 0),ge.createElement("div",{className:xr(tN.container,r&&tN.backstage,g)},ge.createElement(sN,{nft:m,onCardChange:L}),ge.createElement("div",{className:xr(tN.containerInner,g)},O?function(){const e=xr("icon","icon-caret-down",F||h.length>1?tN.iconCaretFraction:tN.iconCaret),t=!k||n.Yw||n.pz;return ge.createElement(ge.Fragment,null,ge.createElement(xf,{ref:f,activeKey:k&&!d?1:0,name:"fade",shouldCleanup:!0,className:tN.balanceTransition,slideClassName:tN.balanceSlide},ge.createElement(ey,{isActive:d,maskSkin:_,rows:4,cols:14,cellSize:13,align:"center",maskClassName:tN.blurred},ge.createElement("div",{className:xr(tN.primaryValue,"rounded-font")},ge.createElement("span",{className:xr(tN.currencySwitcher,k&&"glare-text",!k&&w&&"gradientText"),role:"button",tabIndex:0,onClick:d?void 0:x},1===h.length&&ge.createElement("span",{className:tN.currencySymbol},h),ge.createElement(eN,{isDisabled:t,text:P??""}),F&&ge.createElement("span",{className:tN.primaryFractionPart},ge.createElement(eN,{isDisabled:t,text:`.${F}`})),h.length>1&&ge.createElement("span",{className:tN.primaryFractionPart}," ",h),ge.createElement("i",{className:e,"aria-hidden":!0}))))),ge.createElement(oN,{isOpen:Boolean(S),triggerRef:f,anchor:S,className:tN.currencySwitcherMenu,onClose:D}),"0"!==M&&ge.createElement(ey,{isActive:d,maskSkin:_,rows:2,cols:11,align:"center",cellSize:14,className:tN.changeSpoiler,maskClassName:tN.blurred},ge.createElement("div",{className:xr(tN.change,"rounded-font")},!!R&&ge.createElement(ge.Fragment,null,ge.createElement("i",{className:xr(tN.changePrefix,"up"===R?"icon-arrow-up":"icon-arrow-down"),"aria-hidden":!0}),ge.createElement(eN,{text:`${Math.abs(U)}%`})," · "),ge.createElement(eN,{text:ur(Math.abs(W),h)}))))}():ge.createElement("div",{className:xr(tN.isLoading)},ge.createElement(fv,{color:"white",className:tN.center})),ge.createElement(aN,{withTextGradient:w}),!e.TI6&&!u&&!p&&ge.createElement(XC,null))),I&&ge.createElement(gN,{token:T,ref:B,isUpdating:k,onYieldClick:p?void 0:s,onClose:i}))})));function wN(e,t){if(!e)return null;const n=function(e){return e?".app-slide-content":`.custom-scroll.${Bf}`}(t);return t?e.closest(n):e.matches(n)?e:e.querySelector(n)}function yN(e,t){return e&&t?".app-slide-content":void 0}const bN=fe((function(e){let{isOpen:t,selectedNftsToHide:n}=e;const{addNftsToBlacklist:a,closeNftCollection:o,closeHideNftModal:r}=Ke(),i=_r(),s=zo((()=>{a({addresses:n.addresses}),null!=n&&n.isCollection&&o(),r()}));return ge.createElement(ac,{isOpen:t,isCompact:!0,onClose:r,title:i("Hide NFTs")},ge.createElement("p",{className:Gs.text},null!=n&&n.isCollection?i("Are you sure you want to hide this NFT collection containing %number% NFTs?",{number:null==n?void 0:n.addresses.length}):i("Are you sure you want to hide these %number% NFTs?",{number:null==n?void 0:n.addresses.length})),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:r,className:Gs.button},i("Cancel")),ge.createElement(js,{isDestructive:!0,onClick:s,className:Gs.button},i("Hide"))))}));function EN(e,t,n,a){const{length:o}=e,r=a?e.indexOf(a):0,i=t===qn.Forwards?r:r+1||o,s=Math.max(0,i-n),c=i+n-1,l=e.slice(Math.max(0,s),c+1);let d,u;switch(t){case qn.Forwards:d=i>=0,u=s>=0;break;case qn.Backwards:d=i<o,u=c<=o-1}return{newViewportIds:l,areSomeLocal:d,areAllLocal:u,newIsOnTop:l[0]===e[0]}}const kN=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const l=me();if(!l.current&&t&&!a){const{newViewportIds:e,newIsOnTop:n}=EN(t,qn.Forwards,o,t[0]);l.current={viewportIds:e,isOnTop:n}}const d=ve(),u=bb(r),m=zo((()=>{if(null==t||!t.length)return;const{newViewportIds:e,newIsOnTop:n}=EN(t,qn.Forwards,o,t[0]);l.current={viewportIds:e,isOnTop:n}}));Ee((()=>{(r!==u||s&&!i)&&m()}),[i,u,r,s]);const p=be(t),f=be(a);if(!t||a||t===p&&a===f)t||(l.current=void 0);else{const{viewportIds:e,isOnTop:n}=l.current??{},{newViewportIds:a,newIsOnTop:r}=function(e,t,n,a){if(n)return a=Math.max(a,((null==t?void 0:t.length)??0)-1),EN(e,qn.Backwards,a,e[0]);let o=null==t?void 0:t[Math.round(t.length/2)];return o&&!e.includes(o)&&(o=e[0]),EN(e,qn.Forwards,a,o)}(t,e,n,o);e&&(0,c.k)(e,a)||(l.current={viewportIds:a,isOnTop:r})}const h=zo((n=>{let{direction:a}=n;if(!i)return;const{viewportIds:r}=l.current||{},s=r?a===qn.Backwards?r[r.length-1]:r[0]:void 0;if(!t)return void(e&&e({offsetId:s}));const{newViewportIds:u,areSomeLocal:m,areAllLocal:p,newIsOnTop:f}=EN(t,a,o,s);!m||r&&(0,c.k)(r,u)||(l.current={viewportIds:u,isOnTop:f},d()),!p&&e&&e({offsetId:s})}));return a?[t]:[null===(n=l.current)||void 0===n?void 0:n.viewportIds,h,m]},CN=(e,t,n)=>{const a=me();return le((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)},NN=".ListItem",SN=20,AN=800,TN=e=>{let{ref:t,style:a,className:o,items:r,itemSelector:i=NN,preloadBackwards:s=SN,sensitiveArea:c=AN,withAbsolutePositioning:d,maxHeight:u,noScrollRestore:m=!1,noScrollRestoreOnTop:p=!1,noFastList:f,cacheBuster:h,beforeChildren:g,scrollContainerClosest:v,children:w,onLoadMore:y,onScroll:b,onWheel:E,onClick:C,onKeyDown:N,onDragOver:S,onDragLeave:A}=e,T=me();t&&(T=t);const I=me({}),[B,_]=de((()=>y?[(0,l.sg)((()=>{y({direction:qn.Backwards})}),ha.Z2,!0,!1),(0,l.sg)((()=>{y({direction:qn.Forwards})}),ha.Z2,!0,!1)]:[]),[y,r]);ce((()=>{if(!B)return;if(s>0&&(!r||r.length<s))return void B();const e=v?T.current.closest(v):T.current,{scrollHeight:t,clientHeight:n}=e;n&&t<=n&&B()}),[r,B,s,v]),CN((e=>{let[t]=e;const a=v?T.current.closest(v):T.current,o=I.current,r=a.querySelectorAll(i);o.listItemElements=r,null!=t&&t.length&&(0,k.gm)((()=>{let e;if(o.currentAnchor&&Array.from(r).includes(o.currentAnchor)){const{scrollTop:t}=a,n=o.currentAnchor.getBoundingClientRect().top;e=t+(n-o.currentAnchorTop)}else{const e=r[0];e&&(o.currentAnchor=e,o.currentAnchorTop=e.getBoundingClientRect().top)}if(d||m)return;const{scrollTop:t}=a;return p&&0===t?void 0:()=>{((e,t)=>{n.pz&&(e.style.overflow="hidden"),void 0!==t&&(e.scrollTop=t),n.pz&&(e.style.overflow="")})(a,e),o.isScrollTopJustUpdated=!0}}))}),[r,i,m,p,h,d,v]);const x=zo((e=>{if(_&&B){const{isScrollTopJustUpdated:e,currentAnchor:t,currentAnchorTop:n}=I.current,a=I.current.listItemElements;if(e)return void(I.current.isScrollTopJustUpdated=!1);const o=a.length,r=v?T.current.closest(v):T.current,{scrollTop:i,scrollHeight:s,offsetHeight:l}=r,d=i<=(o?a[0].offsetTop:0)+c,u=(o?a[o-1].offsetTop+a[o-1].offsetHeight:s)-(i+l)<=c;let m=!1;if(d){const e=a[0];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o>n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,_())}}if(u){const e=a[o-1];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o<n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,B())}}if(!m)if(null!=t&&t.offsetParent)I.current.currentAnchorTop=t.getBoundingClientRect().top;else{const e=a[0];e&&(I.current.currentAnchor=e,I.current.currentAnchorTop=e.getBoundingClientRect().top)}}b&&b(e)}));return le((()=>{if(!v)return;const e=T.current.closest(v);if(!e)return;const t=e=>x(e);return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[x,v]),ge.createElement("div",{ref:T,className:o,onScroll:x,onWheel:E,teactFastList:!f&&!d,onKeyDown:N,onDragOver:S,onDragLeave:A,onClick:C,style:a},g,d&&null!=r&&r.length?ge.createElement("div",{teactFastList:!f,style:Pp("position: relative",n.Ni&&void 0!==u&&`height: ${u}`)},w):w)},IN="qI7nEtyA",BN="t2U79mme",_N="a2p7XeQH",xN="xJCALuqk";function DN(e){setTimeout((()=>{(0,k.RK)((()=>{e.classList.remove(_N,xN),e.style.opacity="",e.style.transform=""}))}),250)}const LN=function(e){let{topOffset:t,withAnimation:n,children:a}=e;const{ref:o}=function(e,t){const n=me();return CN((a=>{let[o]=a;const r=n.current;e&&r&&(void 0===o?(function(e){e.style.opacity="0",(0,k.RK)((()=>{e.classList.add(_N),e.style.opacity="1"}))}(r),DN(r)):t!==o&&(function(e,t){e.style.transform=`translate3d(0, ${-t}rem, 0)`,(0,k.RK)((()=>{e.classList.add(xN),e.style.transform=""}))}(r,t-o),DN(r)))}),[t,e]),{ref:n}}(n,t);return ge.createElement("div",{ref:o,style:`top: ${t}rem`,className:xr("ListItem","ebD9lZA7")},a)},ON={container:"k3PjQTgC",panel:"ZX_ET6v1",emptyList:"y3OrMGkQ",text:"W7PJUQAi",header:"vhx2gdHr",description:"iQxbUd1C"},MN=fe((function(t){let{isActive:n,isMutlichainAccount:a,mode:o}=t;const r=_r();return ge.createElement("div",{className:xr(ON.container,ON[o])},ge.createElement(of,{play:n,tgsUrl:_p.hello,previewUrl:_p.helloPreview,nonInteractive:!0,noLoop:!1,size:"emptyList"===o?e.igk:e.jzp}),ge.createElement("div",{className:ON.text},ge.createElement("p",{className:ON.header},r(a?"You have just created a new multichain wallet":"You have just created a new wallet")),ge.createElement("p",{className:ON.description},r(a?"Now you can transfer tokens from your TON and TRON wallets.":"You can now transfer your tokens from another wallet or exchange."))))})),PN=2.625*n.$,FN="date:",RN=Object.freeze([]),UN=Object.freeze({}),WN=fe(je((e=>{var t;const n=e.currentAccountId,a=ct(e),o=ut(e),r=null==a?void 0:a.currentTokenSlug,i=Ta(e,n),{byId:s}=(null==a?void 0:a.activities)??{},{byAddress:c}=(null==a?void 0:a.nfts)||{},l=tt(e),d=Nn(e,n,r),u=function(e,t,n){var a;const{idsMain:o,idsBySlug:r}=(null===(a=lt(e,t))||void 0===a?void 0:a.activities)??{};return n?null==r?void 0:r[n]:o}(e,n,r);return{isMultichainAccount:Ct(e,e.currentAccountId),currentAccountId:n,slug:r,byId:s,allActivityIds:u,tokensBySlug:e.tokenInfo.bySlug,swapTokensBySlug:null===(t=e.swapTokenInfo)||void 0===t?void 0:t.bySlug,areTinyTransfersHidden:e.settings.areTinyTransfersHidden,savedAddresses:null==a?void 0:a.savedAddresses,isHistoryEndReached:d,currentActivityId:null==a?void 0:a.currentActivityId,alwaysShownSlugs:null==o?void 0:o.alwaysShownSlugs,theme:e.settings.theme,baseCurrency:e.settings.baseCurrency,stakingStateBySlug:i,isSensitiveDataHidden:e.settings.isSensitiveDataHidden,nftsByAddress:c,accounts:l}}),((t,n,a)=>{let{totalTokensAmount:o}=n;const r=ct(t),i=o<=(gi()?e.nj6:e.hUs);return a(((null==r?void 0:r.activeContentTab)===zn.Activity||(null==r?void 0:r.activeContentTab)===zn.Assets&&i)&&t.currentAccountId)}))((function(t){let{isActive:a,currentAccountId:o,isMultichainAccount:r,slug:i,byId:s,allActivityIds:l,tokensBySlug:d,swapTokensBySlug:u,areTinyTransfersHidden:m,currentActivityId:p,savedAddresses:f,isHistoryEndReached:h,alwaysShownSlugs:g,theme:v,baseCurrency:w,isSensitiveDataHidden:y,stakingStateBySlug:b,nftsByAddress:E,accounts:k,onScroll:C}=t;const{fetchPastActivities:N,showActivityInfo:S}=Ke(),A=_r(),{isLandscape:T,isPortrait:I}=hi(),B=me(),_=GC("activitiesUpdateStartedAt"),x=Vf(v),D=me(!1),L=de((()=>{const e=function(e,t,n,a,o,r){return e.filter((e=>{const i=null==t?void 0:t[e];return!!i&&(null==i||!i.shouldHide)&&("swap"===(null==i?void 0:i.kind)?!n||i.from===n||i.to===n:(null==i?void 0:i.slug)&&(!n||i.slug===n)&&(!o||n&&0===(null===(s=a[i.slug])||void 0===s?void 0:s.priceUsd)||!Gd(i,a[i.slug])||(null==r?void 0:r.includes(i.slug)))&&!Jt(i));var s}))}(l??RN,s??UN,i,d,m,g);if(e.length||h)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=1/0;const a=[];for(const o of e){const e=(0,ha.CS)(t[o].timestamp);e<n&&(n=e,a.push(`${FN}${e}`)),a.push(o)}return a}(e,s)}),[m,s,g,l,i,d,h]),O=null==L?void 0:L[0],M=zo((()=>{N({slug:i,shouldLoadWithBudget:!0})})),[P,F,R]=kN(M,L,void 0,30,i,a),U=function(e,t){const n=me();return n.current??={},Ws((a=>{let[o=[],r={}]=a;const i=n.current,s=(0,c.oE)(o.map((e=>r[e]))),l=(0,c.oE)(e.map((e=>t[e]))),d=(0,c.V6)(vn(s,l));for(const{id:e}of l){const t=d[e];i[e]=(t&&i[t])??(0,we.A)()}const u=new Set(e);for(const e of Object.keys(i))u.has(e)||delete i[e]}),[e,t]),zo((e=>{var t;return(null===(t=n.current)||void 0===t?void 0:t[e])??e}))}(P??RN,s??UN),W=be(i),H=be(void 0===L),$=Boolean(a&&!D.current&&(H||W===i)),V=de((()=>{const e={};let t=0;return null==L||L.forEach(((n,a)=>{const o=n.startsWith(FN)?2.125+(0===a?.5:0):By(s[n]);e[n]={top:t,height:o},t+=o})),e}),[s,L]),z=de((()=>{if(null==P||!P.length)return 0;const e=P[P.length-1],t=V[e];return t?t.top+t.height:0}),[V,P]);!function(e,t,a,o,r){CN((i=>{var s,c;let[l]=i;const d=wN(o.current,a);if(!(r.current&&d&&l&&e.length))return;const u=e[Math.floor(e.length/2)],m=null===(s=l[u])||void 0===s?void 0:s.top,p=null===(c=t[u])||void 0===c?void 0:c.top;void 0!==m&&void 0!==p&&m!==p&&(0,Dr.Uj)((()=>{d.scrollBy({top:(p-m)*n.$,behavior:"instant"})}))}),[t,e,o,r,a])}(P??RN,V,I,B,D),le((()=>{const e=B.current;e&&Ls(e,{height:T?"":`${z}rem`})}),[T,z]),ce((()=>{null!=L&&L.length||M()}),[i,l,L,M]),ce((()=>{a||T||(null==R||R(),D.current=!1)}),[a,T,R]);const K=zo((e=>{const t=e.target.scrollTop;D.current=t>=PN,null==C||C(e)})),q=zo((e=>{S({id:e})}));if(o)return void 0===L?ge.createElement("div",{className:xr(IN,"BUMeW3vl")},ge.createElement(fv,null)):L.length?ge.createElement(TN,{ref:B,className:xr("custom-scroll","fUr4n5dv"),scrollContainerClosest:yN(a,I),items:P,preloadBackwards:30,withAbsolutePositioning:!0,maxHeight:`${z}rem`,onLoadMore:F,onScroll:K},function(){if(P)return P.map(((e,t)=>{var n;const a=(null===(n=V[e])||void 0===n?void 0:n.top)??0;let i;if(e.startsWith(FN))i=function(e,t){const n=(0,ha.N5)(A,e),a=ge.createElement("div",{className:BN},n);if(!t)return a;const o=ge.createElement("div",{className:xr(BN,"vFLWFB14")},n,ge.createElement(Ks,{isActive:!0,isDoubled:!0,className:"Ig34AhI2"}));return ge.createElement(xf,{name:"semiFade",activeKey:_?1:0,className:"ubrkPkql",slideClassName:"rHTS83Rc"},_?o:a)}(Number(e.slice(5)),e===O);else{const n=null==s?void 0:s[e];if(!n)return;const a=n.id===p,c=t===P.length-1||P[t+1].startsWith(FN);i=ge.createElement(Iy,{activity:n,isLast:c,isActive:a,tokensBySlug:d,swapTokensBySlug:u,appTheme:x,isSensitiveDataHidden:y,nftsByAddress:E,currentAccountId:o,stakingStateBySlug:b,savedAddresses:f,withChainIcon:r,accounts:k,baseCurrency:w,onClick:q})}return ge.createElement(LN,{key:U(e),topOffset:a,withAnimation:$},i)}))}()):i?ge.createElement("div",{className:IN},ge.createElement(of,{play:a,tgsUrl:_p.noData,previewUrl:_p.noDataPreview,size:e.igk,className:"L93gae4c",noLoop:!1,nonInteractive:!0}),ge.createElement("p",{className:"ddnxH_YM"},A("No Activity"))):ge.createElement("div",{className:xr(T&&"HZCBxAlC")},ge.createElement(MN,{isActive:a,isMutlichainAccount:r,mode:T?"emptyList":"panel"}))}))),HN={container:"y_zyRtG4",button:"mDOHosrF",vestingIcon:"vKLHR9fe",percent:"JLnToFoo",readyToClaim:"T4MfMcFP",active:"gcp9pSal",iconArrow:"zzgzZR90",iconChevron:"WLJ2jON8",primaryCell:"MWjR4yCQ",secondaryCell:"zBTGbg76",subtitle:"v9EXZKHv",amountChange:"fvwKm83g",name:"IJaceq0j",name_text:"JMnoFXEt",nameText:"JMnoFXEt",secondaryValue:"yB7hzLme",secondaryValue_staked:"Fy56cR9i",secondaryValueStaked:"Fy56cR9i",change:"ka5acfM4",change_up:"VR0vGdiX",changeUp:"VR0vGdiX",change_down:"osD2vwqW",changeDown:"osD2vwqW",dot:"zJntRecr",label:"jN5w9AWO",apyLabel:"xWg00BgF",apyLabel_staked:"UeDUf_9U",apyLabelStaked:"UeDUf_9U",chainLabel:"B9HfGrEc",tokenIcon:"BcTpLjhN",secondaryValue_vesting:"rE0JGav4",secondaryValueVesting:"rE0JGav4",secondaryValue_vestingUnfreeze:"LHgVJV2I",secondaryValueVestingUnfreeze:"LHgVJV2I",wrapperVisible:"n7iUgDe0",menu:"ilWFIqJF"},$N=7*ha.d_,VN="open-context-menu",zN=fe((function(t){let{ref:n,token:a,amount:o,stakingStatus:r,stakingState:i,vestingStatus:s,unfreezeEndDate:l,annualYield:d,isInvestorView:u,classNames:m,style:p,appTheme:f,isActive:h,baseCurrency:g,withChainIcon:v,withContextMenu:w,isSensitiveDataHidden:y,isStakingAvailable:b,isSwapDisabled:E,isViewMode:k,yieldType:C,onClick:N}=t;const{symbol:S,slug:A,amount:T,price:I,change24h:B,decimals:_}=a,x=_r(),{isPortrait:D}=hi();let L=me();const O=me(),M=Boolean(null==s?void 0:s.length),P=o??(0,Pt.nI)(T,_,!0),F=(0,Ft.z)(P).mul(I).toString(),R=B>0?HN.change_up:B<0?HN.change_down:void 0,U=Math.abs(Rt((W=Number(F))-W/(1+B),4));var W;const H=Math.abs(Rt(100*B,2)),$=!e.TI6&&void 0!==d,V=hr(g),z=Boolean(!M&&e.OZB[A]),K=null==i?void 0:i.id,q=function(t,n,a){return a?n.slug===e.wpN.slug?t("%token% Staking",{token:"Ethena"})[0]:t("%token% Staking",{token:n.name})[0]:n.name}(x,a,!!K),j=de((()=>xw(4,12,q)),[q]),Y=5+j%6;n&&(L=n);const{shouldRender:G,ref:Q}=$s({isOpen:$,withShouldRender:!0}),X=zo((()=>{N(K??A)})),J=zo((()=>L.current)),Z=zo((()=>document.body)),ee=zo((()=>O.current)),te=zo((()=>({withPortal:!0,doNotCoverTrigger:D,topShiftY:D?void 0:4,preferredPositionX:"left"}))),{isContextMenuOpen:ne,isContextMenuShown:ae,contextMenuAnchor:oe,items:re,isBackdropRendered:ie,handleBeforeContextMenu:se,handleContextMenu:ce,handleContextMenuClose:le,handleContextMenuHide:ue,handleMenuItemSelect:pe}=function(t,n){const{openReceiveModal:a,startTransfer:o,startSwap:r,startStaking:i,openSettingsWithState:s,toggleTokenVisibility:l,setLandscapeActionsActiveTabIndex:d,setReceiveActiveTab:u,startUnstaking:m,startStakingClaim:p}=Ke(),{token:f,isPortrait:h,withContextMenu:g,isStakingAvailable:v,isSwapDisabled:w,isViewMode:y,stakingState:b}=n,{isContextMenuOpen:E,contextMenuAnchor:k,handleBeforeContextMenu:C,handleContextMenu:N,handleContextMenuClose:S,handleContextMenuHide:A}=PC({elementRef:t,isMenuDisabled:!g}),T=ea(f),I=null==b?void 0:b.id,B=void 0!==k,_=b?"readyToClaim"===cu(b):void 0,x="jetton"===(null==b?void 0:b.type)?!!b.unclaimedRewards:void 0,D=de((()=>{const e=[!I&&{name:"Hide",fontIcon:"eye-closed",value:"hide"},{name:"Manage Tokens",fontIcon:"menu-params",withDelimiter:!(y&&I),value:"settings"}];if(y)return(0,c.oE)(e);const t=I?[("ethena"!==(null==b?void 0:b.type)||!_)&&{name:"ethena"===(null==b?void 0:b.type)?"Request Unstaking":"Unstake",fontIcon:"menu-send",value:"unstake"},{name:"Stake More",fontIcon:"menu-receive",value:"stakeMore"},(_||x)&&{name:"Claim Rewards",fontIcon:"menu-gem",value:"claimRewards"}]:[!T&&{name:"Add / Buy",fontIcon:"menu-plus",value:"add"},{name:"Send",fontIcon:"menu-send",value:"send"},!w&&{name:"Swap",fontIcon:"menu-swap",value:"swap"},v&&{name:"Stake",fontIcon:"menu-percent",value:"stake"}];return(0,c.oE)(t.concat(e))}),[_,x,v,w,y,I,null==b?void 0:b.type,T]),L=zo((t=>{switch(ul(),t){case"add":h?a({chain:f.chain}):(u({chain:f.chain}),d({index:Vn.Receive}));break;case"send":o({isPortrait:h,tokenSlug:f.slug});break;case"swap":r({tokenInSlug:f.slug,tokenOutSlug:f.slug===e.JhS?e.rKC:e.JhS});break;case"stake":case"stakeMore":i({tokenSlug:f.slug});break;case"settings":s({state:Hn.Assets});break;case"hide":l({slug:f.slug,shouldShow:!1});break;case"unstake":m({stakingId:I});break;case"claimRewards":p({stakingId:I})}S()}));return{isContextMenuOpen:E,isContextMenuShown:B,contextMenuAnchor:k,items:D,isBackdropRendered:h&&E,handleBeforeContextMenu:C,handleContextMenu:N,handleContextMenuClose:S,handleContextMenuHide:A,handleMenuItemSelect:L}}(L,{token:a,isPortrait:D,withContextMenu:w,isStakingAvailable:b,isSwapDisabled:E,isViewMode:k,stakingState:i});function fe(){const e=xr(HN.label,HN.apyLabel,r&&HN.apyLabel_staked);return ge.createElement("span",{ref:Q,className:e},C," ",Rt(d??0,2),"%")}function he(){if(0!==B)return ge.createElement("i",{className:xr(HN.iconArrow,B>0?"icon-arrow-up":"icon-arrow-down"),"aria-hidden":!0})}function ve(){return"active"===r?ge.createElement("i",{className:xr("icon-percent",HN.percent),"aria-hidden":!0}):"readyToClaim"===r?ge.createElement("i",{className:xr("icon-check-alt",HN.readyToClaim),"aria-hidden":!0}):ge.createElement(of,{play:!0,size:e.wg4,className:HN.percent,nonInteractive:!0,noLoop:!1,tgsUrl:_p[f].iconClockPurple,previewUrl:_p[f].preview.iconClockPurple})}const we=xr(HN.button,h&&HN.active,ne&&VN);return ge.createElement("div",{className:xr(HN.container,m),style:p},ge.createElement(Hy,{isMenuOpen:ie,contentRef:L,contentClassName:HN.wrapperVisible}),u?ge.createElement(js,{ref:L,isSimple:!0,className:we,onMouseDown:se,onContextMenu:ce,onClick:X},ge.createElement(jw,{size:"large",token:a,withChainIcon:v,className:HN.tokenIcon},ge.createElement(ge.Fragment,null,r&&ve(),s&&ge.createElement("i",{className:xr("frozen"===s?"icon-snow":"icon-fire",HN.vestingIcon),"aria-hidden":!0}))),ge.createElement("div",{className:HN.primaryCell},ge.createElement("div",{className:HN.name},ge.createElement("span",{className:HN.nameText},q),G&&fe(),z&&ge.createElement("span",{className:xr(HN.label,HN.chainLabel)},e.OZB[A])),ge.createElement("div",{className:HN.subtitle},ge.createElement(ey,{isActive:y,cols:Y,rows:2,cellSize:8},ge.createElement(eN,{text:ur(P,S)})),ge.createElement("i",{className:HN.dot,"aria-hidden":!0}),ge.createElement(eN,{text:ur(I,V,void 0,!0)}))),ge.createElement("div",{className:HN.secondaryCell},ge.createElement(ey,{isActive:y,cols:j,rows:2,cellSize:8,align:"right",className:xr(HN.secondaryValue,r&&HN.secondaryValue_staked,M&&HN.secondaryValue_vesting,M&&"readyToUnfreeze"===s&&HN.secondaryValue_vestingUnfreeze)},ge.createElement(eN,{text:ur(F,V)})),l?ge.createElement("div",{className:xr(HN.change,l-Date.now()<$N&&HN.change_down)},x("Unfreeze")," ",x("until %date%",{date:`${(0,ha.TK)(x.code,l)}`})):ge.createElement(ey,{isActive:y,cols:Y,rows:2,cellSize:8,align:"right",className:xr(HN.change,R)},he(),ge.createElement(eN,{text:String(H)}),"%",ge.createElement("i",{className:HN.dot,"aria-hidden":!0}),ge.createElement(eN,{text:ur(U,V,void 0,!0)})))):function(){const t=(0,Ft.z)(P).mul(I),n=void 0!==d;return ge.createElement(js,{ref:L,isSimple:!0,className:we,onMouseDown:se,onContextMenu:ce,onClick:X},ge.createElement(jw,{token:a,size:"large",withChainIcon:v,className:HN.tokenIcon},ge.createElement(ge.Fragment,null,r&&ve(),s&&ge.createElement("i",{className:xr("frozen"===s?"icon-snow":"icon-fire",HN.vestingIcon),"aria-hidden":!0}))),ge.createElement("div",{className:HN.primaryCell},ge.createElement("div",{className:HN.name},ge.createElement("span",{className:HN.nameText},q),n&&fe(),z&&ge.createElement("span",{className:xr(HN.label,HN.chainLabel)},e.OZB[A])),ge.createElement("div",{className:HN.subtitle},ge.createElement(eN,{text:ur(I,V,void 0,!0)}),!r&&ge.createElement(ge.Fragment,null,ge.createElement("i",{className:HN.dot,"aria-hidden":!0}),l?ge.createElement("span",{className:l-Date.now()<$N&&HN.change_down},x("Unfreeze")," ",x("until %date%",{date:`${(0,ha.TK)(x.code,l)}`})):ge.createElement("span",{className:R},he(),ge.createElement(eN,{text:String(H)}),"%")))),ge.createElement("div",{className:HN.secondaryCell},ge.createElement(ey,{isActive:y,cols:j,rows:2,cellSize:8,align:"right",className:xr(HN.secondaryValue,r&&HN.secondaryValue_staked,M&&HN.secondaryValue_vesting,M&&"readyToUnfreeze"===s&&HN.secondaryValue_vestingUnfreeze)},ge.createElement(eN,{text:ur(P,S)})),ge.createElement(ey,{isActive:y,cols:Y,rows:2,cellSize:8,align:"right",className:HN.subtitle},t.gt(0)?"≈":""," ",ge.createElement(eN,{text:ur(t,V,void 0,!0)}))))}(),w&&ae&&ge.createElement(eg,{ref:O,withPortal:!0,shouldTranslateOptions:!0,isOpen:ne,items:re,menuAnchor:oe,bubbleClassName:HN.menu,fontIconClassName:HN.menuIcon,getTriggerElement:J,getRootElement:Z,getMenuElement:ee,getLayout:te,onSelect:pe,onClose:le,onCloseAnimationEnd:ue}))})),KN={wrapper:"EmokOdHM",wrapperLoading:"QP7e6eAO",emptyList:"XSZ9FBiN",emptyListSeparate:"SHa5wmx_",noTokens:"KNRqFMNX",noTokens_text:"XwRCmsa8",noTokensText:"XwRCmsa8",noTokens_header:"qDi9Fjks",noTokensHeader:"qDi9Fjks",noTokens_description:"Lxfq6_5v",noTokensDescription:"Lxfq6_5v",openSettingsButton:"L2IEb5c3"},qN=fe(je((e=>{var t;const n=e.currentAccountId,a=Wt(e),o=ia(e),r=ct(e),{isInvestorViewEnabled:i}=e.settings,s=Sa(e,n),c=It(e);return{tokens:a,swapTokens:o,vesting:null==r||null===(t=r.vesting)||void 0===t?void 0:t.info,isInvestorViewEnabled:i,currentTokenSlug:null==r?void 0:r.currentTokenSlug,baseCurrency:e.settings.baseCurrency,mycoin:Kt(e),isMultichainAccount:Ct(e,e.currentAccountId),isSensitiveDataHidden:e.settings.isSensitiveDataHidden,theme:e.settings.theme,states:s,isViewMode:c,isSwapDisabled:da(e),isStakingDisabled:_a(e)}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:n,tokens:a,swapTokens:o,vesting:r,isInvestorViewEnabled:i,isSeparatePanel:s,currentTokenSlug:l,onTokenClick:d,onStakedTokenClick:u,baseCurrency:m,mycoin:p,isMultichainAccount:f,isSensitiveDataHidden:h,theme:g,states:v,isViewMode:w,isSwapDisabled:y,isStakingDisabled:b,onScroll:E}=t;const k=_r(),{openSettingsWithState:C}=Ke(),N=me(),S=Vh(a,!0),A=Vh(p,!0),T=de((()=>{if(S&&A)return S.find((e=>{let{slug:t}=e;return t===A.slug}))}),[A,S]),{isLandscape:I,isPortrait:B}=hi(),_=Vf(g),x=de((()=>e.TI6?[]:(null==v?void 0:v.filter(lu))??[]),[v]),D=de((()=>x.reduce(((e,t)=>{const n=null==a?void 0:a.find((e=>{let{slug:n}=e;return n===t.tokenSlug}));return n&&(e[t.tokenSlug]={token:n,state:t}),e}),{})),[a,x]),L=de((()=>(0,c.dU)(o??[],"slug")),[o]),{shouldRender:O}=$s({isOpen:Boolean(Object.keys(D).length),withShouldRender:!0}),{ref:M,shouldRender:P,amount:F,vestingStatus:R,unfreezeEndDate:U,onVestingTokenClick:W}=function(e){let{vesting:t,userMycoin:n,isDisabled:a}=e;const{loadMycoin:o,openVestingModal:r}=Ke(),i=!a&&Boolean(null==t?void 0:t.length),s=Boolean(n);ce((()=>{!s&&i&&o()}),[i,s]);const c=de((()=>{if(i)return Yk(t,["frozen","ready"])}),[i,t]),l=de((()=>{if(i)for(const{parts:e}of t)for(const t of e)if("ready"===t.status)return new Date(t.timeEnd).getTime()}),[i,t]),{shouldRender:d,ref:u}=$s({isOpen:Boolean(i&&s&&n&&"0"!==c),withShouldRender:!0});return{shouldRender:d,ref:u,amount:c,vestingStatus:l?"readyToUnfreeze":"frozen",unfreezeEndDate:l,onVestingTokenClick:zo((()=>{r()}))}}({vesting:r,userMycoin:T,isDisabled:e.TI6}),H=de((()=>null==S?void 0:S.filter((e=>{let{isDisabled:t}=e;return!t})).map((e=>{let{slug:t}=e;return t}))),[S]),[$,V]=kN(void 0,H,void 0,void 0,void 0,n,B),z=de((()=>{if(!$)return-1;let e=H.indexOf($[0]);return O&&(e+=Object.keys(D).length),P&&e++,e}),[O,P,H,$,D]),K=de((()=>S?(0,c.dU)(S,"slug"):void 0),[S]),q=H&&H.length>30,j=de((()=>{if(q&&null!=$&&$.length&&!(z<0))return 4*(z+$.length)}),[z,null==$?void 0:$.length,q]);le((()=>{const e=N.current;e&&Ls(e,{height:j&&!I?`${j}rem`:""})}),[I,j]);const Y=zo((()=>{C({state:Hn.Assets})})),G=(0,c.dU)(v??[],"tokenSlug");return P||O||null!=H&&H.length?ge.createElement(TN,{ref:N,className:xr(KN.wrapper,s&&!S&&KN.wrapperLoading),scrollContainerClosest:yN(n,B),items:$,itemSelector:".token-list-item",withAbsolutePositioning:q,maxHeight:void 0===j?void 0:`${j}rem`,onLoadMore:V,onScroll:E},!S&&ge.createElement("div",{key:"loading",className:s?KN.emptyListSeparate:KN.emptyList},ge.createElement(fv,null)),P&&ge.createElement(zN,{ref:M,key:"vesting",token:T,vestingStatus:R,unfreezeEndDate:U,amount:F,isInvestorView:i,baseCurrency:m,appTheme:_,isSensitiveDataHidden:h,onClick:W}),O&&Object.values(D).map((e=>{let{state:t,token:n}=e;const{id:a,annualYield:o,yieldType:r}=t,s=cu(t),c=uu(t);return ge.createElement(zN,{key:`staking-${a}`,token:n,stakingStatus:s,annualYield:o,yieldType:r,amount:(0,Pt.nI)(c,n.decimals),isInvestorView:i,baseCurrency:m,appTheme:_,isSensitiveDataHidden:h,withContextMenu:!0,isViewMode:w,isSwapDisabled:y,stakingState:t,onClick:u})})),null==$?void 0:$.map(((e,t)=>function(e,t){const n=q?`position: absolute; top: ${4*(z+t)}rem`:void 0,{annualYield:a,yieldType:o}=!(e.slug in D)&&G[e.slug]||{},r=Boolean(!b&&G[e.slug]),s=Boolean(L[e.slug]);return ge.createElement(zN,{classNames:"token-list-item",style:n,key:e.slug,token:e,annualYield:a,yieldType:o,isInvestorView:i,isActive:e.slug===l,baseCurrency:m,withChainIcon:f,appTheme:_,isSensitiveDataHidden:h,withContextMenu:!0,isViewMode:w,isStakingAvailable:r,isSwapDisabled:y||!s,onClick:d})}(K[e],t)))):ge.createElement("div",{className:KN.noTokens},ge.createElement(of,{tgsUrl:_p.noData,previewUrl:_p.noDataPreview,size:e.jzp,nonInteractive:!0,noLoop:!1,className:KN.sticker}),ge.createElement("div",{className:KN.noTokensText},ge.createElement("span",{className:KN.noTokensHeader},k("No tokens yet")),ge.createElement("span",{className:KN.noTokensDescription},k("$no_tokens_description")),ge.createElement(js,{onClick:Y,isPrimary:!0,isSmall:!0,className:KN.openSettingsButton},k("Add Tokens"))))}))),jN="aKYq5U9K",YN="_XXYEoWI",GN="bCLB_xx7",QN="ADFSqjjF",XN="L1JCMSY4",JN="vvSB5YmR",ZN="X205Pp2C",eS="S3NdyNSK",tS="lRocmYkd",nS=fe(je((e=>{var t;const{byAddress:n,currentCollectionAddress:a,collectionTabs:o,dnsExpiration:r}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)||{};return{currentCollectionAddress:a,nfts:n,isTestnet:e.settings.isTestnet,isViewMode:It(e),collectionTabs:o,dnsExpiration:r}}),((e,t,n)=>{var a;const{currentCollectionAddress:o}=(null===(a=ct(e))||void 0===a?void 0:a.nfts)||{};return n(o)}))((function(t){let{currentCollectionAddress:n,nfts:a,isTestnet:o,isViewMode:r,collectionTabs:i,dnsExpiration:s}=t;const{closeNftCollection:l,selectNfts:d,startTransfer:u,burnNfts:m,openHideNftModal:p,addCollectionTab:f,removeCollectionTab:h,openDomainRenewalModal:g}=Ke(),v=_r(),[w,y]=ie(),b=Boolean(w),E=me(),k=me(),C=n===e.X6R,N=de((()=>n&&a?Object.values(a).filter((e=>C&&e.isTelegramGift||e.collectionAddress===n)):[]),[n,C,a]),S=de((()=>{if(n!==e.nQN)return;const t=ba(N,void 0,s);return t?(0,ha.GS)(t):void 0}),[N,n,s]),A=C?v("Telegram Gifts"):N[0].collectionName??v("Unnamed Collection"),T=de((()=>{const t=null==i?void 0:i.includes(n);return(0,c.oE)([!r&&{name:"Send All",value:"sendAll"},N[0].isOnFragment&&{name:"Fragment",value:"fragment",fontIcon:"external"},{name:"Getgems",value:"getgems",fontIcon:"external"},!C&&{name:Xo("ton"),value:"tonExplorer",fontIcon:"external"},!r&&n===e.nQN&&{name:N.length>1?"Renew All":"Renew",value:"renew",description:S&&S<0?N.length>1?"$expired_many":"Expired":v("$expires_in %days%",{days:v("$in_days",S)},void 0,N.length)},!e.TI6&&{name:"Hide All",value:"hideAll"},!r&&{name:"Burn All",value:"burnAll",isDangerous:!0},{name:"Select All",value:"selectAll",withDelimiter:!0},{name:v(t?"Remove Tab":"Add Tab"),value:t?"removeTab":"addTab"}])}),[N,i,n,S,C,r,v]);Yi({isActive:!0,onBack:l}),ce((()=>qh(l)),[]);const I=zo((()=>E.current)),B=zo((()=>document.body)),_=zo((()=>k.current)),x=zo((()=>({withPortal:!0}))),D=zo((t=>{switch(t){case"sendAll":u({nfts:N.filter((e=>{let{isOnSale:t}=e;return!t})),isPortrait:gi()});break;case"getgems":{const t=o?e.PKm:e.wln;dc(C?`${t}top-gifts`:`${t}collection/${n}`);break}case"tonExplorer":{const e=function(e,t){if(e)return`${Jo("ton",t)}nft/${e}`}(n,o);e&&dc(e);break}case"fragment":C?dc("https://fragment.com/gifts"):n===e.q5n[0]?dc("https://fragment.com/numbers"):n===e.q5n[1]?dc("https://fragment.com"):dc(`https://fragment.com/gifts/${A.toLowerCase().replace(/\W/g,"").replace(/s$/,"")}`);break;case"selectAll":d({addresses:N.filter((e=>{let{isOnSale:t}=e;return!t})).map((e=>{let{address:t}=e;return t}))});break;case"burnAll":m({nfts:N.filter((e=>{let{isOnSale:t}=e;return!t}))});break;case"hideAll":p({addresses:N.map((e=>e.address)),isCollection:!0});break;case"addTab":f({collectionAddress:n});break;case"removeTab":l(),h({collectionAddress:n});break;case"renew":g({addresses:N.map((e=>e.address))})}})),L=zo((()=>{const{right:e,bottom:t}=E.current.getBoundingClientRect();y({x:e,y:t})})),O=zo((()=>{y(void 0)}));return ge.createElement("div",{className:jN},ge.createElement(js,{isSimple:!0,isText:!0,ariaLabel:v("Back"),className:YN,onClick:l},ge.createElement("i",{className:xr(GN,"icon-chevron-left"),"aria-hidden":!0})),ge.createElement("div",{className:QN},ge.createElement("div",{className:XN},A),ge.createElement("div",{className:"hsn7RdaK"},N.length>1?v("%amount% NFTs",{amount:N.length}):v("1 NFT"))),ge.createElement(js,{isSimple:!0,ref:E,className:JN,onClick:L,ariaLabel:v("Open Menu")},ge.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),ge.createElement(eg,{isOpen:b,ref:k,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:w,getTriggerElement:I,getRootElement:B,getMenuElement:_,getLayout:x,buttonClassName:eS,bubbleClassName:ZN,itemDescriptionClassName:tS,items:T,onSelect:D,onClose:O}))}))),aS=fe((function(e){let{id:t,name:n,value:a,isChecked:o,className:r,onChange:i}=e;return ge.createElement("div",{className:xr("OyHWXuOj",r,o&&"BCTrjQeD")},ge.createElement("input",{id:t,type:"radio",name:n,className:"visually-hidden",value:a,checked:o,onChange:i}))})),oS={name:"Cannot be sent",value:"send",description:"NFT is for sale",isDisabled:!0},rS={name:"Configure DNS",value:"tondns",fontIcon:"external"},iS={name:"Send",value:"send"},sS={name:"Fragment",value:"fragment",fontIcon:"external"},cS={name:"Getgems",value:"getgems",fontIcon:"external"},lS={name:Xo("ton"),value:"tonExplorer",fontIcon:"external"},dS={name:"Collection",value:"collection"},uS={name:"Hide",value:"hide"},mS={name:"Renew",value:"renew"},pS={name:"Not Scam",value:"not_scam"},fS={name:"Unhide",value:"unhide"},hS={name:"Burn",value:"burn",isDangerous:!0},gS={name:"Select",value:"select",withDelimiter:!0},vS={name:"Install Card",value:"installCard"},wS={name:"Reset Card",value:"resetCard"},yS={name:"Apply Palette",value:"installAccentColor"},bS={name:"Reset Palette",value:"resetAccentColor"},ES={name:"Link to Wallet",value:"linkDomain"},kS={name:"Change Wallet",value:"linkDomain"};function CS(t){let{nft:n,isViewMode:a,dnsExpireInDays:o,linkedAddress:r,isNftBlacklisted:i,isNftWhitelisted:s,isNftInstalled:l,isNftAccentColorInstalled:d}=t;const{startTransfer:u,selectNfts:m,openNftCollection:p,burnNfts:f,addNftsToBlacklist:h,addNftsToWhitelist:g,closeMediaViewer:v,closeNftAttributesModal:w,openUnhideNftModal:y,setCardBackgroundNft:b,clearCardBackgroundNft:E,installAccentColorFromNft:k,clearAccentColorFromNft:C,openDomainRenewalModal:N,openDomainLinkingModal:S}=Ke(),A=_r();function T(){v(),w()}const I=zo(((t,a)=>{const{isTestnet:o}=Ve().settings,r=(null==a?void 0:a.shiftKey)||(null==a?void 0:a.ctrlKey)||(null==a?void 0:a.metaKey);switch(t){case"send":u({isPortrait:gi(),nfts:[n]}),T();break;case"tonExplorer":dc(tr(n.address,o),{isExternal:r});break;case"getgems":{const t=o?e.PKm:e.wln;dc(n.collectionAddress?`${t}collection/${n.collectionAddress}/${n.address}`:`${t}nft/${n.address}`,{isExternal:r});break}case"tondns":dc(`https://dns.ton.org/#${(n.name||"").replace(/\.ton$/i,"")}`,{isExternal:r});break;case"installCard":b({nft:n}),k({nft:n});break;case"resetCard":E(),C();break;case"installAccentColor":k({nft:n});break;case"resetAccentColor":C();break;case"fragment":{let e;const{collectionName:t,name:a,metadata:{fragmentUrl:o}}=n;e=o||(null!=t&&t.toLowerCase().includes("numbers")?`https://fragment.com/number/${null==a?void 0:a.replace(/[^0-9]/g,"")}`:`https://fragment.com/username/${encodeURIComponent((null==a?void 0:a.substring(1))||"")}`),dc(e,{isExternal:r});break}case"collection":p({address:n.collectionAddress},{forceOnHeavyAnimation:!0}),T();break;case"hide":h({addresses:[n.address]}),T();break;case"not_scam":y({address:n.address,name:n.name});break;case"unhide":g({addresses:[n.address]}),T();break;case"burn":f({nfts:[n]}),T();break;case"select":m({addresses:[n.address]});break;case"renew":N({addresses:[n.address]});break;case"linkDomain":S({address:n.address})}}));return{menuItems:de((()=>{if(!n)return[];const{collectionAddress:t,isOnSale:u,isOnFragment:m,isScam:p}=n,f=wa(n),h=!e.TI6&&n.collectionAddress===e.qL;return(0,c.oE)([!a&&(u?oS:iS),!a&&f&&!u&&void 0!==o&&{...mS,description:o<0?"Expired":A("$expires_in %days%",{days:A("$in_days",o)},void 0,1)},!a&&f&&!u&&(r?kS:ES),!e.TI6&&(!p&&!i||s)&&uS,!e.TI6&&p&&!s&&pS,!e.TI6&&!p&&i&&fS,...u||a?[]:[hS,gS],t&&dS,f&&!a&&rS,...h?[l?wS:vS]:[],...h?[d?bS:yS]:[],m&&sS,cS,lS])}),[n,a,o,A,r,i,s,l,d]),handleMenuItemSelect:I}}const NS=fe(je(((e,t)=>{let{nft:n}=t;const{blacklistedNftAddresses:a,whitelistedNftAddresses:o}=ct(e)||{},{cardBackgroundNft:r,accentColorNft:i}=ut(e)||{},s=xa(e,n);return{blacklistedNftAddresses:a,whitelistedNftAddresses:o,cardBackgroundNft:r,accentColorNft:i,isViewMode:It(e),linkedAddress:s}}))((function(e){let{isViewMode:t,isContextMenuMode:n,nft:a,ref:o,dnsExpireInDays:r,linkedAddress:i,menuAnchor:s,blacklistedNftAddresses:c,whitelistedNftAddresses:l,cardBackgroundNft:d,accentColorNft:u,className:m,onOpen:p,onClose:f,onCloseAnimationEnd:h}=e;const g=de((()=>null==c?void 0:c.includes(a.address)),[a,c]),v=de((()=>null==l?void 0:l.includes(a.address)),[a,l]),w=bf(a&&a.address===(null==d?void 0:d.address),Xh),y=bf(a&&a.address===(null==u?void 0:u.address),Xh),{menuItems:b,handleMenuItemSelect:E}=CS({nft:a,isViewMode:t,dnsExpireInDays:r,linkedAddress:i,isNftBlacklisted:g,isNftWhitelisted:v,isNftInstalled:w,isNftAccentColorInstalled:y});let k=me();const C=me(),N=Boolean(s);o&&(k=o);const S=zo((()=>k.current)),A=zo((()=>document.body)),T=zo((()=>C.current)),I=zo((()=>({withPortal:!0,topShiftY:n?4:0,preferredPositionX:n?"left":"right"}))),B=_r();return ge.createElement(ge.Fragment,null,ge.createElement("button",{ref:k,type:"button",className:xr("Zwrm7aDb",m),"aria-label":B("NFT Menu"),onClick:e=>{Do(e),N?f():(ul(),p())}},ge.createElement("i",{className:xr("lGtsxpv1","icon-menu-dots"),"aria-hidden":!0})),ge.createElement(eg,{isOpen:N,ref:C,withPortal:!0,menuAnchor:s,menuPositionX:"right",getTriggerElement:n?void 0:S,getRootElement:A,getMenuElement:T,getLayout:I,items:b,shouldTranslateOptions:!0,className:n?"kuj1PIIl":"Pc0Y7YGI",bubbleClassName:"UhvMK8mg",buttonClassName:"AZjbQROQ",itemDescriptionClassName:"XbyfBxfu",shouldCleanup:!0,onClose:f,onCloseAnimationEnd:h,onSelect:E}))}))),SS="ITYna3lB",AS="P5UTNS9t",TS="O3ePb4wF",IS="wvB9itFX",BS="xeApkBtH",_S=fe((function(t){let{nft:a,selectedAddresses:o,tonDnsExpiration:r,observeIntersection:i,isViewAccount:s}=t;const{selectNfts:c,clearNftSelection:l,openDomainRenewalModal:d,openNftAttributesModal:u}=Ke(),m=_r(),p=me(),{isLottie:f,shouldPlay:h,noLoop:g,markHover:v,unmarkHover:w}=function(e,t,a){var o;const r=Boolean(null===(o=e.metadata)||void 0===o?void 0:o.lottie),i=Us(ig(t,r?a:void 0,void 0)),[s,c,l]=rm();if(!r)return{isLottie:r};return{isLottie:r,shouldPlay:i||s,noLoop:!s,...!(n.pz||n.Ni)&&{markHover:c,unmarkHover:l}}}(a,p,i),[y,b]=ie(),E=!!o&&o.length>0,k=de((()=>null==o?void 0:o.includes(a.address)),[o,a.address]),C=Boolean(y),N=r?(0,ha.GS)(r):void 0,S=void 0!==N&&N<=e.tI4,{shouldRender:A,ref:T}=$s({isOpen:E&&a.isOnSale,withShouldRender:!0}),{isContextMenuOpen:I,contextMenuAnchor:B,handleBeforeContextMenu:_,handleContextMenu:x,handleContextMenuHide:D,handleContextMenuClose:L}=PC({elementRef:p}),O=xr("wdIabR9U",!E&&a.isOnSale&&"TcBQN9hf",C&&"AFzPXqVX",E&&a.isOnSale&&TS);function M(e){Do(e),d({addresses:[a.address]})}const P=zo((()=>{b(B)})),F=zo((()=>{const{right:e,y:t}=p.current.getBoundingClientRect();b({x:e,y:t})})),R=zo((()=>{b(void 0),L()}));function U(){return ge.createElement("button",{type:"button",className:xr("VpqrQ0wB",s&&TS),onClick:s?void 0:M},N<0?"Expired":m("$expires_in %days%",{days:m("$in_days",N)},void 0,1))}return Ee((()=>{I?P():R()}),[I]),ge.createElement("div",{key:a.address,ref:p,className:O,onMouseEnter:v,onMouseLeave:w,onClick:E&&a.isOnSale?void 0:function(){E?k?l({address:a.address}):c({addresses:[a.address]}):(ul(),u({nft:a}))},onMouseDown:_,onContextMenu:x},E&&!a.isOnSale&&ge.createElement(aS,{isChecked:k,name:"nft",value:a.address,className:"VqbpRLGL"}),!E&&ge.createElement(NS,{nft:a,isContextMenuMode:Boolean(B),dnsExpireInDays:N,menuAnchor:y,onOpen:F,onClose:R,onCloseAnimationEnd:D}),f?ge.createElement("div",{className:IS},ge.createElement(of,{shouldStretch:!0,play:h,noLoop:g,tgsUrl:a.metadata.lottie,previewUrl:a.thumbnail,noPreviewTransition:!0,className:xr(AS,k&&BS)}),S&&U()):ge.createElement(Kf,{url:a.thumbnail,className:IS,imageClassName:xr(AS,k&&BS)},S&&U()),A&&ge.createElement("div",{ref:T,className:"qtSm9QOQ"},m("For sale. Cannot be sent and burned")),ge.createElement("div",{className:"v0SE1VHL"},ge.createElement("b",{className:"KokxXqZI"},a.name||(0,jt.W)(a.address,4))),ge.createElement("div",{className:"_xEjK2pw"},a.collectionName))})),xS=fe(je((e=>{var t;const{orderedAddresses:n,byAddress:a,currentCollectionAddress:o,selectedAddresses:r,dnsExpiration:i}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)||{},{isNftBuyingDisabled:s}=e.restrictions,{blacklistedNftAddresses:c,whitelistedNftAddresses:l}=ct(e)||{};return{orderedAddresses:n,selectedAddresses:r,byAddress:a,currentCollectionAddress:o,blacklistedNftAddresses:c,whitelistedNftAddresses:l,isNftBuyingDisabled:s,dnsExpiration:i,isViewAccount:It(e)}}),((e,t,n)=>{var a;const{currentCollectionAddress:o}=(null===(a=ct(e))||void 0===a?void 0:a.nfts)||{};return n(`${e.currentAccountId}_${o||"all"}`)}))((function(t){let{isActive:n,orderedAddresses:a,selectedAddresses:o,byAddress:r,currentCollectionAddress:i,dnsExpiration:s,isNftBuyingDisabled:c,blacklistedNftAddresses:l,whitelistedNftAddresses:d,isViewAccount:u}=t;const{fetchNftsFromCollection:m,clearNftsSelection:p}=Ke(),f=_r(),h=me(),{isPortrait:g,isLandscape:v}=hi(),w=Boolean(null==o?void 0:o.length),[y,b]=ie(!1),E=yN(!0,g)||".nfts-container";ce((()=>{i&&m({collectionAddress:i})}),[i]),ce(p,[p,n,i]),ce((()=>w?qh(p):void 0),[w]);const k=de((()=>{if(!a||!r)return;const t=new Set(l),n=new Set(d),o=a.reduce(((a,o)=>{const s=r[o];return!s||i&&s.collectionAddress!==i&&(i!==e.X6R||!s.isTelegramGift)||s.isHidden&&!n.has(s.address)||t.has(s.address)||a.push(s),a}),[]);return y?o:o.slice(0,50)}),[r,i,a,l,d,y]),C=zo((()=>{var e;const t=null===(e=h.current)||void 0===e?void 0:e.closest(E);if(!t||y)return;const{scrollTop:n,scrollHeight:a,clientHeight:o}=t;a-n-o<=800&&b(!0)}));le((()=>{var e;if(!E||null==k||!k.length)return;const t=null===(e=h.current)||void 0===e?void 0:e.closest(E);return t?(t.addEventListener("scroll",C),()=>{t.removeEventListener("scroll",C)}):void 0}),[null==k?void 0:k.length,E]);const{observe:N}=rg({throttleMs:200,isDisabled:!(null!=k&&k.length)});return void 0===k?ge.createElement("div",{className:xr(SS,"AmFNUCBn")},ge.createElement(fv,null)):0===k.length?ge.createElement("div",{className:SS},ge.createElement(of,{play:n,tgsUrl:_p.happy,previewUrl:_p.happyPreview,size:g?e.jzp:e.igk,className:"e1KDXttI",noLoop:!1,nonInteractive:!0}),ge.createElement("div",{className:"VvA3zcqe"},ge.createElement("p",{className:"dfDaqpor"},f("No NFTs yet")),!c&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:"T93VHAYd"},rr(f("$nft_explore_offer"),g?["simple_markdown"]:void 0)),ge.createElement("button",{type:"button",className:"MQHqPBS8",onClick:function(t){Do(t),dc(e.FgL,{title:e.Ia6,subtitle:Qo(e.FgL)})}},f("Open %nft_marketplace%",{nft_marketplace:e.Ia6}))))):ge.createElement("div",{ref:h,className:xr("dpiMguJa",v&&"UaTzvOas")},k.map((e=>ge.createElement(_S,{key:e.address,nft:e,selectedAddresses:o,tonDnsExpiration:ya(e,s),isViewAccount:u,observeIntersection:N}))))}))),DS=fe(je((e=>{var t;const{selectedAddresses:n,byAddress:a,currentCollectionAddress:o,dnsExpiration:r}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)||{};return{selectedAddresses:n,byAddress:a,currentCollectionAddress:o,dnsExpiration:r,isViewMode:It(e)}}))((function(t){let{isViewMode:n,selectedAddresses:a,byAddress:o,dnsExpiration:r,currentCollectionAddress:i}=t;const{selectAllNfts:s,clearNftsSelection:l,startTransfer:d,burnNfts:u,openHideNftModal:m,openDomainRenewalModal:p}=Ke(),f=_r(),h=(null==a?void 0:a.length)??1,g=Boolean(null==a?void 0:a.length),v=de((()=>!(null==a||!a.length)&&a.every((e=>wa(null==o?void 0:o[e])))),[o,a]),w=de((()=>{if(!v)return;const e=ba(a??[],o,r);return e?(0,ha.GS)(e):void 0}),[v,r,a,o]),y=((null==a?void 0:a.length)??0)>1;Yi({isActive:g,onBack:l}),ce((()=>g?qh(l):void 0),[g]);const b=de((()=>(0,c.oE)([!n&&{name:"Send",value:"send"},!n&&v&&{name:y?"Renew All":"Renew",value:"renew",description:w&&w<0?y?"$expired_many":"Expired":f("$expires_in %days%",{days:f("$in_days",w)},void 0,(null==a?void 0:a.length)??1)},!e.TI6&&{name:"Hide",value:"hide"},!n&&{name:"Burn",value:"burn",isDangerous:!0},{name:"Select All",value:"select-all",withDelimiter:!0}])),[v,w,n,f,null==a?void 0:a.length,y]),E=zo((()=>{const e=a.map((e=>o[e]))??[];l(),d({isPortrait:gi(),nfts:e})})),k=zo((()=>{const e=a.map((e=>o[e]))??[];l(),u({nfts:e})})),C=zo((()=>{l(),m({addresses:a,isCollection:!1})})),[N,S]=ie(),A=Boolean(N),T=me(),I=me(),B=zo((()=>{const{right:e,bottom:t}=T.current.getBoundingClientRect();S({x:e,y:t})})),_=zo((()=>{S(void 0)})),x=zo((()=>T.current)),D=zo((()=>document.body)),L=zo((()=>I.current)),O=zo((()=>({withPortal:!0}))),M=zo((e=>{switch(e){case"send":E();break;case"hide":C();break;case"burn":k();break;case"select-all":s({collectionAddress:i});break;case"renew":p({addresses:a})}}));return ge.createElement("div",{className:jN},ge.createElement(js,{isSimple:!0,isText:!0,ariaLabel:f("Back"),className:YN,onClick:l},ge.createElement("i",{className:xr(GN,"icon-chevron-left"),"aria-hidden":!0})),ge.createElement("div",{className:QN},ge.createElement("div",{className:XN},h>1?f("%amount% NFTs Selected",{amount:h}):f("1 NFT Selected"))),ge.createElement("div",null,ge.createElement(js,{isSimple:!0,ref:T,className:JN,onClick:B,ariaLabel:f("Open Menu")},ge.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),ge.createElement(eg,{isOpen:A,ref:I,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:N,getTriggerElement:x,getRootElement:D,getMenuElement:L,getLayout:O,buttonClassName:eS,bubbleClassName:ZN,itemDescriptionClassName:tS,items:b,onSelect:M,onClose:_})))}))),LS={contentPanel:"i_rtpHaE",landscapeContentPanel:"UzEmZry2",container:"wmmKI_Q8",landscapeContainer:"xwYhKvej",assetsPanel:"LsCBKsIM",tabsContainer:"qxl4O9Cg",tabsSlide:"ES31v1R7",tab:"Sd0JpmLp",slides:"vxe8iSc4",slide:"MU2eE1B1",portraitContainer:"joLgqn25",tabsContent:"VjN3P9Zv",tabs:"q8lTUtx5",tabsOverlay:"razu85QH"},OS=Object.values(zn).length/2,MS=3*n.$;let PS=0;const FS=fe(je((e=>{var t;const n=e.currentAccountId,{activeContentTab:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,selectedNftsToHide:i,vesting:s,nfts:{byAddress:c,currentCollectionAddress:l,selectedAddresses:d,collectionTabs:u}={},currentSiteCategoryId:m}=ct(e)??{},p=Wt(e),f=gt(e.currentAccountId)(p),h=Boolean(null==s||null===(t=s.info)||void 0===t?void 0:t.length),g=n?Sa(e,n):void 0,v=function(e){const t=rt(e);return Boolean(null==t?void 0:t.addressByChain.ton)}(e);return{nfts:c,currentCollectionAddress:l,selectedAddresses:d,tokensCount:f,activeContentTab:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,selectedNftsToHide:i,states:g,hasVesting:h,currentSiteCategoryId:m,doesSupportNft:v,collectionTabs:u}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:a,activeContentTab:o,tokensCount:r,nfts:i,currentCollectionAddress:s,selectedAddresses:l,onStakedTokenClick:d,blacklistedNftAddresses:u,whitelistedNftAddresses:m,selectedNftsToHide:p,states:f,hasVesting:h,currentSiteCategoryId:g,doesSupportNft:v,collectionTabs:w,onTabsStuck:y}=t;const{selectToken:b,showTokenActivity:E,setActiveContentTab:C,openNftCollection:N,closeNftCollection:S,openSettingsWithState:A}=Ke(),T=_r(),{isPortrait:I,isLandscape:B}=hi(),_=me(),x=Boolean(null==l?void 0:l.length),D=de((()=>(null==f?void 0:f.filter(lu).length)??0),[f]);Ee((()=>{s?PS+=1:PS=0}),[s]);const L=zo((e=>{"hidden_nfts"===e?A({state:Hn.HiddenNfts}):N({address:e},{forceOnHeavyAnimation:!0})})),O=de((()=>{const t=new Set(u),n=new Set(m);let a=!1;const o=Object.values(i??{}).reduce(((e,o)=>(!o.collectionAddress||o.isHidden&&!n.has(o.address)||t.has(o.address)||(e[o.collectionAddress]||(e[o.collectionAddress]={value:o.collectionAddress,name:o.collectionName||T("Unnamed collection")}),!a&&o.isTelegramGift&&(a=!0)),e)),{}),r=Object.values(o);return r.sort(((e,t)=>e.name.localeCompare(t.name))),a&&r.unshift({value:e.X6R,name:T("Telegram Gifts"),fontIcon:"gift",withDelimiterAfter:!0}),r}),[T,i,u,m]),M=de((()=>{if(e.TI6)return!1;const t=new Set(u);return Object.values(i??{}).some((e=>t.has(e.address)||e.isHidden))}),[u,i]),P=me(),F=r+(h?1:0)+D,R=F<=(I?e.nj6:e.hUs),[U,W]=de((()=>{const t=(0,c.oE)([!R&&{id:zn.Assets,title:T("Assets"),className:LS.tab},{id:zn.Activity,title:T("Activity"),className:LS.tab},!I&&!e.TI6&&{id:zn.Explore,title:T("Explore"),className:LS.tab},v&&{id:zn.Nft,title:T("Collectibles"),className:LS.tab,menuItems:M?[...O,{name:T("Hidden NFTs"),value:"hidden_nfts",withDelimiter:!0}]:O,onMenuItemClick:L}]);return[t.length,t.concat((null==w?void 0:w.map(((t,n)=>{const a=O.find((e=>e.value===t));if(a)return{id:OS+n,title:a.name,className:LS.tab,collectionAddress:t,icon:t===e.X6R?"icon-gift":void 0}})).filter(Boolean))??[])]}),[w,v,I,T,O,M,R]),H=de((()=>{const e=W.findIndex((e=>e.id===o));return-1===e?zn.Assets:e}),[W,o]),$=de((()=>{if(!s||W[H].id===zn.Nft)return H;const e=(null==w?void 0:w.indexOf(s))??-1;return-1===e?H:U+e}),[H,w,s,U,W]);ye((()=>{void 0===o&&C({tab:zn.Assets})}));const V=zo((e=>{const t=W.findIndex((t=>{let{id:n}=t;return n===e}));if(t>=U){const e=w[t-U];N({address:e},{forceOnHeavyAnimation:!0})}else b({slug:void 0},{forceOnHeavyAnimation:!0}),C({tab:e})})),z=zo((()=>{const e=wN(P.current,I);null==e||e.scrollTo(0,0)})),{handleScroll:K,isScrolled:q,update:j}=fg();Yi({isActive:0!==H,onBack:()=>V(zn.Assets)});const Y=Kb(),G=n.XS-Y-1,Q=zo((e=>{const{intersectionRect:{bottom:t},intersectionRatio:n}=e,a=n<1&&t>0&&Math.abs(t-qa().height)>MS;null==y||y(a),(0,k.RK)((()=>{e.target.classList.toggle(LS.tabsContainerStuck,a)}))}));qb({isDisabled:!I,targetRef:_,rootMargin:`${G}px 0px 0px 0px`,threshold:[1],cb:Q}),ce((()=>{if(n.TF)return Hr(P.current,{includedClosestSelector:".swipe-container",excludedClosestSelector:".dapps-feed",onSwipe:(e,t)=>{var n;if(t===Pr.Up||t===Pr.Down||null!==(n=e.target)&&void 0!==n&&n.closest(`.${VN}`))return!1;if(t===Pr.Left){const e=W[Math.min(W.length-1,H+1)];return V(e.id),!0}if(t===Pr.Right){if(g)return!1;if(s)S();else{const e=W[Math.max(0,H-1)];V(e.id)}return!0}return!1},selectorToPreventScroll:".custom-scroll"})}),[W,V,H,s,g]);const X=zo((e=>{E({slug:e})})),J=zo((()=>{I||(0,k.YS)((()=>{const e=wN(P.current,I);e&&j(e)}))})),Z=xr(LS.container,n.TF&&"swipe-container",I?LS.portraitContainer:LS.landscapeContainer);function ee(e){if(0===H&&R&&!s)return ge.createElement(WN,{isActive:e,totalTokensAmount:F,onScroll:B?K:void 0});if(s&&W[H].id!==zn.Nft)return ge.createElement("div",{className:"nfts-container",onScroll:B?K:void 0},ge.createElement(xS,{key:`custom:${s}`,isActive:e}));switch(W[H].id){case zn.Assets:return ge.createElement(qN,{isActive:e,onTokenClick:X,onStakedTokenClick:d,onScroll:B?K:void 0});case zn.Activity:return ge.createElement(WN,{isActive:e,totalTokensAmount:F,onScroll:B?K:void 0});case zn.Explore:return ge.createElement(Hb,{isActive:e,onScroll:B?K:void 0});case zn.Nft:return ge.createElement(xf,{activeKey:PS,name:I?"slide":"slideFade",className:"nfts-container",onScroll:B?K:void 0},ge.createElement(xS,{key:s||"all",isActive:e}));default:return}}return ge.createElement("div",{className:Z},R&&ge.createElement("div",{className:LS.assetsPanel},ge.createElement(qN,{isActive:!0,isSeparatePanel:!0,onStakedTokenClick:d,onTokenClick:X})),ge.createElement("div",{className:xr(I?LS.contentPanel:LS.landscapeContentPanel)},function(){const e=x||!I&&g?2:s?1:0;return ge.createElement(ge.Fragment,null,ge.createElement("div",{ref:_,className:xr(LS.tabsContainer,s&&LS.tabsContainerForNftCollection,"with-notch-on-scroll",q&&"is-scrolled")},ge.createElement(xf,{name:"slideFade",className:LS.tabsContent,activeKey:e,slideClassName:LS.tabsSlide,shouldCleanup:!0,cleanupExceptionKey:0},x?ge.createElement(DS,null):!I&&g?ge.createElement(Rb,{id:g}):s?ge.createElement(nS,{key:"collection"}):ge.createElement(JE,{isActive:a,tabs:W,activeTab:H,onSwitchTab:V,onActiveTabClick:z,className:xr(LS.tabs,"content-tabslist"),overlayClassName:LS.tabsOverlay}))),ge.createElement(xf,{ref:P,name:I?"slide":"slideFade",activeKey:$,renderCount:U+((null==w?void 0:w.length)??0),className:xr(LS.slides,"content-transition"),slideClassName:xr(LS.slide,"custom-scroll"),onStop:J,onScroll:B?K:void 0},ee))}()),ge.createElement(bN,{isOpen:Boolean(null==p?void 0:p.addresses.length),selectedNftsToHide:p}))}))),RS=fe((function(e){let{isOpen:t,name:n,currentAccountId:a,onClose:o}=e;const{renameAccount:r}=Ke(),i=_r(),s=me(),[c,l]=ie(n);ce((()=>{t&&l(n)}),[t,n]),xp(s,!t);const d=zo((e=>{Do(e),0!==c.trim().length&&(r({accountId:a,title:c.trim()}),o())}));return ge.createElement(ac,{isCompact:!0,isOpen:t,title:i("Rename Wallet"),onClose:o},ge.createElement("form",{action:"#",onSubmit:d},ge.createElement("p",null,i("You can rename this wallet for easier identification.")),ge.createElement(sf,{ref:s,placeholder:i("Name"),onInput:l,value:c,maxLength:255,enterKeyHint:"done"}),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:o,className:Gs.button},i("Cancel")),ge.createElement(js,{isPrimary:!0,isSubmit:!0,isDisabled:0===c.trim().length,className:Gs.button},i("Save")))))})),US={root:"a3WLGvJB",slide:"HwTx4nDa",accountTitle:"MoMRv8lX",withBalance:"VUELTqry",accountTitleInteractive:"KaXidGii",accountTitleInner:"CsZvEIzk",arrowIcon:"fwj1nsFY",balance:"ReXRdYnq",balanceFractionPart:"rMdzMb2a",balanceCurrency:"LJreYpVF",balanceCurrencyPrefix:"iYR_GSsp",container:"yg1dh4un",dialog:"_GKFEXQQ",backdrop:"Yb4jStqu",dialog_compact:"VQfOatN5",dialogCompact:"VQfOatN5",createAccountButton:"_cBvU9yb",createAccountIcon:"wWwtr3AE"},WS=fe(je((e=>{const{walletVersions:t,settings:{byAccountId:n,baseCurrency:a,isSensitiveDataHidden:o}}=e,r=at(e),i=e.currentAccountId,s=null==r?void 0:r[i],c=Sa(e,i);return{currentAccountId:i,currentAccount:s,accounts:r,currentWalletVersion:null==t?void 0:t.currentVersion,settingsByAccountId:n,tokens:Wt(e),baseCurrency:a,stakingStates:c,isSensitiveDataHidden:o}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{currentAccountId:n,currentAccount:a,forceClose:o,accountClassName:r,accountSelectorClassName:i,withAccountSelector:s,withBalance:c,tokens:l,baseCurrency:d,stakingStates:u,isSensitiveDataHidden:m,accounts:p,currentWalletVersion:f,settingsByAccountId:h}=t;const{switchAccount:g,openAddAccountModal:v,openSettingsWithState:w}=Ke(),y=_r(),{isPortrait:b}=hi(),[E,k,C]=rm(!1),[N,S,A]=rm(!1),{shouldRender:T,ref:I}=$s({isOpen:E,className:"slow",withShouldRender:!0}),B="mnemonic"===(null==a?void 0:a.type)&&Boolean(null==a?void 0:a.addressByChain.tron),_=Boolean(null==a?void 0:a.addressByChain.ton),x="W5"!==f&&"hardware"!==(null==a?void 0:a.type)&&_&&!B,D=de((()=>Object.keys(p||{}).length),[p]),L=de((()=>l?YC(l,u):void 0),[l,u]),O=hr(d),{primaryWholePart:M,primaryFractionPart:P}=L||{};ce((()=>{E&&o&&C()}),[o,E]),ce((()=>T?qh(C):void 0),[C,E,T]),ce((()=>T&&I.current?Qr(I.current):void 0),[I,T]);const F=zo((e=>{ul(),C(),g({accountId:e})})),R=zo((()=>{ul(),C(),v()})),U=zo((()=>{ul(),C(),w({state:Hn.WalletVersion})})),W=xr(US.container,i),H=xr(US.accountTitle,s&&!c&&US.accountTitleInteractive,c&&US.withBalance,r);function $(){const t=xr(US.dialog,D<=2&&US.dialog_compact);return ge.createElement("div",{ref:I,className:W,tabIndex:-1,role:"dialog"},ge.createElement("div",{className:US.backdrop,onClick:()=>C()}),ge.createElement("div",{className:t},p&&Object.entries(p).map((t=>{let[a,{title:o,addressByChain:r,type:i}]=t;return function(t,a,o,r){const{cardBackgroundNft:i}=(null==h?void 0:h[t])||{};return ge.createElement(kv,{key:t,accountId:t,addressByChain:a,accountType:o,isActive:t===n,title:r,cardBackgroundNft:i,canEditAccount:!e.TI6,onClick:F,onEdit:S})}(a,r,i,o)})),x&&ge.createElement(js,{className:US.createAccountButton,onClick:U},y("Switch to W5"),ge.createElement("i",{className:xr(US.createAccountIcon,"icon-versions"),"aria-hidden":!0})),ge.createElement(js,{className:US.createAccountButton,onClick:R},y("Add Wallet"),ge.createElement("i",{className:xr(US.createAccountIcon,"icon-plus"),"aria-hidden":!0}))))}return ge.createElement(ge.Fragment,null,ge.createElement(xf,{name:"slideVerticalFade",activeKey:c?1:0,className:US.root,slideClassName:US.slide},c&&ge.createElement("div",{className:xr(US.balance,"rounded-font")},ge.createElement(ey,{isActive:m,shouldHoldSize:!0,align:"center",cols:10,rows:2,cellSize:8.5},ge.createElement("span",{className:US.currencySwitcher},1===O.length&&ge.createElement("span",{className:xr(US.balanceCurrency,US.balanceCurrencyPrefix)},O),M,P&&ge.createElement("span",{className:US.balanceFractionPart},".",P),O.length>1&&ge.createElement("span",{className:US.balanceCurrency}," ",O)))),ge.createElement("div",{className:H,onClick:s?()=>{k()}:void 0},ge.createElement("span",{className:US.accountTitleInner},(a&&(0,Ye.S)(a))??""),s&&!c&&ge.createElement("i",{className:xr("icon icon-caret-down",US.arrowIcon),"aria-hidden":!0}))),T&&(b?ge.createElement(Ys,null,$()):$()),ge.createElement(RS,{isOpen:N,currentAccountId:n,name:(null==a?void 0:a.title)??"",onClose:A}))}))),HS="heOBVClj",$S=fe((function(){const{setIsManualLockActive:e}=Ke(),t=_r(),n=zo((()=>{e({isActive:!0,shouldHideBiometrics:!0}),ul()}));return ge.createElement(js,{className:HS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t("App Lock"),onClick:n},ge.createElement("i",{className:"icon-manual-lock","aria-hidden":!0}))})),VS=fe((function(e){let{isViewMode:t}=e;const{requestOpenQrScanner:a}=Ke(),o=_r(),r=Zb()&&!t,i=zo((()=>{n.pz&&(0,n.v3)()?alert("Scanning is temporarily not available"):a()}));if(r)return ge.createElement(js,{className:xr(HS,"qduFjDA3"),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:o("Scan QR Code"),onClick:i},ge.createElement("i",{className:"icon-qr-scanner","aria-hidden":!0}))})),zS=fe((function(){const{openSettings:e}=Ke(),t=_r();return ge.createElement(js,{className:HS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t("Main menu"),onClick:e},ge.createElement("i",{className:"icon-cog","aria-hidden":!0}))})),KS=fe((function(e){let{isFullscreen:t}=e;const n=_r(),a=zo((()=>{var e,n;t?null===(e=ro())||void 0===e||e.exitFullscreen():null===(n=ro())||void 0===n||n.requestFullscreen()}));return ge.createElement(js,{className:HS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:n("Toggle fullscreen"),onClick:a},ge.createElement("i",{className:t?"icon-fullscreen-exit":"icon-fullscreen","aria-hidden":!0}))})),qS=fe((function(){const{setAppLayout:e}=Ke(),t=_r(),{isPortrait:n}=hi(),a=zo((()=>{e({layout:n?"landscape":"portrait"})}));return ge.createElement(js,{className:HS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t(n?"Toggle to landscape layout":"Toggle to portrait layout"),onClick:a},ge.createElement("i",{className:n?"icon-view-landscape":"icon-view-portrait","aria-hidden":!0}))})),jS=fe((function(e){let{isSensitiveDataHidden:t}=e;const{setIsSensitiveDataHidden:n}=Ke(),a=_r(),o=zo((()=>{n({isHidden:!t})}));return ge.createElement(js,{className:HS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:a(t?"Show Sensitive Data":"Hide Sensitive Data"),onClick:o},ge.createElement("i",{className:t?"icon-eye":"icon-eye-closed","aria-hidden":!0}))})),YS="gwvxwQs9",GS="EX9t6A36",QS="mKaPMjmN",XS=fe(je((e=>{const{isFullscreen:t,settings:{isAppLockEnabled:n,isSensitiveDataHidden:a}}=e,o=bt(e);return{isViewMode:It(e),isAppLockEnabled:n&&o,isFullscreen:Boolean(t),isSensitiveDataHidden:Boolean(a)}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isViewMode:a,withBalance:o,areTabsStuck:r,isScrolled:i,isAppLockEnabled:s,isSensitiveDataHidden:c,isFullscreen:l}=t;const{isPortrait:d}=hi(),u=e.hL1||n.cp;if(d){const t=xr(YS,r&&"IHMQLLd2",i&&"_sQ5O2j4"),n=1+(s?1:0)+(e.tKX?1:0)+(u?1:0);return ge.createElement("div",{className:t},ge.createElement("div",{className:GS,style:`--icons-amount: ${n}`},ge.createElement(VS,{isViewMode:a}),ge.createElement(WS,{withBalance:o,withAccountSelector:!e.TI6}),ge.createElement("div",{className:"oLoKLzOb"},s&&ge.createElement($S,null),ge.createElement(jS,{isSensitiveDataHidden:c}),e.tKX&&ge.createElement(KS,{isFullscreen:l}),u&&ge.createElement(qS,null))))}return ge.createElement("div",{className:YS},ge.createElement("div",{className:GS},ge.createElement("div",{className:QS},ge.createElement(jS,{isSensitiveDataHidden:c}),ge.createElement(VS,{isViewMode:a}),s&&ge.createElement($S,null)),ge.createElement(WS,{withBalance:o,withAccountSelector:!e.TI6}),ge.createElement("div",{className:QS},e.tKX&&ge.createElement(KS,{isFullscreen:l}),u&&ge.createElement(qS,null),ge.createElement(zS,null))))})));function JS(e){let t=document.querySelector(`meta[name="theme-color"][media="(prefers-color-scheme: ${e?"light":"dark"})"]`);return t||(t=document.createElement("meta"),t.setAttribute("name","theme-color"),t.setAttribute("media",`(prefers-color-scheme: ${e?"light":"dark"})`),document.getElementsByTagName("head")[0].appendChild(t)),t}const ZS={portraitContainer:"nDlx2B3w",container:"H35Oa6Xc",testnetWarning:"FeOh0iRA",wrapper:"PUMHiqAW",wrapper_landscape:"j9PIExiC",wrapperLandscape:"j9PIExiC",wrapperFlex:"WUreitT1",icon:"l3sBnS54",text:"WFekTm0y",light:"TR3h5nXi",closeButton:"tQS1IhkF",domainPreviewWrapper:"qB47T3_D",domainPreview:"VOiW6ZiQ",domainPreview_1:"qdZywUBz",domainPreview1:"qdZywUBz",domainPreview_2:"z795yKpX",domainPreview2:"z795yKpX",domainPreview_3:"QhDZUBwR",domainPreview3:"QhDZUBwR",linkContainer:"fjbVep3r",link:"LEqLbgwy"},eA=fe(je((e=>({theme:e.settings.theme})),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isRequired:t,theme:n,onOpenBackupWallet:a}=e;const{shouldRender:o,ref:r}=$s({isOpen:t,noMountTransition:!0,withShouldRender:!0}),{isLandscape:i}=hi(),s=_r();if(function(e){let{isActive:t,currentTheme:n,lightColor:a,darkColor:o}=e;ce((()=>{const e=JS(!0),r=JS(),i="dark"===n?o:a,s="light"===n?a:o;return t&&(e.setAttribute("content",i),r.setAttribute("content",s)),()=>{e.remove(),r.remove()}}),[a,t,o,n])}({isActive:t,currentTheme:n,lightColor:"#F36A6B",darkColor:"#C44646"}),o)return ge.createElement("div",{ref:r,className:xr(ZS.wrapper,i&&ZS.wrapper_landscape),onClick:()=>{a()}},s("Wallet is not backed up"),ge.createElement("i",{className:xr(ZS.icon,"icon-chevron-right"),"aria-hidden":!0}),ge.createElement("p",{className:ZS.text},s("Back up wallet to have full access to it")))}))),tA="open",nA=fe((function(e){let{children:t,isShown:n}=e;const a=me(),o=me(n),[r,i]=ie(n),s=be(n),c=me();function l(){a.current&&(a.current.classList.toggle(tA),o.current=!o.current)}void 0!==s&&s!==n&&(n&&!o.current?(i(!0),c.current&&window.clearTimeout(c.current),setTimeout((()=>(0,k.RK)(l)),200)):((0,k.RK)(l),c.current=window.setTimeout((()=>{i(!1)}),200)));const d=ge.createElement("div",{className:"content"},t);return ge.createElement("div",{ref:a,className:xr("collapsible",n&&"shown",o.current&&tA)},r?d:void 0)}));let aA=[];const oA=fe(je((e=>{const{nfts:t}=ct(e)||{};return{orderedAddresses:null==t?void 0:t.orderedAddresses,byAddress:null==t?void 0:t.byAddress,dnsExpiration:null==t?void 0:t.dnsExpiration}}))((function(t){let{orderedAddresses:n,byAddress:a,dnsExpiration:o}=t;const{openDomainRenewalModal:r}=Ke(),i=_r(),{isLandscape:s}=hi(),c=ve(),l=de((()=>function(t,n,a){const o=[];if(n&&a)for(const r of t){const t=n[r];(0,ha.GS)(ya(t,a)??1/0)<=e.wbd&&o.push(t)}return o}(n??[],a,o).filter((e=>{let{address:t}=e;return!aA.includes(t)}))),[a,aA,n]),d=l.length>0,u=Vh(d?l:void 0,!0),m=de((()=>{const e=ba(u??[],void 0,o);return e?(0,ha.GS)(e):void 0}),[u,o]),p=de((()=>{if(!m||m>=0||!u)return[];const e=Date.now();return u.filter((t=>{const n=ya(t,o);return n&&n<e}))}),[o,m,u]);return ge.createElement(nA,{isShown:d},ge.createElement("div",{className:xr(ZS.wrapper,ZS.wrapperFlex,s&&ZS.wrapper_landscape),onClick:function(){const e=(u??[]).map((e=>{let{address:t}=e;return t}));r({addresses:e})}},function(){const e=(u??[]).slice(0,3);return ge.createElement("div",{className:ZS.domainPreviewWrapper},e.map(((t,n)=>ge.createElement("img",{key:t.address,src:t.thumbnail,alt:t.name,style:`--index: ${n}`,className:xr(ZS.domainPreview,ZS[`domainPreview_${e.length}`])}))))}(),ge.createElement("div",null,1===(u??[]).length?i("Renew Domain"):i("Renew Domains"),ge.createElement("i",{className:xr(ZS.icon,"icon-chevron-right"),"aria-hidden":!0}),ge.createElement("p",{className:xr(ZS.text,ZS.light)},function(){if(void 0!==m)return 1===l.length?m<0?i("$domain_was_expired",{domain:l[0].name}):i("$domain_expire",{domain:l[0].name,days:i("$in_days",m,"i")}):m<0?i("$domains_was_expired",{domain:p.length},void 0,p.length):i("$domains_expire",{domain:l.length,days:i("$in_days",m,"i")},void 0,l.length)}())),ge.createElement("button",{type:"button",className:ZS.closeButton,"aria-label":i("Close"),onClick:function(e){Do(e),aA=[...aA,...l.map((e=>{let{address:t}=e;return t}))],c()}},ge.createElement("i",{className:"icon-close","aria-hidden":!0}))))}))),rA=fe(je((e=>({isSecurityWarningHidden:e.settings.isSecurityWarningHidden})))((function(t){let{isSecurityWarningHidden:n}=t;const{closeSecurityWarning:a}=Ke(),{shouldRender:o,ref:r}=$s({isOpen:!n,noMountTransition:!0,withShouldRender:!0}),{isLandscape:i}=hi(),s=_r(),c=zo((e=>{e.stopPropagation(),a()}));if(o)return ge.createElement("div",{ref:r,className:xr(ZS.wrapper,i&&ZS.wrapper_landscape),onClick:function(){dc(e.tpB)}},s("Consider More Secure Version"),ge.createElement("i",{className:xr(ZS.icon,"icon-chevron-right"),"aria-hidden":!0}),ge.createElement("p",{className:ZS.text},s("Install our native app or browser extension.")),ge.createElement("button",{type:"button",className:ZS.closeButton,"aria-label":s("Close"),onClick:c},ge.createElement("i",{className:"icon-close","aria-hidden":!0})))}))),iA=fe(je((e=>{var t;const n=rt(e);return{isMultisig:null==n||null===(t=n.isMultisigByChain)||void 0===t?void 0:t.tron,isViewMode:"view"===(null==n?void 0:n.type)}}))((function(e){let{isMultisig:t,isViewMode:n}=e;const{isLandscape:a}=hi(),o=_r(),r=!!t&&!n,i=fk(o.code,"seedScam");return ge.createElement(nA,{isShown:r},ge.createElement("div",{className:xr(ZS.wrapper,a&&ZS.wrapper_landscape)},o("Multisig Wallet Detected"),ge.createElement("p",{className:ZS.text},o("$multisig_warning_text",{multisig_warning_link:ge.createElement("span",{className:ZS.linkContainer},ge.createElement("i",{className:xr(ZS.link,"icon-chevron-right"),"aria-hidden":!0}),ge.createElement("a",{href:i,className:ZS.link,target:"_blank",rel:"noreferrer"},o("$multisig_warning_link")))}))))}))),sA=!(e.TI6||n.cp||e.hL1||n.pz||n.Ni||e.tKX),cA=fe(je((e=>{var t;return{isBackupRequired:Boolean(null===(t=ct(e))||void 0===t?void 0:t.isBackupRequired),isTestnet:e.settings.isTestnet,isViewMode:It(e)}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isBackupRequired:t,isTestnet:n,isViewMode:a,onOpenBackupWallet:o}=e;const{isPortrait:r}=hi(),i=_r();return ge.createElement(ge.Fragment,null,n&&ge.createElement("div",{className:r?ZS.portraitContainer:ZS.container},ge.createElement("div",{className:ZS.testnetWarning},i("Testnet Version"))),!a&&ge.createElement(ge.Fragment,null,ge.createElement(eA,{isRequired:t,onOpenBackupWallet:o}),ge.createElement(oA,null),ge.createElement(iA,null)),sA&&ge.createElement(rA,null))}))),lA=fe(je((e=>{var t,n;const{ledger:a}=rt(e)||{},o=ct(e),{currentTokenSlug:r}=o??{},{isOnRampDisabled:i}=e.restrictions;return{stakingState:e.currentAccountId?Ia(e,e.currentAccountId):void 0,currentTokenSlug:r,isTestnet:e.settings.isTestnet,isLedger:Boolean(a),isViewMode:It(e),isStakingInfoModalOpen:e.isStakingInfoModalOpen,isMediaViewerOpen:Boolean(null===(t=e.mediaViewer)||void 0===t?void 0:t.mediaId),isSwapDisabled:da(e),isStakingDisabled:_a(e),isOnRampDisabled:i,theme:e.settings.theme,accentColorIndex:null===(n=ut(e))||void 0===n?void 0:n.accentColorIndex}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:a,currentTokenSlug:o,stakingState:r,isTestnet:i,isViewMode:s,isLedger:c,isStakingInfoModalOpen:l,isSwapDisabled:d,isStakingDisabled:u,isOnRampDisabled:m,isMediaViewerOpen:p,theme:f,accentColorIndex:h}=t;const{selectToken:g,openBackupWalletModal:v,setActiveContentTab:w,closeStakingInfo:y,openStakingInfoOrStart:b,changeCurrentStaking:E,setLandscapeActionsActiveTabIndex:k,loadExploreSites:C,openReceiveModal:N,updatePendingSwaps:S}=Ke(),A=me(),T=me(),I=me(),B=Kb(),[_,x,D]=rm(!_l()),[L,O]=ie(!1),M=3*n.$+B,P=r?cu(r):"inactive";Bl(D,x),Ni("receive",N),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ce((()=>{if(n.TF){if(!e)return null==jb||jb.setAttribute("content",Yb),n.pz&&!n._7&&document.addEventListener("gesturestart",Do),()=>{null==jb||jb.setAttribute("content",Gb),n.pz&&!n._7&&document.removeEventListener("gesturestart",Do)};null==jb||jb.setAttribute("content",Gb)}}),[e])}(p);const{isPortrait:F,isLandscape:R}=hi();ye((()=>{e.TI6||C({isLandscape:R})})),cg(S,_?3e3:15e3);const{isVisible:U}=qb({isDisabled:!F||!a,targetRef:A,rootMargin:`-${M}px 0px 0px 0px`,threshold:[1]}),{isVisible:W}=qb({isDisabled:!F||!a,targetRef:A,rootMargin:`-${M}px 0px 0px 0px`}),H=zo((()=>{g({slug:void 0}),w({tab:zn.Assets})}));ce((()=>{if(n.TF&&F&&T.current&&o)return Hr(T.current,{excludedClosestSelector:".token-card",onSwipe:(e,t)=>t===Pr.Right&&(H(),!0)})}),[o,H,F]);const $=Vf(f);hh(F?T:I,$,h);const V=zo((e=>{e&&E({stakingId:e}),F||s?b():k({index:Vn.Stake})}));return ge.createElement(ge.Fragment,null,!n.bA&&(F?ge.createElement("div",{ref:T,className:"c4YKj_bz"},ge.createElement("div",{className:"rfAUzAO1"},ge.createElement(cA,{onOpenBackupWallet:v}),ge.createElement(XS,{withBalance:!W,areTabsStuck:L,isScrolled:!U}),ge.createElement(vN,{ref:A,onTokenCardClose:H,onYieldClick:V}),!s&&ge.createElement(qC,{containerRef:T,isTestnet:i,stakingStatus:P,isStakingDisabled:u,isSwapDisabled:d,isOnRampDisabled:m,onEarnClick:V})),ge.createElement(FS,{isActive:a,onStakedTokenClick:V,onTabsStuck:O})):ge.createElement("div",{ref:I,className:"nZyFvDbE"},ge.createElement("div",{className:xr("mpB6taR7","custom-scroll")},ge.createElement(cA,{onOpenBackupWallet:v}),ge.createElement(XS,null),ge.createElement(vN,{onTokenCardClose:H,onYieldClick:V}),!s&&ge.createElement($C,{containerRef:I,stakingStatus:P,isLedger:c,theme:f})),ge.createElement("div",{className:"Sr6Y7sw5"},ge.createElement(FS,{onStakedTokenClick:V})))),ge.createElement(Fk,null),ge.createElement($k,{isOpen:l,onClose:y}),ge.createElement(mk,null),ge.createElement(jE,null),ge.createElement(qk,null),ge.createElement(Uk,null),ge.createElement(Xk,null),ge.createElement(Jk,null),ge.createElement(SE,null),ge.createElement(kE,null),!n.cp&&!n.bA&&ge.createElement(jk,null))}))),dA=fe((function(t){let{isActive:n,isLoading:a,error:o,onClearError:r,onSubmit:i,onBack:s,onClose:c}=t;const l=_r();return Yi({isActive:n,onBack:s}),ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:l("Enter Password"),onClose:c}),ge.createElement(Hf,{isActive:n,isLoading:a,error:o,operationType:"passcode",withCloseButton:e.UMQ,submitLabel:l("Send"),cancelLabel:l("Back"),onSubmit:i,onCancel:s,onUpdate:r}))})),uA="cOGOPS4Q";var mA=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.SelectAccountsHardware=3]="SelectAccountsHardware",e[e.ViewMode=4]="ViewMode",e}(mA||{});const pA=fe(je((e=>{var t,n;const a=at(e),o=bt(e),{byId:r}=e.walletVersions??{},i=null==r?void 0:r[e.currentAccountId],s=!(null==i||!i.length),{auth:{forceAddingTonOnlyAccount:c},hardware:{hardwareWallets:l}}=e;return{isOpen:e.isAddAccountModalOpen,isLoading:null===(t=e.accounts)||void 0===t?void 0:t.isLoading,error:null===(n=e.accounts)||void 0===n?void 0:n.error,accounts:a,isPasswordPresent:o,hardwareWallets:l,withOtherWalletVersions:s,forceAddingTonOnlyAccount:c}}))((function(t){let{isOpen:a,isLoading:o,error:r,hardwareWallets:i,isPasswordPresent:s,accounts:c,withOtherWalletVersions:l,forceAddingTonOnlyAccount:d}=t;const{addAccount:u,clearAccountError:m,closeAddAccountModal:p,afterSelectHardwareWallets:f,openSettingsWithState:h,resetHardwareWalletConnect:g,clearAccountLoading:v}=Ke(),w=_r(),[y,b]=ie(mA.Initial),[E,k]=ie(!1),C=zo((()=>{b(mA.Initial),m()})),N=zo((()=>{b(mA.Initial),k(!1),v()})),S=zo((()=>{s?wm()?ym().then((e=>u({method:"createAccount",password:e}))):(b(mA.Password),k(!1)):u({method:"createAccount",password:""})}));ce((()=>{d&&S()}),[d]);const A=zo((()=>{s?(k(!0),wm()?ym().then((e=>u({method:"importMnemonic",password:e}))):b(mA.Password)):u({method:"importMnemonic",password:""})})),T=zo((()=>{b(mA.ViewMode)})),I=zo((()=>{g(),b(mA.ConnectHardware)})),B=zo((()=>{f({hardwareSelectedIndices:[i[0].index]}),p()})),_=zo((e=>{e?B():b(mA.SelectAccountsHardware)})),x=zo((e=>{u({method:E?"importMnemonic":"createAccount",password:e})})),D=zo((()=>{p(),h({state:Hn.WalletVersion})}));function L(t,a,s){switch(s){case mA.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:w("Add Wallet"),onClose:p}),ge.createElement("div",{className:xr(uA,"t8FNRQDi")},ge.createElement(gv,{icon:"wallet-add",label:w("Create New Wallet"),onClick:S,isLoading:!E&&o})),ge.createElement("span",{className:"nnhxqZYR"},w("or import from")),ge.createElement("div",{className:uA},ge.createElement(gv,{icon:"key",label:w(e.TI6?"24 Secret Words":"12/24 Secret Words"),onClick:A,isLoading:E&&o}),n.sC&&ge.createElement(gv,{icon:"ledger-alt",label:w("Ledger"),onClick:I})),!e.TI6&&ge.createElement("div",{className:uA},ge.createElement(gv,{icon:"wallet-view",label:w("View Any Address"),onClick:T})),l&&ge.createElement("div",{className:"Ai_X8CqD"},ge.createElement("span",null,w("$wallet_switch_version_1",{action:ge.createElement("div",{role:"button",tabIndex:0,onClick:D,className:"d8gw7TAv"},w("$wallet_switch_version_2"))}))));case mA.Password:return ge.createElement(dA,{isActive:t,isLoading:o,error:r,onClearError:m,onSubmit:x,onBack:C,onClose:p});case mA.ConnectHardware:return ge.createElement(Hv,{isActive:t,onConnected:_,onCancel:C,onClose:p});case mA.SelectAccountsHardware:return ge.createElement($b,{accounts:c,hardwareWallets:i,onCancel:C,onClose:p});case mA.ViewMode:return ge.createElement(ov,{isActive:t,isLoading:o,onCancel:C,onClose:p})}}return ge.createElement(ac,{hasCloseButton:!0,isOpen:a,noBackdropClose:!0,dialogClassName:"ZNc8nV1w",contentClassName:"BGrP96yj",nativeBottomSheetKey:"add-account",forceFullNative:y===mA.Password,onCloseAnimationEnd:N,onClose:p},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:y,nextKey:y!==mA.Initial||wm()?void 0:mA.Password},L))}))),fA=fe((function(e){let{isActive:t,isInModal:n,mnemonic:a,checkIndexes:o,buttonLabel:r,onCancel:i,onSubmit:s,onClose:c}=e;const l=_r();return Yi({isActive:t,onBack:i}),ge.createElement("div",{className:Gs.transitionContentWrapper},ge.createElement(tg,{title:l("Let's Check!"),onClose:c}),ge.createElement("div",{className:xr(Gs.transitionContent,"custom-scroll")},ge.createElement("p",{className:xr(Eg.info,Eg.small)},l("Let’s make sure your secrets words are recorded correctly.")),ge.createElement(Lg,{descriptionClassName:xr(Eg.info,Eg.small),isActive:t,mnemonic:a,checkIndexes:o,isInModal:n,errorClassName:xr(Eg.error,Eg.small),onSubmit:s}),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:i,className:Gs.button},l("Back")),ge.createElement(js,{isPrimary:!0,forFormId:"check_mnemonic_form",className:Gs.button},r))))})),hA=fe((function(e){let{isActive:t,mnemonic:n,onNext:a,onClose:o}=e;const r=_r(),i=(null==n?void 0:n.length)||0;return Yi({isActive:t,onBack:o}),ge.createElement("div",{className:Gs.transitionContentWrapper},ge.createElement(tg,{title:r("%1$d Secret Words",i),onClose:o}),ge.createElement("div",{className:xr(Eg.mnemonicContainer,Gs.transitionContent,"custom-scroll")},ge.createElement(sv,{mnemonic:n}),a&&ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,onClick:a},r("Let's Check")))))})),gA=fe((function(e){let{isActive:t,privateKeyHex:n,onClose:a}=e;const o=_r();return Yi({isActive:t,onBack:a}),ge.createElement("div",{className:Gs.transitionContentWrapper},ge.createElement(tg,{title:o("Private Key"),onClose:a}),ge.createElement("div",{className:xr(Eg.mnemonicContainer,Gs.transitionContent,"custom-scroll")},ge.createElement("p",{className:xr(Eg.info,Eg.small)},ge.createElement(wg,{from:"⚠️"})," ",rr(o("$mnemonic_warning"))),ge.createElement("p",{className:Eg.privateKey},n)))})),vA=fe((function(e){let{isActive:t,onSubmit:n,onClose:a}=e;const o=_r(),[r,i]=ie(!1),[s,c]=ie(!1),[l,d]=ie(!1),u=r&&s&&l,m=zo((()=>{u&&n()}));return ge.createElement("div",{className:Gs.transitionContentWrapper},ge.createElement(tg,{title:o("Safety Rules"),onClose:a}),ge.createElement("div",{className:xr(Gs.transitionContent,"custom-scroll")},ge.createElement(rv,{customStickerClassName:Eg.modalSticker,customButtonWrapperClassName:Gs.buttons,isFullSizeButton:!1,isActive:t,isFirstCheckboxSelected:r,isSecondCheckboxSelected:s,isThirdCheckboxSelected:l,textFirst:o("$safety_rules_one"),textSecond:o("$safety_rules_two"),textThird:o("$safety_rules_three"),onFirstCheckboxClick:i,onSecondCheckboxClick:c,onThirdCheckboxClick:d,onSubmit:m})))}));var wA=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.mnemonic=2]="mnemonic",e[e.check=3]="check",e}(wA||{});const yA=fe(je((e=>{const{isBackupRequired:t}=ct(e)||{};return{currentAccountId:e.currentAccountId,isBackupRequired:t}}))((function(t){let{isOpen:n,currentAccountId:o,onClose:r,isBackupRequired:i}=t;const{setIsBackupRequired:s,setIsPinAccepted:c,clearIsPinAccepted:l}=Ke(),d=_r(),[u,m]=ie(wA.confirm),[p,f]=ie(wA.password),[h,g]=ie([]),[v,w]=ie(!1),[y,b]=ie(),E=me(void 0),k=u===wA.confirm||u===wA.password;ce((()=>{E.current=void 0}),[n]);const C=zo((()=>{m(wA.password),f(wA.mnemonic)})),N=zo((async e=>{if(w(!0),E.current=await(0,a.p)("fetchMnemonic",o,e),!E.current)return b("Wrong password, please try again."),w(!1),void ml();il()&&(c(),await pl(!0),l()),w(!1),f(wA.check),m(wA.mnemonic)})),S=zo((()=>{b(void 0)})),A=zo((()=>{var t;g(jd((null===(t=E.current)||void 0===t?void 0:t.length)||e.xA_)),m(wA.check),f(void 0)})),T=zo((()=>{m(wA.mnemonic),f(wA.check)})),I=zo((()=>{w(!1),b(void 0),m(wA.confirm),f(wA.password)})),B=zo((()=>{s({isMnemonicChecked:!0}),r()}));function _(t,n,a){const o=E.current;switch(a){case wA.confirm:return ge.createElement(vA,{isActive:t,onSubmit:C,onClose:r});case wA.password:return ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:d("Enter Password"),onClose:r}),ge.createElement(Hf,{isActive:t,isLoading:v,error:y,withCloseButton:e.UMQ,submitLabel:d("$back_up_auth"),cancelLabel:d("Cancel"),onSubmit:N,onCancel:r,onUpdate:S}));case wA.mnemonic:return o&&vl(o)?ge.createElement(gA,{privateKeyHex:o[0],onClose:r}):ge.createElement(hA,{isActive:t,mnemonic:o,onNext:i?A:void 0,onClose:r});case wA.check:return ge.createElement(fA,{isActive:t,isInModal:!0,mnemonic:E.current,checkIndexes:h,buttonLabel:d("Done"),onSubmit:B,onCancel:T,onClose:r})}}return ge.createElement(ac,{isOpen:n,hasCloseButton:!0,dialogClassName:"S7OzI0EB",nativeBottomSheetKey:"backup",forceFullNative:u===wA.password,noResetFullNativeOnBlur:k,onClose:r,onCloseAnimationEnd:I},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:u,nextKey:p},_))}))),bA={modal:"gDlNRq3N",dialog:"meAvQTC9",container:"EWcWOV6u",menuButton:"hLEOc4Ou",closeButton:"mlPdYaCz",icon:"xQLJ1EYA",nftInfo:"VUUxnoTG",fullImage:"Rv0vP_cy",thumbnail:"_LL4RfB7",info:"j87GjThh",nftName:"O9BeJGjg",collectionName:"EHtLitju",content:"uo4QatBc",noData:"Tg1GGhMT",label:"SiE9CJ9J",description:"NsrMt36R",attributesList:"bDlzAhU_",attributeName:"Q59iVuTN",attributeValue:"d7Ra9vbr",first:"o8kAOnv4",last:"gw8tS0Ge",expandButton:"Wgu0lfq9",collectionNameIcon:"BjwLITqA",expandButtonIcon:"PcBlbvHP"},EA=fe(je((e=>{const{currentNftForAttributes:t,nfts:n}=ct(e)||{},{dnsExpiration:a}=n||{};return{nft:t,dnsExpiration:a}}))((function(e){let{nft:t,dnsExpiration:a}=e;const{closeNftAttributesModal:o,openMediaViewer:r,openNftCollection:i}=Ke(),s=_r(),c=me(),[l,d]=ie(),{isPortrait:u}=hi(),m=!!t,p=Vh(t,!0),{metadata:{lottie:f,attributes:h}}=p||{metadata:{}},g=(null==h?void 0:h.length)||0,[v,w]=ie(g>5),y=ya(p,a),b=y?(0,ha.GS)(y):void 0,E=(null==h?void 0:h.slice(0,v?5:void 0))||[],k=!(null!=p&&p.description)&&0===E.length;Ee((()=>{w(g>6)}),[g,t]),ce((()=>{if(m)return Yr(),Gr}),[m]);const C=zo((()=>{const{right:e,y:t}=c.current.getBoundingClientRect();d({x:e,y:t})})),N=zo((()=>{d(void 0)})),S=zo((e=>{Do(e),w(!1)})),A=zo((()=>{r({mediaId:p.address,mediaType:Kn.Nft})})),T=zo((e=>{Do(e),o(void 0,{forceOnHeavyAnimation:!0}),i({address:p.collectionAddress},{forceOnHeavyAnimation:!0})}));if(p)return ge.createElement(ac,{isOpen:m,className:bA.modal,dialogClassName:bA.dialog,contentClassName:bA.container,onClose:o},ge.createElement("button",{type:"button","aria-label":s("Close"),className:bA.closeButton,onClick:()=>o()},ge.createElement("i",{className:xr(bA.icon,bA.actionIcon,!u||n.cp&&n.MP?"icon-close":"icon-chevron-left"),"aria-hidden":!0})),ge.createElement(NS,{nft:p,ref:c,dnsExpireInDays:b,menuAnchor:l,className:bA.menuButton,onOpen:C,onClose:N}),ge.createElement("div",{className:xr(bA.nftInfo,"nft-container"),"data-nft-address":p.address},f?ge.createElement(of,{size:250,shouldStretch:!0,play:m,noLoop:!1,tgsUrl:f,previewUrl:p.thumbnail,className:bA.thumbnail,noPreviewTransition:!0,onClick:A}):ge.createElement(ge.Fragment,null,ge.createElement("img",{src:p.thumbnail,alt:s("Preview"),role:"button",tabIndex:0,className:bA.thumbnail,onClick:A}),Boolean(p.image)&&ge.createElement("img",{src:p.image,alt:p.name,role:"button",tabIndex:0,className:bA.fullImage,onClick:A})),ge.createElement("div",{className:bA.info},ge.createElement("div",{className:bA.nftName},p.name),p.collectionName&&ge.createElement("div",{className:bA.collectionName,onClick:T,tabIndex:0,role:"button"},p.collectionName,ge.createElement("i",{className:xr(bA.collectionNameIcon,"icon-chevron-right"),"aria-hidden":!0})))),ge.createElement("div",{className:xr(bA.content,k&&bA.noData)},k&&s("No additional data."),p.description&&ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:bA.label},s("Description")),ge.createElement("div",{className:bA.description},p.description)),E.length>0&&ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:bA.label},s("Attributes")),ge.createElement("table",{className:bA.attributesList},ge.createElement("tbody",null,E.map(((e,t)=>{const n=0===t,a=t===E.length-1;return ge.createElement("tr",{key:t},ge.createElement("th",{className:xr(bA.attributeName,n&&bA.first,a&&bA.last)},e.trait_type),ge.createElement("td",{className:xr(bA.attributeValue,n&&bA.first,a&&bA.last)},e.value))})))),v&&ge.createElement("a",{href:"#",className:bA.expandButton,onClick:S},s("Show All"),ge.createElement("i",{className:xr(bA.expandButtonIcon,"icon-chevron-down"),"aria-hidden":!0})))))}))),kA=fe(je((e=>{const{addressByChain:t}=it(e,e.currentAccountId)||{},{countryCode:n}=e.restrictions,{chainForOnRampWidgetModal:a}=e;return{chain:a,address:a&&(null==t?void 0:t[a]),countryCode:n,theme:e.settings.theme}}))((function(e){let{chain:t,address:n,countryCode:o,theme:r}=e;const{closeOnRampWidgetModal:i,showError:s}=Ke(),c=Boolean(t)&&Boolean(n),l=_r(),d=me(),[u,m]=ie(!0),[p,f]=ie(!0),[h,g]=ie(""),v=Vf(r);ce((()=>(c||(m(!0),f(!0),g("")),()=>window.clearTimeout(d.current))),[c]),ce((()=>{c&&("RU"!==o?(async()=>{const e=await(0,a.p)("getMoonpayOnrampUrl",t,n,v);e&&"error"in e?s({error:e.error}):g((null==e?void 0:e.url)||"")})():g(`https://dreamwalkers.io/ru/mytonwallet/?wallet=${n}&give=CARDRUB&take=TON&type=buy`))}),[n,v,t,o,c]);const w=()=>{f(!1),d.current=window.setTimeout((()=>{m(!1)}),200)};return ge.createElement(ac,{hasCloseButton:!0,isOpen:c,title:l("Buy with Card"),dialogClassName:"LcOFGyVq",forceFullNative:!0,nativeBottomSheetKey:"onramp-widget",onClose:i},ge.createElement("div",{className:"ccR1JZvK"},ge.createElement("div",{className:xr("RfEkSEyB",!p&&"X5xveqOQ",!u&&"m3F53tk6")},ge.createElement(fv,null)),function(){if(h)return ge.createElement("iframe",{title:"On Ramp Widget",onLoad:w,className:xr("l_Jb77z9",!p&&"ZRxV9CWH"),width:"100%",height:"100%",frameBorder:"none",allow:"autoplay; camera; microphone; payment",src:h},l("Cannot load widget"))}()))}))),CA="Fq9FxTrz",NA=n.pz?160:360,SA=n.pz?650:500,AA=n.pz?250:500,TA=fe((function(e){let{isOpen:t,onClose:a}=e;const{handleQrCode:o}=Ke(),[r,i]=ie(!1),[s,c]=ie(!1),[d,u]=ie(!1),{ref:m,shouldRender:p}=$s({isOpen:r,withShouldRender:!0}),f=_r(),h=me(),g=zo((async()=>{xs(document.documentElement,CA),await am.stopScan()})),v=zo((()=>{u(!1),c(!1),a()})),w=zo((async()=>{const e={formats:[nm.Gi.QrCode]},t=function(e){if(!e)return;const t=e.getBoundingClientRect(),a={left:t.left*n.Lv,right:t.right*n.Lv,top:t.top*n.Lv,bottom:t.bottom*n.Lv,width:t.width*n.Lv,height:t.height*n.Lv};return[[a.left,a.top],[a.left+a.width,a.top],[a.left+a.width,a.top+a.height],[a.left,a.top+a.height]]}(h.current);await am.removeAllListeners();const a=await am.addListener("barcodesScanned",(async e=>{let{barcodes:[r]}=e,i=r.cornerPoints;i=i?function(e){e.sort(((e,t)=>e[1]-t[1]));const t=e.slice(0,2),n=e.slice(2);return t.sort(((e,t)=>t[0]-e[0])),n.sort(((e,t)=>e[0]-t[0])),[...t,...n]}(i):void 0,t&&i&&!function(e,t){return e[0][0]>t[0][0]||e[0][1]>t[0][1]||e[1][0]<t[1][0]||e[1][1]>t[1][1]||e[2][0]<t[2][0]||e[2][1]<t[2][1]||e[3][0]>t[3][0]||e[3][1]<t[3][1]}(t,i)&&(await a.remove(),await pl(),o({data:r.rawValue}),v(),await(0,l.v7)(AA),n.pz&&xs(document.documentElement,CA))}));u(!0),await am.startScan(e),r||am.isTorchAvailable().then((e=>{i(e.available)})),am.isTorchEnabled().then((e=>{c(e.enabled)}))}));vi((e=>{let a,o,[r]=e;if(!n.KI)return t?(a=window.setTimeout(w,NA),o=window.setTimeout((()=>{_s(document.documentElement,CA)}),SA)):r&&v(),()=>{a&&window.clearTimeout(a),o&&window.clearTimeout(o)}}),[t,v,w]);const y=zo((async()=>{s?await am.disableTorch():await am.enableTorch(),c(!s)})),b=xr("GRYD1l1J",s&&"om10jZuu");return ge.createElement(ac,{isOpen:t,onClose:v,nativeBottomSheetKey:"qr-scanner",forceFullNative:!0,onCloseAnimationEnd:g},ge.createElement("div",{className:xr("D8GViz8d",d&&"MmIKemUX")},ge.createElement("div",{className:"CxvvAWsI","aria-label":f("Close"),role:"button",tabIndex:0,onClick:v},ge.createElement("i",{className:xr(Gs.closeIcon,"icon-close"),"aria-hidden":!0})),p&&ge.createElement("div",{ref:m,className:b,onClick:y,"aria-label":f("Toggle Flashlight"),role:"button",tabIndex:0},ge.createElement("i",{className:"icon-flashlight","aria-hidden":!0})),ge.createElement("div",{className:"D1xdmb1p"},f("Scan QR Code")),ge.createElement("div",{className:"cQ9fX2T7",ref:h},ge.createElement("div",{className:"Y5_NorwC"}))))}));var IA=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.complete=2]="complete",e}(IA||{});const BA=fe(je((e=>{const{dataHex:t,error:n,isSigned:a}=e.currentSignature||{};return{dataHex:t,error:n,isSigned:a}}))((function(e){let{dataHex:t,error:n,isSigned:a}=e;const{submitSignature:o,clearSignatureError:r,cancelSignature:i}=Ke(),s=_r(),[c,l,d]=rm(!1),[u,m]=ie(IA.confirm),[p,f]=ie(IA.password);le((()=>{t&&(m(IA.confirm),f(IA.password),l())}),[t,l]),le((()=>{a&&(m(IA.complete),f(void 0))}),[a]),ce((()=>u===IA.complete?zr({onEnter:d}):void 0),[d,u]);const h=zo((()=>{m(IA.password),f(IA.complete)})),g=zo((e=>{o({password:e})}));function v(e,a,o){switch(o){case IA.confirm:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:s("Confirmation"),onClose:d}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement("div",{className:eE},s("Signing Data")),ge.createElement("div",{className:aE},t),ge.createElement("div",{className:"IHEwWBxd"},rr(s("$signature_warning"))),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{className:Gs.button,onClick:d},s("Cancel")),ge.createElement(js,{isPrimary:!0,className:Gs.button,onClick:h},s("Sign")))));case IA.password:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:s("Enter Password"),onClose:d}),ge.createElement(Hf,{isActive:e,error:n,submitLabel:s("Sign"),cancelLabel:s("Cancel"),onSubmit:g,onCancel:d,onUpdate:r}))}(e);case IA.complete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:s("Done!"),onClose:d}),ge.createElement("div",{className:xr(Gs.transitionContent,Gs.transitionContent_simple)},ge.createElement(of,{play:e,noLoop:!1,nonInteractive:!0,className:"wlPR2AOa",tgsUrl:_p.thumbUp,previewUrl:_p.thumbUpPreview}),ge.createElement("div",{className:"bgrj6VK3"},s("Signing was confirmed!")),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,onClick:d},s("Close")))))}(e)}}return ge.createElement(ac,{hasCloseButton:!0,isOpen:c,dialogClassName:"nrINNy28",onClose:d,onCloseAnimationEnd:i},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:u,nextKey:p},v))})));function _A(e,t){const n=be(e,!0),a=me(),o=ve(),r=null!=e,i=null!=n;return r&&a.current&&(clearTimeout(a.current),a.current=void 0),Ee((()=>{t&&!r&&i&&!a.current&&(a.current=window.setTimeout((()=>{a.current=void 0,o()}),t))}),[t,o,r,i]),a.current&&t&&!r?n:e}const xA=fe((function(e){let{timestamp:t,deadline:n,onCompleted:a}=e;_r();const o=Math.floor((t+n-Date.now())/ha.Z2),[r,i]=ie(Math.max(o,0)),s=r<=300;return ce((()=>{const e=(0,l.Gf)(ha.Z2,(()=>{r<=0||i(Math.floor((t+n-Date.now())/ha.Z2))}));return r<=0&&(null==a||a()),e}),[r,a,t,n]),ge.createElement("span",{className:xr("AsvSkk14",s&&"CZBR69BT")},function(e,t){const n=e=>e.toString().padStart(2,"0"),a=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60;let i=a>0?`${a}:`:"";return i+=`${a>0?n(o):o}:`,i+=n(r),i}(0,r))})),DA={infoBlock:"DqUj918m",infoRow:"suN_Ci9f",noIcon:"SUjgosvS",noCurrency:"RjCLBwiu",infoRowIcon:"kaMx21E_",infoRowToken:"iNWWwjqK",label:"uLUQH_M3",infoRowChain:"NcAsWeQk",infoRowAmount:"TzvDf_Jl",infoRowAmountGreen:"I6xrY9jc",infoRowAmountError:"iiFYcyID",infoRowCurrency:"zab5hSsH",infoRowCurrencyValue:"Q3pxLMbG",infoSeparator:"ZO00ZPul",infoSeparatorIcon:"fPy_1zLl",infoSeparatorIconError:"GP0AJq0W"},LA=fe((function(t){let{isSensitiveDataHidden:n,tokenIn:a,amountIn:o,tokenOut:r,amountOut:i,isError:s=!1}=t;const c=de((()=>xw(5,13,o??"")),[o]),l=de((()=>xw(5,13,i??"")),[i]);function d(t,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const u=d?l:`-${l}`,m=Boolean(c&&e.OZB[c.slug]);return ge.createElement("div",{className:xr(DA.infoRow,!c&&DA.noIcon,d&&DA.noCurrency)},Boolean(c)&&ge.createElement(jw,{token:c,withChainIcon:!0,className:DA.infoRowIcon}),ge.createElement("span",{className:DA.infoRowToken},null==c?void 0:c.name,m&&ge.createElement("span",{className:xr(DA.label,DA.chainLabel)},e.OZB[c.slug])),ge.createElement(ey,{isActive:n,cols:t,rows:2,cellSize:8,align:"right",className:xr(DA.infoRowAmount,d&&DA.infoRowAmountGreen,s&&DA.infoRowAmountError)},mr(u,(null==c?void 0:c.symbol)??"")),ge.createElement("span",{className:DA.infoRowChain},xE(null==c?void 0:c.chain)),!d&&function(e,t,n,a){const o=Pw(e,t,n,a);return o?ge.createElement("span",{className:DA.infoRowCurrency},o.firstCurrencySymbol," ≈",ge.createElement("span",{className:DA.infoRowCurrencyValue},o.price," ",o.secondCurrencySymbol)):void 0}(o,i,a,r))}return ge.createElement("div",{className:DA.infoBlock},d(c,a,o),ge.createElement("div",{className:DA.infoSeparator},ge.createElement("i",{className:xr(DA.infoSeparatorIcon,s&&DA.infoSeparatorIconError,s?"icon-close":"icon-arrow-down"),"aria-hidden":!0})),d(l,r,i,!0))}));function OA(e){let{terms:t,token:n,precision:a,isLoading:o,className:r}=e;const i=_r();return ge.createElement("div",{className:r},ge.createElement("div",{className:"FHA1HU_P"},i("Fee")),ge.createElement("div",{className:"OgExpTBf"},ge.createElement(xf,{activeKey:o?1:0,name:"fade",className:"JaS_WGfX"},o?ge.createElement(Ks,{isActive:!0,className:"SFz4gihZ"}):ge.createElement(tb,{terms:t,token:n,precision:a}))))}const MA={modalDialog:"E6N6MD3z",unstakeModal:"gnNvHGfL",passwordFormContent:"KL1uqo4o",passwordFormContentInModal:"CZ9Kse33",sticker:"AeVBXxbG",footer:"rQ0tvCAk",copyButtonWrapper:"VtMfi0Xs",feeField:"fSQYvfg1",comment:"jxc6euua",button:"eww3tEAs",buttonWide:"ND5LbWGY",unstakeTime:"hDTeTwua",unstakeTimeIcon:"tZ2WbGH0",scamImage:"BASL0DzO",scamAddress:"km7wfY2m",modalTitle:"yadTct7r",transactionHeader:"uAQ2u0Hd",headerTitle:"J16GqrT7",headerTitle__badge:"arXCGBG7",headerTitleBadge:"arXCGBG7",warning:"w8eOJTS4",headerDate:"fiJguUso",infoBlock:"NGumnj62",textFieldWrapper:"UGOei_Ih",swapSupportBlock:"mVgCbbey",textFieldLabel:"lXDi3LO1",advancedTooltip:"hr8oR5Ry",advancedTooltipContainer:"t6X1h79H",errorCexBlock:"Qr0LqmBg",errorCexMessage:"uSKXuCCa",errorCexEmail:"cQ1RlviM",changellyInfoBlock:"IZsujzDG",changellyDescription:"IgVxAVQB",changellyDescriptionBold:"EOk33hg6",qrCode:"DfLLakci",qrCodeHidden:"L9e2rlZo",scamWarning:"OAz9rga6"},PA=new Set(["new","waiting"]),FA=new Set(["new","waiting","confirming","exchanging","sending"]),RA=new Set(["failed","expired","refunded","overdue"]),UA=new Set(["failed","expired"]),WA=fe(je((e=>{var t,n;const a=ct(e),o=rt(e),{isSwapDisabled:r}=e.restrictions,{theme:i,isSensitiveDataHidden:s}=e.settings,c=null==a?void 0:a.currentActivityId,l=c?null==a||null===(t=a.activities)||void 0===t?void 0:t.byId[c]:void 0;return{activity:"swap"===(null==l?void 0:l.kind)?l:void 0,tokensBySlug:null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug,theme:i,addressByChain:null==o?void 0:o.addressByChain,isSwapDisabled:r||e.settings.isTestnet||It(e),isSensitiveDataHidden:s}}))((function(t){let{activity:n,tokensBySlug:a,theme:o,addressByChain:r,isSwapDisabled:i,isSensitiveDataHidden:s}=t;const{fetchActivityDetails:c,startSwap:l,closeActivityInfo:d}=Ke(),u=_r(),{isPortrait:m}=hi(),p=Boolean(n),f=Ve().settings.animationLevel===e.dnp?0:(m?Xs:Qs)+e.xB5,h=_A(n,f),g=Vf(o),{id:v,hashes:w,timestamp:y,networkFee:b="0",ourFee:E="0",shouldLoadDetails:k}=h??{},{payinAddress:C,payoutAddress:N,payinExtraId:S}=(null==h?void 0:h.cex)||{};let A,T="0",I="0",B=!0,_=!1,x=!1,D=!1,L=!1,O=!1,M=!1,P=!1,F=!1,R="",U="",W=!1,H="",$=!0,V=!1;const z=de((()=>{if(null!=h&&h.from&&a)return Xd(a,h.from)}),[null==h?void 0:h.from,a]),K=de((()=>{if(null!=h&&h.to&&a)return Xd(a,h.to)}),[null==h?void 0:h.to,a]),q=Zd({from:z,to:K,toAddress:N,addressByChain:r});if(h){const{status:t,from:n,cex:a}=h;if(T=h.fromAmount,I=h.toAmount,$=n===e.Tu9.slug,D=Boolean(a),a?(V=!!y&&y+e.JWy-Date.now()<0,F=PA.has(a.status)&&V,x="finished"!==a.status,B=!F&&FA.has(a.status),P=B,L=F||RA.has(a.status),O="hold"===a.status,M="waiting"===a.status&&!F&&!q&&!$,R=a.transactionId):(B="pending"===t,_=UA.has(t)),B)U=u("Swapping");else if(O)U=u("$swap_action"),A=u("On Hold"),W=!0;else if(L){const{status:e}=h.cex??{};"expired"===e||"overdue"===e?(U=u("$swap_action"),A=u("Expired"),H=u("You have not sent the coins to the specified address.")):"refunded"===e?(U=u("$swap_action"),A=u("Refunded"),H=u("Exchange failed and coins were refunded to your wallet.")):(U=u("$swap_action"),A=u("Failed"))}else _?(U=u("$swap_action"),A=u("Failed")):U=u("Swapped")}const j=v?D?null==w?void 0:w[0]:an(v).hash:void 0,Y=Zo("ton",j),G=!S&&"ton"===(null==K?void 0:K.chain)&&!q,{qrCodeRef:Q,isInitialized:X}=sk({address:C,isActive:Boolean(C),hiddenClassName:MA.qrCodeHidden,hideLogo:!0}),J=zo((()=>{d({id:v})})),Z=zo((()=>{d({id:v}),l({tokenInSlug:z.slug,tokenOutSlug:K.slug,amountIn:T})}));function ee(){if(S)return ge.createElement("div",{className:MA.textFieldWrapper},ge.createElement("span",{className:MA.textFieldLabel},u("Memo")),ge.createElement(qy,{address:S,copyNotification:u("Memo was copied!"),noSavedAddress:!0,noExplorer:!0}))}function te(){if(!Number(b)&&!k||!z)return;const e=$?{native:(0,Ft.z)(b).add(E).toString()}:{native:b,token:E};return ge.createElement(OA,{terms:e,token:z,precision:"pending"===(null==n?void 0:n.status)?"approximate":"exact",isLoading:k})}return ce((()=>{v&&k&&c({id:v})}),[v,k]),ge.createElement(ac,{hasCloseButton:!0,title:ge.createElement("div",{className:MA.transactionHeader},ge.createElement("div",{className:MA.headerTitle},U,B&&ge.createElement(of,{play:p,size:e.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:_p[g].iconClock,previewUrl:_p[g].preview.iconClock}),!!A&&ge.createElement("span",{className:xr(MA.headerTitle__badge,W&&MA.warning)},A)),!!y&&ge.createElement("div",{className:MA.headerDate},(0,ha.TK)(u.code,y),", ",(0,ha.fU)(y))),titleClassName:MA.modalTitle,isOpen:p,nativeBottomSheetKey:"swap-activity",onClose:J},ge.createElement("div",{className:Gs.transitionContent},ge.createElement(LA,{isSensitiveDataHidden:s,tokenIn:z,amountIn:T,tokenOut:K,amountOut:I,isError:_||L}),ge.createElement("div",{className:MA.infoBlock},function(){if(M){if(q)return;const t=Jd(null==z?void 0:z.chain)?z.chain:void 0;return ge.createElement("div",{className:MA.changellyInfoBlock},te(),ge.createElement("span",{className:MA.changellyDescription},u("$swap_changelly_to_ton_description1",{value:ge.createElement("span",{className:MA.changellyDescriptionBold},mr(Number(T),(null==z?void 0:z.symbol)??"",!0)),blockchain:ge.createElement("span",{className:MA.changellyDescriptionBold},xE(null==z?void 0:z.chain)),time:ge.createElement(xA,{timestamp:y??0,deadline:e.JWy})})),ge.createElement(qy,{chain:t,address:C,copyNotification:u("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0}),ee(),G&&ge.createElement("div",{className:xr(MA.qrCode,!X&&MA.qrCodeHidden),ref:Q}))}return ge.createElement(ge.Fragment,null,te(),!q&&function(){if(!C)return;const e=$?K:z,t=Jd(null==e?void 0:e.chain)?e.chain:void 0;return ge.createElement("div",{className:MA.textFieldWrapper},ge.createElement("span",{className:MA.textFieldLabel},$?u("Your %blockchain% Address",{blockchain:null==K?void 0:K.name}):u("Address for %blockchain% transfer",{blockchain:null==z?void 0:z.name})),ge.createElement(qy,{chain:t,address:$?N:C,copyNotification:u("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0}))}(),!q&&ee())}(),x&&(O?ge.createElement("div",{className:MA.textFieldWrapper},ge.createElement("span",{className:MA.changellyDescription},u("$swap_changelly_kyc_security",{email:ge.createElement("span",{className:MA.changellyDescriptionBold},e.gpw)})),R&&ge.createElement(qy,{text:R,copyNotification:u("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0})):ge.createElement("div",{className:xr(MA.textFieldWrapper,MA.swapSupportBlock)},H&&ge.createElement("span",{className:MA.errorCexMessage},H),P&&ge.createElement("span",{className:xr(MA.changellyDescription)},u("Please note that it may take up to a few hours for tokens to appear in your wallet.")),V&&ge.createElement(ge.Fragment,null,ge.createElement("span",{className:MA.changellyDescription},u("$swap_changelly_support",{livechat:ge.createElement("a",{href:e.o$d,target:"_blank",rel:"noreferrer",className:MA.changellyDescriptionBold},u("Changelly Live Chat")),email:ge.createElement("span",{className:MA.changellyDescriptionBold},e.HWN)})),R&&ge.createElement(qy,{text:R,copyNotification:u("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0})))),Y&&ge.createElement("div",{className:MA.textFieldWrapper},ge.createElement("span",{className:MA.textFieldLabel},u("Transaction ID")),ge.createElement(qy,{noSavedAddress:!0,chain:"ton",address:j,addressUrl:Y,isTransaction:!0,copyNotification:u("Transaction ID was copied!")}))),!i&&ge.createElement("div",{className:MA.footer},function(){let e=!0,t="Swap Again";if(M)return ge.createElement(js,{onClick:J,className:MA.button},u("Close"));if(O)e=!1;else if(L){const{status:e}=(null==h?void 0:h.cex)??{};"expired"!==e&&"refunded"!==e&&"overdue"!==e||(t="Try Again")}return e?ge.createElement(js,{onClick:Z,className:MA.button},u(t)):void 0}())))}))),HA="MeZ5UFq3",$A=fe((function(t){let{isIncoming:n,isScam:a,isFailed:o,amount:r,token:i,status:s,noSign:c=!1,isSensitiveDataHidden:l,baseCurrency:d}=t;const u=o||a?"X1mdYuXG":n?"cuIyqZ4t":void 0;return ge.createElement(ge.Fragment,null,function(){const{decimals:t,symbol:a}=i??e.Bx3,o=(0,Pt.nI)(c?(0,ua.wg)(r):r,t),[d,m]=mr(o,"",c,t,!n).split("."),p=Boolean(s);return ge.createElement(ey,{isActive:l,cols:12,rows:p?7:4,align:"center",cellSize:p?17:18,className:xr("__I8XE5D",s&&HA)},ge.createElement("div",{className:xr("Qy2zkhK5",s&&HA,u,"rounded-font")},d.trim().replace(" ",""),m&&ge.createElement("span",{className:"F1teTrIV"},".",m.trim()),ge.createElement("span",{className:"AgH98knQ"},a)),p&&ge.createElement("div",{className:xr("COF5DpZg",u)},s))}(),function(){if(i)return ge.createElement(ey,{isActive:l,cols:10,rows:3,align:"center",cellSize:12,className:"tPLUuFQO",contentClassName:xr("BUzkYW_L","rounded-font",u)},gr(r,d,i))}())}));var VA=function(e){return e[e.initial=0]="initial",e[e.password=1]="password",e}(VA||{});const zA=fe(je((e=>{var t,n;const a=e.currentAccountId,o=ct(e),r=null==o?void 0:o.currentActivityId,i=r?null==o||null===(t=o.activities)||void 0===t?void 0:t.byId[r]:void 0,s=null==o?void 0:o.savedAddresses,{byAddress:c}=(null==o?void 0:o.nfts)||{},l=Sa(e,a),{isTestnet:d,theme:u,isSensitiveDataHidden:m}=e.settings,p=tt(e),f=pt(e);return{transaction:"transaction"===(null==i?void 0:i.kind)?i:void 0,tokensBySlug:null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug,savedAddresses:s,isHardwareAccount:f,isTestnet:d,isViewMode:It(e),isLongUnstakeRequested:null==o?void 0:o.isLongUnstakeRequested,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),theme:u,stakingStates:l,isSensitiveDataHidden:m,nftsByAddress:c,accounts:p,currentAccountId:a,baseCurrency:e.settings.baseCurrency}}))((function(t){var n;let{transaction:o,tokensBySlug:r,savedAddresses:i,isTestnet:s,isHardwareAccount:c,isViewMode:l,stakingStates:d,isLongUnstakeRequested:u,isMediaViewerOpen:m,theme:p,isSensitiveDataHidden:f,nftsByAddress:h,accounts:g,currentAccountId:v,baseCurrency:w}=t;const{fetchActivityDetails:y,startTransfer:b,startStaking:E,startUnstaking:k,closeActivityInfo:C,setIsPinAccepted:N,clearIsPinAccepted:S,setLandscapeActionsActiveTabIndex:A}=Ke(),T=_r(),{isPortrait:I}=hi(),[B,_]=ie(VA.initial),[x,D]=ie(VA.password),L=Ve().settings.animationLevel===e.dnp?0:(I?Xs:Qs)+e.xB5,O=_A(o,L),[M,P]=ie(Date.now()+e.NFS),F=Vf(p),{fromAddress:R,toAddress:U,amount:W,comment:H,encryptedComment:$,fee:V,id:z,isIncoming:K,slug:q,timestamp:j,nft:Y,shouldLoadDetails:G,status:Q}=O||{},X=Boolean(O&&(!on((J=O).id)||!(null!==(Z=J.extra)&&void 0!==Z&&Z.withW5Gasless)));var J,Z;const ee=O&&fn(O),te=ee&&"unstake"===(null==O?void 0:O.type),ne=Boolean(null==O?void 0:O.nft),ae=q?null==r?void 0:r[q]:void 0,oe=null==ae?void 0:ae.chain,re=ae?Jn(ae.chain):void 0,se=K?R:U,le="pending"===Q||"pendingTrusted"===Q,ue="pendingTrusted"===Q?"iconClockGreen":"iconClock",me=de((()=>{if(oe)return ky({address:se,chain:oe,currentAccountId:v,accounts:g,savedAddresses:i})}),[g,se,oe,v,i])||(null==o||null===(n=o.metadata)||void 0===n?void 0:n.name),pe=K&&Jt(O),fe=Boolean(o)&&dn(o),he=Boolean(o)&&!m,ve=oe&&z?an(z).hash:void 0,we=Boolean(Y&&(null==h?void 0:h[Y.address])),ye=!l&&!c,[be,ke]=ie(),[Ce,Ne]=ie(),Se=oe?Zo(oe,ve,s):void 0,{shouldRender:Ae,ref:Te}=$s({isOpen:Boolean(X&&Se),withShouldRender:!0}),Ie=de((()=>null==d?void 0:d.find((t=>t.tokenSlug===e.Tu9.slug&&t.balance>0n))),[d]),Be=Ie&&cu(Ie),_e=null==Ie?void 0:Ie.start,xe=null==Ie?void 0:Ie.end,{shouldRender:De,ref:Le}=$s({isOpen:"unstakeRequest"===(null==o?void 0:o.type)&&void 0!==_e&&("unstakeRequested"===Be||u)&&o.timestamp>=_e,withShouldRender:!0});Ee((()=>{O&&ke(void 0)}),[O]),Ee((()=>{xe&&P(xe)}),[xe]),ce((()=>{z&&G&&y({id:z})}),[z,G]);const Oe=zo((()=>{Ne(void 0)})),Me=zo((()=>{_(VA.password),D(void 0)})),Pe=zo((()=>{_(VA.initial),D(VA.password),Oe()})),Fe=zo((()=>{C({id:z}),b({isPortrait:I,tokenSlug:q||e.Tu9.slug,toAddress:se,amount:(0,ua.wg)(W),comment:K?void 0:H})})),Re=zo((()=>{C({id:z}),I?E():A({index:Vn.Stake})})),Ue=zo((()=>{C({id:z}),I||A({index:Vn.Stake}),k()})),We=zo((async e=>{const t=await(0,a.p)("decryptComment",Ve().currentAccountId,$,R,e);hu(t)?Ne(mu(null==t?void 0:t.error)):(il()&&(N(),await pl(!0)),Pe(),ke(t))})),He=zo((async()=>{if($){if(wm()){const e=await ym();if(e)return void We(e)}Me()}})),$e=zo((()=>{C({id:z}),il()&&S()}));function ze(t,n,a){switch(a){case VA.initial:return ge.createElement(ge.Fragment,null,function(){const t=le?"present":"failed"===Q?"future":"past";return ge.createElement("div",{className:xr(Gs.header,Gs.header_wideContent)},ge.createElement("div",{className:xr(Gs.title,MA.modalTitle)},ge.createElement("div",{className:MA.headerTitle},o&&ln(o,t,T),le&&ge.createElement(of,{play:he,size:e.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:_p[F][ue],previewUrl:_p[F].preview[ue]}),"failed"===Q&&ge.createElement("span",{className:MA.headerTitle__badge},T("Failed")),fe&&K&&ge.createElement("img",{src:Cy,alt:T("Scam"),className:MA.scamImage})),!!j&&ge.createElement("div",{className:MA.headerDate},(0,ha.TK)(T.code,j),", ",(0,ha.fU)(j))),ge.createElement(js,{isRound:!0,className:Gs.closeButton,ariaLabel:T("Close"),onClick:$e},ge.createElement("i",{className:xr(Gs.closeIcon,"icon-close"),"aria-hidden":!0})))}(),function(){const t=o&&mn(o);return ge.createElement("div",{className:Gs.transitionContent},"hide"!==t&&ge.createElement($A,{isSensitiveDataHidden:f,isIncoming:K,isScam:fe,isFailed:"failed"===Q,amount:W??0n,token:ae,status:te&&!De?T("Successfully"):void 0,noSign:"noSign"===t,baseCurrency:w}),Y&&ge.createElement(Fy,{nft:Y,withMediaViewer:we,withTonExplorer:!0}),pe&&ge.createElement("div",{className:MA.scamWarning},T("This address mimics another address that you previously interacted with.")),o&&pn(o).includes("modal")&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:eE},T(K?"Sender":"Recipient")),ge.createElement(qy,{chain:oe,addressName:me,address:se,isScam:fe&&!K,copyNotification:T("Address was copied!"),className:MA.copyButtonWrapper,textClassName:fe&&K?MA.scamAddress:void 0})),function(){if((V||G)&&re)return ge.createElement(OA,{terms:{native:V},token:re,precision:le?"approximate":"exact",isLoading:G,className:MA.feeField})}(),function(){if(!H&&!$)return;const e=$?T("Message is encrypted."):fe?T("Scam comment is hidden."):void 0;return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:eE},T("Comment")),ge.createElement(qy,{text:$?be:H,spoiler:e,spoilerRevealText:$?ye?T("Decrypt"):void 0:T("Display"),spoilerCallback:ye?He:void 0,copyNotification:T("Comment was copied!"),className:MA.copyButtonWrapper,textClassName:MA.comment}))}(),Ae&&ge.createElement("div",{ref:Te,className:MA.textFieldWrapper},ge.createElement("span",{className:MA.textFieldLabel},T("Transaction ID")),ge.createElement(qy,{noSavedAddress:!0,chain:oe,address:ve,addressUrl:Se,isTransaction:!0,copyNotification:T("Transaction ID was copied!"),className:MA.changellyTextField})),De&&ge.createElement("div",{ref:Le,className:MA.unstakeTime},ge.createElement(of,{play:he,size:e.wg4,className:MA.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:_p[F].iconClockGray,previewUrl:_p[F].preview.iconClockGray}),ge.createElement("div",null,T("$unstaking_when_receive",{time:ge.createElement("strong",null,(0,ha.YG)(T.code,M))}))),!l&&function(){const t=ee&&(te||"unstakeRequest"===(null==o?void 0:o.type))&&"active"===Be,n=[];return ee||K||ne||n.push(ge.createElement(js,{onClick:Fe,className:MA.button},T("Repeat"))),!e.TI6&&ee&&n.push(ge.createElement(js,{onClick:Re,className:xr(MA.button,t&&MA.buttonWide)},T("Stake Again"))),t&&n.push(ge.createElement(js,{onClick:Ue,className:xr(MA.button,MA.buttonWide)},T("Unstake More"))),n.length?ge.createElement("div",{className:MA.footer},n):void 0}())}());case VA.password:if(!$)return;return ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:T("Enter Password"),onClose:$e}),ge.createElement(Hf,{isActive:t,error:Ce,withCloseButton:e.UMQ,containerClassName:e.UMQ?MA.passwordFormContent:MA.passwordFormContentInModal,submitLabel:T("Send"),onSubmit:We,onCancel:Pe,onUpdate:Oe}))}}return ge.createElement(ac,{isOpen:he,hasCloseButton:!0,nativeBottomSheetKey:"transaction-info",forceFullNative:B===VA.password,dialogClassName:xr(MA.modalDialog,te&&MA.unstakeModal),onClose:$e,onCloseAnimationEnd:Pe},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:B,nextKey:x},ze))}))),KA=fe(je((e=>{const{isUnhideNftModalOpen:t,selectedNftToUnhide:n}=ct(e)??{};return{isOpen:t,nftAddress:null==n?void 0:n.address,nftName:null==n?void 0:n.name}}))((function(e){let{isOpen:t,nftAddress:n,nftName:a}=e;const{addNftsToWhitelist:o,closeUnhideNftModal:r}=Ke(),i=_r(),s=zo((()=>{o({addresses:[n]}),r()}));return ge.createElement(ac,{isOpen:t,isCompact:!0,onClose:r,title:i("Unhide NFT")},ge.createElement("p",{className:Gs.text},i("$unhide_nft_warning",{name:ge.createElement("b",null,a)})),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:r,className:Gs.button},i("Cancel")),ge.createElement(js,{isDestructive:!0,onClick:s,className:Gs.button},i("Unhide"))))}))),qA=e=>{let{icon:t,message:a,containerId:o,onDismiss:r}=e;const[i,s]=ie(!0),c=me(),{ref:l}=$s({isOpen:i}),d=zo((()=>{s(!1),setTimeout(r,250)}));ce((()=>i?qh(d):void 0),[i,d]),ce((()=>(c.current=window.setTimeout(d,5e3),()=>{c.current&&(clearTimeout(c.current),c.current=void 0)})),[d]);const u=zo((()=>{c.current&&(clearTimeout(c.current),c.current=void 0)})),m=zo((()=>{c.current=window.setTimeout(d,5e3)}));return ge.createElement(Ys,{className:xr("h7PLFJQu",n.cp&&"I0vM5N9Z"),containerId:o},ge.createElement("div",{ref:l,className:"cBuXIi04",onClick:d,onMouseEnter:u,onMouseLeave:m},ge.createElement("div",{className:"FOpmIM3s"},t&&ge.createElement("i",{className:xr("yRP0zVnL",t),"aria-hidden":!0}),a)))},jA=fe(je((e=>(0,c.Up)(e,["notifications"])))((function(e){let{notifications:t}=e;const{dismissNotification:n}=Ke();if(t.length)return ge.createElement("div",{id:"Notifications"},t.map((e=>{let{message:t,icon:a}=e;return ge.createElement(qA,{key:t,icon:a,message:t,onDismiss:n})})))})));let YA=0;const GA=v();function QA(){return YA>0}function XA(){GA.runCallbacks()}function JA(){const e=QA();YA=Math.max(0,YA-1),e&&!QA()&&XA()}const ZA="A4iuMrwm",eT="lTI19L4Y",tT="Q6nK70OA",nT="Hzc2OPCD",aT=fe(je((e=>{const{areSettingsOpen:t,isExploreOpen:n}=e,{activeContentTab:a}=ct(e)??{};return{areSettingsOpen:t,areAssetsActive:a===zn.Assets,isExploreOpen:n}}))((function(t){let{areSettingsOpen:n,areAssetsActive:a,isExploreOpen:o}=t;const{switchToWallet:r,switchToExplore:i,switchToSettings:s}=Ke(),c=_r(),[l,d]=ie(QA()),u=!o&&!n;return ye((()=>GA.addCallback((()=>{d(QA())})))),Yi({isActive:o,onBack:r}),ge.createElement("div",{className:xr("QlVPgZym",l&&"YMl6tuqD")},ge.createElement(js,{isSimple:!0,className:xr(ZA,u&&eT),onClick:r},ge.createElement("i",{className:xr(tT,"icon-wallet")}),ge.createElement("span",{className:nT},c("Wallet"))),!e.TI6&&ge.createElement(js,{isSimple:!0,className:xr(ZA,o&&eT),onClick:i},ge.createElement("i",{className:xr(tT,"icon-explore")}),ge.createElement("span",{className:nT},c("Explore"))),ge.createElement(js,{isSimple:!0,className:xr(ZA,n&&eT),onClick:s},ge.createElement("i",{className:xr(tT,"icon-settings")}),ge.createElement("span",{className:nT},c("Settings"))))}))),oT="Gbi50r5P",rT="iX71Jk4y",iT="piyY_yBE",sT="sCCso48U",cT="BA7uSk12",lT="XeanWEkZ",dT="mO73YmbZ",uT="FjT6eSrl",mT="GUrvismB",pT="oGeErVyy",fT=200,hT=14*n.$;function gT(e,t,n,a){let o,r;var i;return e===Kn.Nft&&(r=document.querySelector(n?`.transaction-nft[data-tx-id="${n}"][data-nft-address="${t}"]`:a?`.hidden-nfts-${a} [data-nft-address="${t}"]`:`.nft-container[data-nft-address="${t}"]`),o=null===(i=r)||void 0===i?void 0:i.querySelector("img, canvas")),{container:r,image:o}}function vT(e){var t;const n=document.createElement("div");n.classList.add(uT);const a=new Image;return a.classList.add("oaQkWH7i"),a.draggable=!1,a.oncontextmenu=Do,a.src=e instanceof HTMLImageElement?e.src:(null===(t=e.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.dataset.previewUrl)||"",n.appendChild(a),n}function wT(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===Kn.Nft&&e.classList.add(n?mT:pT)}const yT=e=>{let{isOpen:t,isHidden:n,isCustom:a,id:o,className:r,onClick:i,children:s,noCloseTransition:c,shouldAnimateFirstRender:l,style:d,ref:u}=e;const m=be(t),p=be(s),f=me(),h=void 0===m,{ref:g,shouldRender:v}=$s({isOpen:t&&!n,ref:u,noMountTransition:h&&!l,className:!a&&void 0,noCloseTransition:c,withShouldRender:!0});return m&&!t&&(f.current=p),(v||n)&&ge.createElement("div",{id:o,ref:g,className:r,onClick:i,style:d},t?s:f.current)},bT=["send","renew","burn","collection","select","linkDomain"],ET=fe(je(((e,t)=>{var n;let{mediaId:a}=t;const{mediaType:o=Kn.Nft}=e.mediaViewer||{},r=It(e);if(!a||o!==Kn.Nft)return{isViewMode:r};const{byAddress:i,dnsExpiration:s}=(null===(n=ct(e))||void 0===n?void 0:n.nfts)||{},c=null==i?void 0:i[a];if(!c)return{isViewMode:r};const{blacklistedNftAddresses:l,whitelistedNftAddresses:d}=ct(e)||{},{cardBackgroundNft:u,accentColorNft:m}=ut(e)||{};return{nft:c,tonDnsExpiration:ya(c,s),blacklistedNftAddresses:l,whitelistedNftAddresses:d,cardBackgroundNft:u,accentColorNft:m,isViewMode:r,linkedAddress:xa(e,c)}}))((function(e){let{nft:t,tonDnsExpiration:n,linkedAddress:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,cardBackgroundNft:i,accentColorNft:s,isViewMode:c,onClose:l}=e;const d=_r(),[u,m,p]=rm(),f=n?(0,ha.GS)(n):void 0,h=de((()=>null==o?void 0:o.includes(t.address)),[t,o]),g=de((()=>null==r?void 0:r.includes(t.address)),[t,r]),v=bf(t&&t.address===(null==i?void 0:i.address),Xh),w=bf(t&&t.address===(null==s?void 0:s.address),Xh),{menuItems:y,handleMenuItemSelect:b}=CS({nft:t,isViewMode:c,dnsExpireInDays:f,linkedAddress:a,isNftBlacklisted:h,isNftWhitelisted:g,isNftInstalled:v,isNftAccentColorInstalled:w}),E=zo((e=>{bT.includes(e)&&l(),b(e)}));return ge.createElement("div",{className:"U5k3MGwt"},ge.createElement("button",{type:"button","aria-label":d("More actions"),className:xr(rT,"g5Mpmfqz",u&&"Jb3ZSQ8D"),onClick:m},ge.createElement("i",{className:"icon icon-more","aria-hidden":!0})),ge.createElement(eg,{isOpen:u,items:y,menuPositionY:"top",menuPositionX:"right",shouldTranslateOptions:!0,onClose:p,className:"component-theme-dark",buttonClassName:"nZ_OU1oY",onSelect:E}),ge.createElement("button",{type:"button","aria-label":d("Close"),className:rT,onClick:l},ge.createElement("i",{className:xr("icon-windows-close","TYO_mnqL"),"aria-hidden":!0})))}))),kT=fe(je(((t,n)=>{var a;let{mediaId:o}=n;const{mediaType:r=Kn.Nft}=t.mediaViewer||{};if(!o||r!==Kn.Nft)return{};const i=t.settings.isTestnet?e.PKm:e.wln,{byAddress:s}=(null===(a=ct(t))||void 0===a?void 0:a.nfts)||{},c=null==s?void 0:s[o];return c?{title:c.name||(0,jt.W)(c.address,4),description:c.collectionName,descriptionUrl:`${i}collection/${c.collectionAddress}`}:{}}))((function(e){let{title:t,description:n,descriptionUrl:a}=e;const o=_r();return ge.createElement("div",{className:"lzTnItyh"},ge.createElement("span",{className:"Iork7lBy"},t),ge.createElement("a",{href:a,target:"_blank","aria-label":o("Open NFT Collection"),className:"gVhA_SZL",rel:"noreferrer",onClick:mc},ge.createElement("span",{className:"VjBacQN8"},n),ge.createElement("i",{className:xr("icon-tooltip","j_sdE8In"),"aria-hidden":!0})))})));function CT(e){const t=me(e());return ye((()=>e.subscribe((()=>{t.current=e()})))),t}const[NT,ST]=E(1);function AT(){return ce((()=>()=>{ST(1)}),[]),[NT,ST]}const TT=fe(je(((e,t)=>{var n,a;let{mediaId:o}=t;const{mediaType:r=Kn.Nft}=e.mediaViewer||{};if(r!==Kn.Nft)return{};const{byAddress:i}=(null===(n=ct(e))||void 0===n?void 0:n.nfts)||{},s=null==i?void 0:i[o];if(!s)return{};const{whitelistedNftAddresses:c}=ct(e)||{};return{alt:s.name,thumbnail:s.thumbnail,image:s.image,lottie:null===(a=s.metadata)||void 0===a?void 0:a.lottie,description:s.description,isScam:s.isScam,whitelistedMediaIds:c}}))((function(e){let{mediaId:t,alt:n,thumbnail:a,image:o,lottie:r,description:i,isScam:s,whitelistedMediaIds:c}=e;const l=_r(),d=o||a,u=me(),{isPortrait:m}=hi();ce((()=>{const e=u.current,{height:t}=e.getBoundingClientRect();(0,k.RK)((()=>{e.style.setProperty("--max-height",`${t}px`)}))}),[m]);const p=de((()=>null==c?void 0:c.includes(t)),[t,c]);return ge.createElement("div",{className:"BjD2X1I7"},r?ge.createElement(of,{size:250,shouldStretch:!0,play:!0,noLoop:!1,tgsUrl:r,previewUrl:d,className:cT,noPreviewTransition:!0}):ge.createElement("img",{src:d,alt:n,className:cT}),ge.createElement("div",{className:xr(lT,"custom-scroll"),ref:u},i&&ge.createElement("div",{className:"fJxRvPrW"},ge.createElement("div",{className:xr("gAnXMdfd","custom-scroll"),dir:"auto"},s&&!p&&ge.createElement("img",{src:Cy,alt:l("Scam"),className:"HAC1deVa"}),i))))})));var IT=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}(IT||{});const BT=n.TF?40:0,_T=350,{easeOutCubic:xT,easeOutQuart:DT}=d.qM;let LT,OT;const MT=fe((function(e){let{isOpen:t,mediaId:a,selectMedia:o,getMediaId:r,withAnimation:i,onClose:s}=e;const c=_r(),u=me(),m=me(),p=me(),f=me(),h=me({x:0,y:0,scale:1}),g=me(void 0),v=me(void 0),w=me(!1),[y]=AT(),b=me(y()),[E,k]=ie(!1),[C,N]=Ps({x:0,y:0,scale:1}),S=CT(C),[A,T]=Ps(a),I=CT(A),B=Us((()=>1!==C().scale),[C]),_=Us(A),{height:x,width:D,isResizing:L}=um();Yi({isActive:t,onBack:s,shouldBeReplaced:!0});const O=dm(o,[o],350,!0),M=dm((()=>{g.current=void 0}),[],500,!0),P=n.TF?40:D/10;ce((()=>{const{scale:e,x:t,y:n}=S.current;0===t&&0===n&&1===e&&T(a)}),[a,T,S]),le((()=>{const{x:e,y:t,scale:n}=C();p.current&&(p.current.style.transform=PT(-D+e-BT)),m.current&&(m.current.style.transform=PT(e,t,n)),f.current&&(f.current.style.transform=PT(D+e+BT))}),[C,D]);const F=zo((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h.current;const a=r(I.current,e);if(t)return void 0!==a;if(void 0===a)return!1;const o=(D+BT)*e,s=S.current.x+o;return T(a),O(a),n={x:0,y:0,scale:1},i?(LT=(0,d.Hd)({from:s,to:0,duration:_T,timing:xT,onUpdate:e=>N({y:0,x:e,scale:1})}),!0):(N(n),!0)})),R=zo((()=>F(1))),U=zo((()=>F(-1)));if(ce((()=>{if(!u.current||void 0===I.current)return;let e=h.current;const t={x:0,y:0},a={x:0,y:0},o={x:0,y:0};let i,c=Date.now();const p=(0,l.sg)((()=>{c=Date.now()}),500,!1,!0),f=e=>{const{scale:t}=S.current;if(1!==t)return[!1,!1];let a=0;return x-e.pageY<80?[!1,!1]:(e.pageX<P?a=-1:e.pageX>D-P&&(a=1),[0!==a,F(a,!n.TF)])},y=e=>{const{scale:t}=S.current;if(1===t)switch(e.key){case"Left":case"ArrowLeft":F(-1);break;case"Right":case"ArrowRight":F(1)}},b=function(e){let{x:t,y:n,scale:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=v.current;if(!r)return[{x:t,y:n,scale:a},!0,!0];let i=!0,s=!0;const c=(D-D*a)/2,l=(x-x*a)/2,d=Math.max(-r.left*a,c),u=D-r.right*a;i=Or(t,u,d),t=Lr(t,u,d);const m=Math.max(-r.top*a+o,l),p=x-r.bottom*a;return s=Or(n,p,m),n=Lr(n,p,m),[{x:t,y:n,scale:a},i,s]},E=n=>{if(w.current)return void(w.current=!1);"mouseup"===n.type&&k(!1);const i=S.current,{y:l,scale:u}=i;let m=i.x;const p=Math.abs(m),f=Math.abs(l);if(M(),u<1)return e={x:0,y:0,scale:1},void(LT=(0,d.Hd)({from:[m,l,u],to:[0,0,1],duration:_T,timing:xT,onUpdate:e=>N({x:e[0],y:e[1],scale:e[2]})}));if(u>1){const r=Math.min(u,4),i=r/u;let s=m*i+(a.x-i*a.x),p=l*i+(a.y-i*a.y);const f=.15;if("wheel"!==n.type&&e.scale===u){const e=Math.abs(t.x)/(Date.now()-c),n=Math.abs(t.y)/(Date.now()-c);s-=Math.abs(t.x)*e*f*o.x,p-=Math.abs(t.y)*n*f*o.y}return[e]=b({x:s,y:p,scale:r}),void(LT=(0,d.Hd)({from:[m,l,u],to:[e.x,e.y,e.scale],duration:_T,timing:xT,onUpdate:e=>N({x:e[0],y:e[1],scale:e[2]})}))}if(e={x:m,y:l,scale:u},f>=50)return void s();if(f>0)return void(LT=(0,d.Hd)({from:l,to:0,duration:_T,timing:xT,onUpdate:e=>N({x:0,y:e,scale:u})}));const h=m<0?1:-1,g=r(I.current,m<0?1:-1),v=o.x<0?-1:1;void 0!==g&&p>=50&&h===v&&(m+=(D+BT)*h,T(g),O(g)),LT=(0,d.Hd)({from:m,to:0,duration:_T,timing:xT,onUpdate:e=>N({y:0,x:e,scale:u??1})})},C=Hr(u.current,{isNotPassive:!0,withNativeDrag:!0,excludedClosestSelector:`${oT}, .${lT}`,minZoom:1,maxZoom:4,doubleTapZoom:3,withWheelDrag:!0,onCapture:e=>{const{x:t,y:n,scale:a}=S.current;if("mousedown"!==e.type||(k(!0),1===a)){if(c=Date.now(),0===t&&0===n&&1===a){if(!m.current)return;if(i=m.current.querySelector("img, video"),!i)return;v.current=i.getBoundingClientRect()}}else e.preventDefault()},onDrag:(a,r,i,s)=>{let{dragOffsetX:c,dragOffsetY:l}=i;if(w.current)return;if(n.pz&&"touchstart"===r.type){const{pageX:e}=r.touches[0];if(e<=20||e>=D-20)return}LT&&(LT(),LT=void 0),o.x=t.x-c,o.y=t.y-l,t.x=c,t.y=l;const d=Math.abs(c),u=Math.abs(l),{x:m,y:f,scale:h}=S.current;if(p(),1===h){if("mousemove"!==a.type){if(g.current!==IT.Vertical&&(g.current===IT.Horizontal||Math.abs(m)>10||d/u>1.5)){g.current=IT.Horizontal;const e=D+BT,t=Lr(c,-e,e);return N({x:t,y:0,scale:h}),void("wheel"===a.type&&Math.abs(t)>100&&(E(a),w.current=!0))}if(g.current===IT.Vertical||Math.abs(f)>10||u/d>1.5){g.current=IT.Vertical;const e=Lr(l,-x,x);N({x:0,y:e,scale:h}),"wheel"===a.type&&Math.abs(e)>100&&(E(a),w.current=!0)}}}else{const t=e.x+c,n=e.y+l;if(["wheel","mousemove"].includes(a.type)){const[e,a,o]=b({x:t,y:n,scale:h});return s&&s(!a,!o),void N(e)}"touches"in a&&1===a.touches.length&&N({x:t,y:n,scale:h})}},onZoom:(t,n)=>{let{zoom:o,zoomFactor:r,initialCenterX:i,initialCenterY:s,dragOffsetX:c,dragOffsetY:l,currentCenterX:d,currentCenterY:u}=n;LT&&LT(),i=i||D/2,s=s||x/2,d=d||D/2,u=u||x/2;const m=o??Lr(e.scale*r,.5,12),p=m/e.scale,f=Math.abs(Math.min(e.x,0)),h=Math.abs(Math.min(e.y,0));a.x=d,a.y=u;const g=f+i,v=h+s,w=g-p*g,y=v-p*v,[E]=b({x:e.x+w+c,y:e.y+y+l,scale:m});N(E)},onClick(t){k(!1);const[a,o]=f(t);if(a){if(t.preventDefault(),t.stopPropagation(),n.TF)return;o||s()}else 1!==e.scale||n.TF||s()},onDoubleClick(t,a){let{centerX:o,centerY:r}=a;const[i]=f(t);if(i)return t.preventDefault(),void t.stopPropagation();if(!n.TF&&"wheel"!==t.type)return;const{x:s,y:c,scale:l}=S.current;if(1===l){if(0!==s||0!==c)return;e=b({x:o-3*o,y:r-3*r,scale:3})[0]}else e={x:0,y:0,scale:1};LT=(0,d.Hd)({from:[s,c,l],to:[e.x,e.y,e.scale],duration:_T,timing:xT,onUpdate:e=>{const t={x:e[0],y:e[1],scale:e[2]};N(t)}})},onRelease:E});return document.addEventListener("keydown",y,!1),()=>{C(),document.removeEventListener("keydown",y,!1)}}),[s,N,r,D,x,P,O,M,i,k,S,T,I,F]),ce((()=>{const e=y(),t=void 0!==b.current&&b.current!==e;if(!u.current||!t)return;b.current=e;const{scale:n}=S.current,a=e>0?-1:1;let o=100,r=0;n<=.6&&a>0||n>=12&&a<0||(1===n&&a>0&&(o=20),OT&&OT(),OT=(0,d.Hd)({from:a,to:a*o,duration:_T,timing:DT,onUpdate:e=>{if(!u.current)return;const t=Mr(e-r,2);r=e;const n=new WheelEvent("wheel",{deltaY:t,ctrlKey:!0});u.current.dispatchEvent(n)}}))}),[y,S]),void 0===_)return null;const W=r(_,1),H=r(_,-1),$=void 0!==H,V=void 0!==W,z=E&&B;return ge.createElement("div",{className:"X2XelzZ1",ref:u},ge.createElement("div",{className:iT,ref:p},$&&!B&&!L&&ge.createElement(TT,{mediaId:H})),ge.createElement("div",{className:xr(iT,sT,z&&"NMBicc6s"),ref:m},ge.createElement(TT,{mediaId:_})),ge.createElement("div",{className:iT,ref:f},V&&!B&&!L&&ge.createElement(TT,{mediaId:W})),$&&!B&&!n.TF&&ge.createElement("button",{type:"button",onClick:U,className:xr(dT,"Mx1XT28C"),"aria-label":c("Previous"),dir:c.isRtl?"rtl":void 0}),V&&!B&&!n.TF&&ge.createElement("button",{type:"button",onClick:R,className:xr(dT,"FmNwnO3_"),"aria-label":c("Next"),dir:c.isRtl?"rtl":void 0}))}));function PT(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return`translate3d(${(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(3)}px, ${e.toFixed(3)}px, 0px) scale(${t.toFixed(3)})`}const FT=fe(je((e=>{var t;const{mediaId:n,mediaType:a=Kn.Nft,txId:o,hiddenNfts:r,noGhostAnimation:i}=e.mediaViewer||{},s=null===(t=e.settings)||void 0===t?void 0:t.animationLevel,c=ct(e);let l,d,u=Sb,m=Sb;if(a===Kn.Nft){var p;const{orderedAddresses:e,byAddress:t}=(null==c?void 0:c.nfts)||{},{blacklistedNftAddresses:a}=c||{},o=null==t?void 0:t[n];l=!(null!=o&&null!==(p=o.metadata)&&void 0!==p&&p.lottie)&&(null==o?void 0:o.image)||(null==o?void 0:o.thumbnail),u=e||Sb,d=t,null!=a&&a.length&&(m=a)}return{mediaId:n,txId:o,hiddenNfts:r,noGhostAnimation:i,mediaIds:u,mediaType:a,mediaUrl:l,mediaByIds:d,blacklistedIds:m,withAnimation:s>0}}))((function(t){let{mediaId:a,mediaIds:o,mediaType:r,mediaUrl:i,withAnimation:s,mediaByIds:c,blacklistedIds:l,txId:u,hiddenNfts:m,noGhostAnimation:p}=t;const{closeMediaViewer:f,openMediaViewer:h}=Ke(),g=Boolean(a),v=_r(),w=be(a),y=be(u),b=be(m),E=be(p),C=s?"slideFade":"none",N=s&&g&&!w&&!p,S=s&&!g&&!!w&&!E,A=zo((()=>f())),T=de((()=>o.filter((e=>{const t=null==c?void 0:c[e];return t&&!t.isHidden&&!l.includes(e)}))),[l,c,o]),I=T.indexOf(a),B=zo(((e,t)=>{if(void 0===e)return;const n=T.indexOf(e);return-1===t&&n>0||1===t&&n<T.length-1?T[n+t]:void 0})),x=zo((e=>{h({mediaType:r,mediaId:e})}));return Vs({className:"is-media-viewer-open",isActive:g,element:document.body}),ce((()=>g?qh(A):void 0),[A,g]),ce((()=>{N&&(_(fT+e.xB5),function(t,a,o,r,i){const{image:s}=gT(t,a,r,i);s&&o&&(0,k.RK)((async()=>{document.body.classList.add("ghost-animating");const{width:a,height:r}=qa(),{width:i,height:c}=await async function(e){const t=new Image;return t.src=e,await new Promise((e=>{t.onload=e})),{width:t.width,height:t.height}}(o),l=r-hT,u=(a<=e.c2m?8:7)*n.$,{width:m,height:p}=function(e,t,n,a){const o=a/n,r=Math.min(n,e);return Math.round(r*o)>t?{width:Math.round(t/o),height:t}:{width:r,height:Math.round(r*o)}}(a,l,i,c),f=(a-m)/2,h=u+(l-p)/2,{top:g,left:v,width:w,height:y}=s.getBoundingClientRect(),b=v+w/2-(f+m/2),E=g+y/2-(h+p/2),C=w/m,N=y/p;(0,k.RK)((()=>{const n=vT(s);wT(n,t,!0),(0,d.ZM)(n,{top:`${h}px`,left:`${f}px`,width:`${m}px`,height:`${p}px`,transform:`translate3d(${b}px, ${E}px, 0) scale(${C}, ${N})`}),document.body.appendChild(n),(0,k.RK)((()=>{n.style.transform="",function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===Kn.Nft&&e.classList.remove(n?mT:pT)}(n,t,!0),setTimeout((()=>{(0,k.RK)((()=>{document.body.contains(n)&&document.body.removeChild(n),document.body.classList.remove("ghost-animating")}))}),fT+e.xB5)}))}))}))}(r,a,i,u,m)),S&&(_(fT+e.xB5),function(t,n,a,o){const{container:r,image:i}=gT(t,n,a,o),s=document.querySelector(`.${sT} img, .${sT} canvas`);if(!s||!i)return;const{top:c,left:l,width:u,height:m}=s.getBoundingClientRect(),{top:p,left:f,width:h,height:g}=i.getBoundingClientRect();let v=p;if(!function(e){if("none"===e.style.display)return!1;const t=e.getBoundingClientRect(),{height:n}=qa();return t.top<=n&&t.top+t.height>=0}(i)){const{height:e}=qa();v=p<c?-g:e}const w=l+u/2-(f+h/2),y=c+m/2-(v+g/2),b=u/h,E=m/g,C=document.querySelector(`.${uT}`),N=C||vT(s);let S;if(C){const{top:e,left:t,width:n,height:a}=C.getBoundingClientRect();S={transition:"none",top:`${v}px`,left:`${f}px`,transformOrigin:"top left",transform:`translate3d(${t-f}px, ${e-v}px, 0) scale(${n/h}, ${a/g})`,width:`${h}px`,height:`${g}px`}}else S={top:`${v}px`,left:`${f}px`,width:`${h}px`,height:`${g}px`,transform:`translate3d(${w}px, ${y}px, 0) scale(${b}, ${E})`};(0,k.RK)((()=>{wT(N,t),(0,d.ZM)(N,S),C||document.body.appendChild(N),document.body.classList.add("ghost-animating"),r&&r.classList.add("ghost-target"),(0,k.RK)((()=>{C&&(C.style.transition=""),N.style.transform="",setTimeout((()=>{(0,k.RK)((()=>{document.body.contains(N)&&document.body.removeChild(N),document.body.classList.remove("ghost-animating"),r&&r.classList.remove("ghost-target")}))}),fT+e.xB5)}))}))}(r,w,y,b))}),[N,S,a,r,i,w,u,y,m,b]),ge.createElement(yT,{className:xr("A0PipQQQ","opacity-transition","slow"),isOpen:g,shouldAnimateFirstRender:!0,isCustom:!0},ge.createElement("div",{className:oT,dir:v.isRtl?"rtl":void 0},ge.createElement(xf,{activeKey:I,name:C,className:"lDJDJyJx"},ge.createElement(kT,{mediaId:a})),ge.createElement(ET,{mediaId:a,onClose:A})),ge.createElement(MT,{isOpen:g,mediaId:a,getMediaId:B,selectMedia:x,withAnimation:s,onClose:A}))}))),RT={root:"TyYDeoPI",standard:"ZzhmGZX8",silver:"VOCPN2H2",gold:"eIy_VriQ",platinum:"ThB2aK4u",black:"pSEqHC9v",list:"VuKYnODy",term:"De4BJ4HR",icon:"WsbPBan7",data:"SmGuh0xn",button:"hn6cNzho",currencyIcon:"uJl349yd"},UT=fe((function(t){let{type:n,price:a,balance:o,isAvailable:r}=t;const{startCardMinting:i,showDialog:s}=Ke(),c=_r(),l=!(!a||!o)&&(0,Pt.UH)(a,e.Tu9.decimals)+e.dqR<o,d=zo((()=>{l?i({type:n}):s({title:c("Insufficient Balance"),message:c("Please top up your TON balance.")})}));return ge.createElement("div",{className:xr(RT.root,RT[n])},ge.createElement("dl",{className:RT.list},ge.createElement("dt",{className:RT.term},c("Unique"),ge.createElement("i",{className:xr(RT.icon,"icon-diamond"),"aria-hidden":!0})),ge.createElement("dd",{className:RT.data},c("Get a card with unique background and personalized palette for wallet interface.")),ge.createElement("dt",{className:RT.term},c("Transferable"),ge.createElement("i",{className:xr(RT.icon,"icon-swap"),"aria-hidden":!0})),ge.createElement("dd",{className:RT.data},c("Easily send your upgraded card to any of your friends.")),ge.createElement("dt",{className:RT.term},c("Tradable"),ge.createElement("i",{className:xr(RT.icon,"icon-auction"),"aria-hidden":!0})),ge.createElement("dd",{className:RT.data},c("Sell or auction your card on third-party NFT marketplaces."))),!!a&&ge.createElement(js,{isPrimary:!0,isDisabled:!r,className:RT.button,onClick:d},c("Upgrade for %currency% %amount%",{amount:a,currency:ge.createElement("i",{className:xr(RT.currencyIcon,"icon-ton"),"aria-label":"TON"})})))})),WT={dialog:"CjwvIYmY",transition:"Tv22S5Gs",transitionSlide:"zUSYH0x7",content:"LpuTVkiG",slide:"ZfVQ8KGW",standard:"k0gL3sAb",black:"MUamKAQw",slideInner:"k2_YXVBE",video:"wpccVVfq",cardType:"CzdRPvVS",close:"IBwesrC_",navigation:"cIoUkENQ",navigationLeft:"GF_wLd9i",navigationRight:"y5oAUrMg",navigationIcon:"aSeq5lrl",avaliability:"OGLS5EQO",progress:"Q3dzQZod",soldOut:"VyfNbKU1",amount:"wozoyd4S",amountInner:"ZgsWpsHL",amountLeft:"XMt08mOm",amountSold:"F8mchLc4",dots:"HY5hRBmJ",dot:"tOktKTIK",dotActive:"ZMU4FK04",sticker:"eto_LEBm",resultWithTime:"hlrWLhQ2",resultTimeIcon:"W1LXu50q",mintCardBanner:"ccNpjwpK"},HT={standard:"Standard Card",silver:"Silver Card",gold:"Gold Card",platinum:"Platinum Card",black:"Black Card"};var $T=function(e){return e[e.Standard=0]="Standard",e[e.Silver=1]="Silver",e[e.Gold=2]="Gold",e[e.Platinum=3]="Platinum",e[e.Black=4]="Black",e}($T||{});const VT=Object.values($T).length/2,zT=fe(je((e=>({tonBalance:$t(e)})))((function(e){let{cardsInfo:t,tonBalance:a}=e;const{closeMintCardModal:o}=Ke(),r=_r(),i=me(),[s,c]=ie($T.Standard),[l,d]=ie($T.Silver),u=zo((()=>{c((e=>e===$T.Black?$T.Standard:e+1)),d((e=>e===$T.Black?$T.Standard:e+1))})),m=zo((()=>{c((e=>e===$T.Standard?$T.Black:e-1)),d((e=>e===$T.Standard?$T.Black:e-1))}));function p(e,n,o){const i={lang:r,tonBalance:a,currentKey:o};switch(o){case $T.Standard:return KT({...i,title:HT.standard,type:"standard",cardInfo:null==t?void 0:t.standard});case $T.Silver:return KT({...i,title:HT.silver,type:"silver",cardInfo:null==t?void 0:t.silver});case $T.Gold:return KT({...i,title:HT.gold,type:"gold",cardInfo:null==t?void 0:t.gold});case $T.Platinum:return KT({...i,title:HT.platinum,type:"platinum",cardInfo:null==t?void 0:t.platinum});case $T.Black:return KT({...i,title:HT.black,type:"black",cardInfo:null==t?void 0:t.black})}}return ce((()=>{if(n.TF)return Hr(i.current,{onSwipe:(e,t)=>t===Pr.Left?(u(),!0):t===Pr.Right&&(m(),!0),selectorToPreventScroll:".custom-scroll"})}),[]),ge.createElement(ge.Fragment,null,ge.createElement(ge.Fragment,null,ge.createElement(js,{isRound:!0,className:xr(WT.close,Gs.closeButton),ariaLabel:r("Close"),onClick:o},ge.createElement("i",{className:xr(Gs.closeIcon,"icon-close"),"aria-hidden":!0})),ge.createElement("button",{className:xr(WT.navigation,WT.navigationLeft),type:"button","aria-label":r("Prev"),onClick:()=>m()},ge.createElement("i",{className:xr(WT.navigationIcon,"icon-chevron-left"),"aria-hidden":!0})),ge.createElement("button",{className:xr(WT.navigation,WT.navigationRight),type:"button",onClick:()=>u(),"aria-label":r("Next")},ge.createElement("i",{className:xr(WT.navigationIcon,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement(xf,{ref:i,name:"semiFade",className:xr(WT.transition,"custom-scroll"),activeKey:s,nextKey:l},p))})));function KT(t){let{lang:n,title:a,type:o,cardInfo:r,tonBalance:i,currentKey:s}=t;return ge.createElement("div",{className:WT.content},ge.createElement("div",{className:xr(WT.slide,WT[o])},ge.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:`${e.eec}mtw_card_${o}.avif`,className:WT.video},ge.createElement("source",{src:`${e.eec}mtw_card_${o}.h264.mp4`,type:"video/mp4; codecs=avc1.4D401E,mp4a.40.2"})),ge.createElement("div",{className:WT.slideInner},function(e){return ge.createElement("div",{className:WT.dots},Array.from({length:VT}).map(((t,n)=>ge.createElement("div",{key:n,className:xr(WT.dot,n===e&&WT.dotActive)}))))}(s),ge.createElement("div",{className:WT.cardType},a),function(e,t){const{all:n,notMinted:a}=t||{};if(!n||!a)return ge.createElement("div",{className:WT.avaliability},ge.createElement("div",{className:WT.soldOut},e("This card has been sold out")));const o=n-a,r=e("%amount% left",{amount:dr(a)}),i=e("%amount% sold",{amount:dr(o)});return ge.createElement("div",{className:WT.avaliability},ge.createElement("div",{className:WT.progress,style:`--progress: ${Rt(a/n,2)};}`},ge.createElement("div",{className:xr(WT.amount,WT.amountInner,WT.amountLeft)},r),ge.createElement("div",{className:xr(WT.amount,WT.amountInner,WT.amountSold)},i)),ge.createElement("div",{className:xr(WT.amount,WT.amountLeft)},r),ge.createElement("div",{className:xr(WT.amount,WT.amountSold)},i))}(n,r))),ge.createElement(UT,{type:o,price:null==r?void 0:r.price,balance:i,isAvailable:Boolean(null==r?void 0:r.notMinted)}))}const qT=fe(je((e=>{const{currentMintCard:t}=e,{config:n}=ct(e)||{},{cardsInfo:a}=n||{};return{isOpen:void 0!==(null==t?void 0:t.state),cardsInfo:a,isLoading:null==t?void 0:t.isLoading,state:null==t?void 0:t.state,error:null==t?void 0:t.error,theme:e.settings.theme,selectedCardType:null==t?void 0:t.type}}))((function(t){let{isOpen:n,cardsInfo:a,isLoading:o,state:r,error:i,theme:s,selectedCardType:c}=t;const{closeMintCardModal:l,clearMintCardError:d,submitMintCard:u}=Ke(),m=_r(),p=Vf(s),{renderingKey:f,nextKey:h}=yv(r??0,n),g=c?HT[c]:"",v=zo((e=>{u({password:e})})),w=zo((()=>{u()}));function y(t,n,r){switch(r){case $n.Initial:return ge.createElement(zT,{cardsInfo:a});case $n.Password:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:il()?void 0:m("Confirm Upgrading"),onClose:il()?l:void 0,onBackButtonClick:il()?void 0:l}),ge.createElement(Hf,{isActive:e,error:i,isLoading:o,submitLabel:m("Confirm"),cancelLabel:m("Cancel"),onSubmit:v,onCancel:l,onUpdate:d,operationType:"mintCard",skipAuthScreen:!0},ge.createElement(Xb,{className:WT.mintCardBanner,secondText:g})))}(t);case $n.ConnectHardware:return ge.createElement(Hv,{isActive:t,onConnected:w,onClose:l});case $n.ConfirmHardware:return ge.createElement(Iv,{text:m("Please confirm transaction on your Ledger"),error:i,onClose:l,onTryAgain:w});case $n.Done:return function(t){return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:m("Card has been upgraded!"),onClose:l}),ge.createElement("div",{className:xr(Gs.transitionContent,Gs.transitionContent_simple)},ge.createElement(of,{play:t,noLoop:!1,nonInteractive:!0,className:WT.sticker,tgsUrl:_p.thumbUp,previewUrl:_p.thumbUpPreview}),ge.createElement("div",{className:xr(WT.resultWithTime)},ge.createElement(of,{play:t,size:e.wg4,className:WT.resultTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:_p[p].iconClockGray,previewUrl:_p[p].preview.iconClockGray}),ge.createElement("div",null,rr(m("$mint_card_result")))),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,className:Gs.buttonFullWidth,onClick:l},m("Done")))))}(t)}}return ge.createElement(ac,{isOpen:n,forceFullNative:!0,nativeBottomSheetKey:"mint-card",dialogClassName:WT.dialog,onClose:l},ge.createElement(xf,{activeKey:f,nextKey:h,name:wv(),className:xr(WT.transition,"custom-scroll"),slideClassName:WT.transitionSlide},y))}))),jT=fe((function(e){let{id:t,name:n,value:a,label:o,checked:r=!1,className:i,onChange:s,onCheck:c,shouldStopPropagation:l}=e;return ge.createElement("label",{className:xr("pDx55knh",i),title:o,"aria-label":o,onClick:l?e=>e.stopPropagation():void 0,tabIndex:0,role:"button"},ge.createElement("input",{type:"checkbox",id:t,name:n,value:a,checked:r,className:"cLbaNjJ_",onChange:function(e){null==s||s(e),null==c||c(e.currentTarget.checked)}}),ge.createElement("span",{className:"tiLjiStY"}))})),YT="v8rRtn7B",GT="CC8Q5sJb",QT="bQ7CA6_X",XT="TI5caump",JT=fe((function(t){let{isOpen:n,isLoading:a,isInsideModal:o,state:r,error:i,onClose:s}=t;const{disableBiometrics:c}=Ke(),l=_r(),{renderingKey:d,nextKey:u,updateNextKey:m}=yv(r,n),p=zo(((e,t)=>{c({password:e,isPasswordNumeric:t})}));function f(t,n,o){switch(o){case Tn.TurnOffBiometricConfirmation:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:l("Biometric Confirmation"),onClose:s}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(of,{tgsUrl:_p.holdTon,previewUrl:_p.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:GT}),i?ge.createElement("div",{className:"iEiAdwiC"},l(i)):ge.createElement("div",{className:XT},l("Please verify the operation.")),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:s,className:Gs.customSubmitButton},l("Cancel")))));case Tn.TurnOffCreatePassword:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:l("Create Password"),onClose:s}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(of,{tgsUrl:_p.guard,previewUrl:_p.guardPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:GT}),ge.createElement(Kg,{isActive:t,isLoading:a,formId:"biometrics-create-password",onSubmit:p,onCancel:s})));case Tn.TurnOffComplete:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:l("Biometrics Disabled"),onClose:s}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(of,{tgsUrl:_p.yeee,previewUrl:_p.yeeePreview,play:t,size:e.reE,nonInteractive:!0,noLoop:!1,className:xr(GT,QT)}),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,onClick:s,className:Gs.customSubmitButton},l("Done")))))}}return ge.createElement(ac,{hasCloseButton:!0,isOpen:n,dialogClassName:YT,onClose:s},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:xr(o&&Gs.transitionSlide),activeKey:d,nextKey:u,onStop:m},f))})),ZT=fe((function(e){let{isOpen:t,onClose:n}=e;const{openBiometricsTurnOff:a}=Ke(),o=_r();return ge.createElement(ac,{isOpen:t,isCompact:!0,title:o("Turn Off Biometrics"),onClose:n},ge.createElement("p",{className:Gs.text},o("If you turn off biometric protection, you will need to create a password.")),ge.createElement("div",{className:xr(Gs.buttons,Gs.buttonsNoExtraSpace)},ge.createElement(js,{className:Gs.button,onClick:n},o("Cancel")),ge.createElement(js,{isPrimary:!0,className:Gs.button,onClick:a},o("Continue"))))})),eI=fe((function(t){let{isOpen:a,isLoading:o,isInsideModal:r,state:i,error:s,onClose:c}=t;const{enableBiometrics:l}=Ke(),d=_r(),[u,m]=ie(),{renderingKey:p,nextKey:f,updateNextKey:h}=yv(i,a),g=Boolean(i!==Tn.TurnOnPasswordConfirmation);ce((()=>{a&&m("")}),[a]);const v=zo((()=>{m(void 0)})),w=zo((e=>{if(!g)try{l({password:e})}catch(e){m(e.message||"Unknown error.")}}));function y(t,a,r){switch(r){case Tn.TurnOnPasswordConfirmation:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:d("Turn On Biometrics"),onClose:c}),ge.createElement(Hf,{isActive:t,isLoading:o,error:s||u,operationType:"turnOnBiometrics",help:d("Enabling biometric confirmation will reset the password."),submitLabel:d("Continue"),onSubmit:w,onCancel:c,onUpdate:v}));case Tn.TurnOnRegistration:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:d("Biometric Registration"),onClose:c}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(of,{tgsUrl:_p.holdTon,previewUrl:_p.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:GT}),ge.createElement("div",{className:XT},d("Step 1 of 2. Registration")),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:c,className:Gs.customCancelButton},d("Cancel")))));case Tn.TurnOnVerification:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:d("Biometric Registration"),onClose:c}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(of,{tgsUrl:_p.holdTon,previewUrl:_p.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:GT}),ge.createElement("div",{className:XT},d(n.cp?"Verification":"Step 2 of 2. Verification")),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:c,className:Gs.customCancelButton},d("Cancel")))));case Tn.TurnOnComplete:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:d("Biometrics Enabled"),onClose:c}),ge.createElement("div",{className:Gs.transitionContent},ge.createElement(of,{tgsUrl:_p.yeee,previewUrl:_p.yeeePreview,play:t,size:e.reE,nonInteractive:!0,noLoop:!1,className:xr(GT,QT)}),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,onClick:c,className:Gs.customSubmitButton},d("Done")))))}}return ge.createElement(ac,{hasCloseButton:!0,isOpen:a,dialogClassName:YT,onClose:c},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:xr(r&&Gs.transitionSlide),activeKey:p,nextKey:f,onStop:h},y))})),tI=fe(je((e=>{const{biometrics:{state:t,error:n}}=e;return{state:t,error:n,isLoading:e.auth.isLoading}}))((function(e){let{state:t,error:n,isLoading:a,isInsideModal:o}=e;const{closeBiometricSettings:r}=Ke(),i=t===Tn.TurnOnPasswordConfirmation||t===Tn.TurnOnRegistration||t===Tn.TurnOnVerification||t===Tn.TurnOnComplete,s=t===Tn.TurnOffBiometricConfirmation||t===Tn.TurnOffCreatePassword||t===Tn.TurnOffComplete,c=t===Tn.TurnOffWarning;return ge.createElement(ge.Fragment,null,ge.createElement(eI,{isOpen:i,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),ge.createElement(JT,{isOpen:s,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),ge.createElement(ZT,{isOpen:c,onClose:r}))}))),nI=fe(je((e=>{const{nativeBiometricsError:t,isPinAccepted:n}=e;return{isPinAccepted:n,error:t,isNativeBiometricsEnabled:At(e)}}))((function(t){let{isActive:n,isInsideModal:a,isPinAccepted:o,error:r,isNativeBiometricsEnabled:i,handleBackClick:s}=t;const{enableNativeBiometrics:c,clearNativeBiometricsError:l}=Ke(),d=_r(),{isSmallHeight:u}=hi(),[m,p]=ie(""),f=m.length!==e.NEx?void 0:o?"success":r?"error":void 0,h=o?"Correct":r&&m.length===e.NEx?r:"Enter your code";Yi({isActive:n,onBack:s}),ce((()=>{n&&p("")}),[n]),vi((e=>{let[t]=e;i&&!t&&s()}),[i,s]);const g=zo((e=>{c({password:e})}));return ge.createElement("div",{className:yg.slide},ge.createElement("div",{className:xr(yg.content,yg.contentFullSize)},ge.createElement("div",{className:yg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:s,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back")))),ge.createElement("div",{className:yg.pinPadHeader},!a&&ge.createElement(of,{play:n,tgsUrl:_p.guard,previewUrl:_p.guardPreview,noLoop:!1,nonInteractive:!0,className:yg.stickerNativeBiometric}),!u&&ge.createElement("div",{className:yg.pinPadTitle},d("Confirm Passcode"))),ge.createElement(Mf,{isActive:n,onClearError:l,title:d(h),type:f,length:e.NEx,value:m,onChange:p,onSubmit:g})))}))),aI=i.p+"settings_air.43ce12624d7cd516cd3f.svg",oI=i.p+"theme_dark.5de5fe78d9ef16d3bb16.png",rI=[{value:"light",name:"Light",icon:i.p+"theme_light.cf5d5bfba2109dad7231.png"},{value:"system",name:"System",icon:i.p+"theme_system.374b66ee35055adafec5.png"},{value:"dark",name:"Dark",icon:oI}],iI=fe(je((e=>{var t,n;const{orderedAddresses:a,byAddress:o}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)||{},{config:{cardsInfo:r}={}}=ct(e)||{};return{isViewMode:It(e),accentColorIndex:null===(n=ut(e))||void 0===n?void 0:n.accentColorIndex,nftAddresses:a,nftsByAddress:o,isMintingCardsAvailable:Boolean(r),isNftBuyingDisabled:e.restrictions.isNftBuyingDisabled}}))((function(a){let{isActive:o,theme:r,animationLevel:i,accentColorIndex:s,nftAddresses:d,nftsByAddress:u,isInsideModal:m,isViewMode:p,isTrayIconEnabled:f,isMintingCardsAvailable:h,isNftBuyingDisabled:g,onTrayIconEnabledToggle:v,handleBackClick:w}=a;const{setTheme:y,setAnimationLevel:b,openMintCardModal:E,installAccentColorFromNft:k,clearAccentColorFromNft:C,showNotification:N}=Ke(),S=_r(),[A,T]=ie(!1),[I,B]=ie(Sb),[_,x]=ie({}),[D,L]=ie(!1);Yi({isActive:o,onBack:w});const{handleScroll:O,isScrolled:M}=fg(),P=Vf(r);ce((()=>{e.TI6||(async()=>{T(!0);const n=await async function(n,a){try{const t=(n||[]).reduce(((t,n)=>{const o=null==a?void 0:a[n];return(null==o?void 0:o.collectionAddress)===e.qL&&t.push(o),t}),[]);if(!t.length)return;const o=await Promise.all(t.map((e=>gh(e)))),r=o.reduce(((e,n,a)=>(void 0!==n&&(e[n]=t[a]),e)),{});return{availableAccentColorIds:(0,c.Am)((0,c.oE)(o)),nftsByColorIndex:r}}catch(e){return void(0,t.SJ)("[getAccentColorsFromNfts]: Error fetching accent colors",e)}}(d,u);n?(B(n.availableAccentColorIds),x(n.nftsByColorIndex)):(B(Sb),x({})),T(!1)})()}),[u,d]);const F=de((()=>ph[P].map(((e,t)=>({color:e,index:t}))).sort(((e,t)=>Number(!I.includes(e.index))-Number(!I.includes(t.index))))),[P,I]),R=zo((async()=>{L(!0),await(0,l.v7)(300),nl()})),U=zo((e=>{document.documentElement.classList.add("no-transitions"),y({theme:e}),ii(e,m),setTimeout((()=>{document.documentElement.classList.remove("no-transitions")}),300)})),W=zo((()=>{const t=i===e.dnp?e.zP3:e.dnp;b({level:t}),tm(t)})),H=zo((()=>{!p&&h?E():dc(e.b2d)}));function $(e,t){const n=s===t,a=void 0!==t&&!I.includes(t);return ge.createElement("button",{key:e||"default",type:"button",disabled:n,style:e?`--current-accent-color: ${e}`:void 0,className:xr(yg.colorButton,n&&yg.colorButtonCurrent),"aria-label":S("Change Palette"),onClick:()=>{var e;void 0===(e=t)||I.includes(e)?void 0===e?C():k({nft:_[e]}):N({message:S("Get a unique MyTonWallet Card to unlock new palettes.")})}},A&&a&&ge.createElement(fv,{color:"white"}),!A&&a&&ge.createElement("i",{className:xr(yg.iconLock,"icon-lock","#FFFFFF"===e&&yg.iconLockInverted),"aria-hidden":!0}))}return ge.createElement("div",{className:yg.slide},m?ge.createElement(tg,{title:S("Appearance"),withNotch:M,onBackButtonClick:w,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",M&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:w,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,S("Back"))),ge.createElement("span",{className:yg.headerTitle},S("Appearance"))),ge.createElement("div",{className:xr(yg.content,"custom-scroll"),onScroll:O},e.UMQ&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement("div",{className:yg.item,onClick:R},ge.createElement("img",{className:yg.menuIcon,src:aI,alt:"","aria-hidden":!0}),"MyTonWallet Air",ge.createElement(jT,{className:yg.menuSwitcher,label:"MyTonWallet Air",checked:D}))),ge.createElement("p",{className:yg.blockDescription},S("$try_new_air_version"))),ge.createElement("p",{className:yg.blockTitle},S("Theme")),ge.createElement("div",{className:yg.settingsBlock},ge.createElement("div",{className:yg.themeWrapper},rI.map((e=>{let{name:t,value:n,icon:a}=e;return ge.createElement("div",{key:n,className:xr(yg.theme,n===r&&yg.theme_active),onClick:()=>U(n)},ge.createElement("div",{className:xr(yg.themeIcon,n===r&&yg.themeIcon_active)},ge.createElement("img",{src:a,alt:"",className:yg.themeImg,"aria-hidden":!0})),ge.createElement("span",null,S(t)))})))),!e.TI6&&!g&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:yg.blockTitle},S("Palette")),ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement("div",{className:yg.colorList},$(),F.map((e=>{let{color:t,index:n}=e;return $(t,n)}))),ge.createElement("div",{className:yg.subBlockAsButton,role:"button",tabIndex:0,onClick:()=>H()},S("Unlock New Palettes"))),ge.createElement("p",{className:yg.blockDescription},S("Get a unique MyTonWallet Card to unlock new palettes."))),ge.createElement("p",{className:yg.blockTitle},S("Other")),ge.createElement("div",{className:yg.settingsBlock},ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:W},S("Enable Animations"),ge.createElement(jT,{className:yg.menuSwitcher,label:S("Enable Animations"),checked:i!==e.dnp})),n.cp&&n.H8&&ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:v},S("Display Tray Icon"),ge.createElement(jT,{className:yg.menuSwitcher,label:S("Display Tray Icon"),checked:f})))))}))),sI=fe((function(e){let{token:t}=e;const{deleteToken:n}=Ke(),[a,o]=ie(!1),r=_r();Ee((()=>{t&&o(!0)}),[t]);const i=zo((()=>{o(!1)})),s=zo((()=>{i(),n({slug:t.slug})}));return ge.createElement(ac,{isOpen:a,isCompact:!0,onClose:i,title:r("Delete Token"),contentClassName:"yflPd0zm"},ge.createElement("p",{className:"KH236kiH"},r("Are you sure you want to delete?",{token:ge.createElement("strong",null,null==t?void 0:t.name)})),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:i,className:Gs.button},r("Cancel")),ge.createElement(js,{isDestructive:!0,onClick:s,className:Gs.button},r("Delete"))))})),cI={x:0,y:0},lI={top:0,bottom:0,left:0,right:0},dI=150,uI=fe((function(e){let{children:t,id:a,onDrag:o,onDragEnd:r,style:i,knobStyle:s,isDisabled:c,offset:l=lI,parentRef:d,scrollRef:u,className:m,onClick:p}=e;const f=_r(),h=me(),g=me(),v=me(),[w,y]=ie({isDragging:!1,scrollTop:0,origin:cI,translation:cI}),b=me({x:0,y:0}),E=()=>{void 0!==v.current&&(cancelAnimationFrame(v.current),v.current=void 0)},k=(e,t)=>{const n=()=>{e.scrollBy(0,t),(()=>{if(!(w.isDragging&&h.current&&null!=d&&d.current&&null!=u&&u.current))return;const e=fI(w,b.current,u.current.scrollTop,h.current,d.current,l);y((t=>({...t,translation:e}))),o(e,a)})(),v.current=requestAnimationFrame(n)};E(),n()},C=e=>{var t,n,a;const o=mI(e),r=(null==u||null===(t=u.current)||void 0===t?void 0:t.scrollTop)??0;y({...w,isDragging:!0,origin:o,scrollTop:r,width:null===(n=h.current)||void 0===n?void 0:n.offsetWidth,height:null===(a=h.current)||void 0===a?void 0:a.offsetHeight})},N=zo((e=>{e.stopPropagation(),e.preventDefault(),C(e),n.bA&&xo.clearScrollPatch()})),S=zo((e=>{if(!h.current||null==d||!d.current||null==u||!u.current)return;const{x:t,y:n}=mI(e);b.current={x:t,y:n};const r=fI(w,b.current,u.current.scrollTop,h.current,d.current,l),i=u.current.getBoundingClientRect(),s=n-i.top,c=i.bottom-n;s<dI?k(u.current,-pI((dI-s)/dI)):c<dI?k(u.current,pI((dI-c)/dI)):E(),y((e=>({...e,translation:r}))),o(r,a)})),A=zo((()=>{y((e=>({...e,isDragging:!1,width:void 0,height:void 0}))),n.bA&&xo.applyScrollPatch(),r()})),T=zo((e=>{w.isDragging||p(e)}));ce((()=>{const e=g.current;return e&&e.addEventListener("touchstart",N,{passive:!1}),w.isDragging?(window.addEventListener("touchmove",S),window.addEventListener("mousemove",S),window.addEventListener("touchend",A),window.addEventListener("touchcancel",A),window.addEventListener("mouseup",A)):(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),y((e=>({...e,translation:cI})))),()=>{w.isDragging&&(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),e&&e.removeEventListener("touchstart",N))}}),[S,A,N,w.isDragging,g,c]);const I=xr("kWQHzIMD",m,w.isDragging&&"k0c5WDAy"),B=de((()=>Pp(w.isDragging&&`transform: translate(${w.translation.x}px, ${w.translation.y}px)`,w.width?`width: ${w.width}px`:void 0,w.height?`height: ${w.height}px`:void 0,i)),[i,w.height,w.isDragging,w.translation.x,w.translation.y,w.width]);return ge.createElement("div",{style:B,className:I,ref:h,onClick:T},!c&&ge.createElement("div",{ref:g,"aria-label":f("i18n_dragToSort"),tabIndex:0,role:"button",className:xr("UpzQzcvs","div-button","draggable-knob"),onMouseDown:e=>{C(e)},style:s},ge.createElement("i",{className:"icon icon-sort","aria-hidden":!0})),t)}));function mI(e){let t,n;return"touches"in e?(t=e.touches[0].clientX,n=e.touches[0].clientY):(t=e.clientX,n=e.clientY),{x:t,y:n}}function pI(e){return 5*e**3+1}function fI(e,t,n,a,o,r){const i={x:t.x-e.origin.x,y:t.y-e.origin.y+n-e.scrollTop},{top:s=0,right:c=0,bottom:l=0,left:d=0}=r,u=o.getBoundingClientRect(),m=a.getBoundingClientRect(),p=-a.offsetLeft+d,f=u.width-m.width-a.offsetLeft+c,h=-a.offsetTop+s,g=u.height-m.height-a.offsetTop+l;return{x:Lr(i.x,p,f),y:Lr(i.y,h,g)}}function hI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t.indexOf(e);return gI(-1===n?t.length:n)}function gI(e){return 64*e+48}const vI=fe((function(t){let{parentContainer:n,tokens:a,orderedSlugs:o,isSortByValueEnabled:r,baseCurrency:i,withChainIcon:s,isSensitiveDataHidden:c}=t;const{openSettingsWithState:l,updateOrderedSlugs:d,rebuildOrderedSlugs:u,toggleTokenVisibility:m}=Ke(),p=_r(),f=hr(i),h=me(),g=me(),[v,w]=ie(),[y,b]=ie({orderedTokenSlugs:o,dragOrderTokenSlugs:o,draggedIndex:void 0});ye((()=>{u()})),ce((()=>{(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t.length&&e.every(((e,n)=>e===t[n]))})(o,y.orderedTokenSlugs)||b({orderedTokenSlugs:o,dragOrderTokenSlugs:o,draggedIndex:void 0})}),[o,y.orderedTokenSlugs]);const E=zo((()=>{l({state:Hn.SelectTokenList})})),k=zo(((e,t)=>{var n,a;const r=Math.round(e.y/64),i=(null===(n=y.orderedTokenSlugs)||void 0===n?void 0:n.indexOf(t))??0,s=null===(a=y.orderedTokenSlugs)||void 0===a?void 0:a.filter((e=>e!==t));s&&Or(i+r,0,(null==o?void 0:o.length)??0)&&(s.splice(i+r,0,t),b((e=>({...e,draggedIndex:i,dragOrderTokenSlugs:s}))))})),C=zo((()=>{b((e=>(d({orderedSlugs:e.dragOrderTokenSlugs}),{...e,orderedTokenSlugs:e.dragOrderTokenSlugs,draggedIndex:void 0})))})),N=zo(((e,t)=>{t.preventDefault(),t.stopPropagation(),m({slug:e.slug,shouldShow:Boolean(e.isDisabled)})})),S=zo(((e,t)=>{t.stopPropagation(),w(e)}));return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:yg.blockTitle},p("My Tokens")),ge.createElement("div",{className:yg.contentRelative,ref:g},ge.createElement("div",{className:xr(yg.settingsBlock,yg.sortableContainer),style:`height: ${64*((null==a?void 0:a.length)??0)+48}px`,ref:h},ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:E},p("Add Token"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),null==a?void 0:a.map((function(t,o){const{symbol:i,name:l,amount:d,price:u,slug:m,isDisabled:g}=t,v=(0,ua.m1)(d,u),w=y.draggedIndex===o,b=r?gI(o):hI(m,y.orderedTokenSlugs),E=r?gI(o):hI(m,y.dragOrderTokenSlugs),A=`top: ${w?b:E}px;`,T=0n===d&&!e.Fgn.includes(m),I=r||a.length<=1;return ge.createElement(uI,{key:m,id:m,onDrag:k,onDragEnd:C,style:A,knobStyle:"left: 1rem;",isDisabled:I,className:xr(yg.item,yg.item_token,!r&&yg.draggable),offset:{top:48},parentRef:h,scrollRef:n,onClick:e=>N(t,e)},ge.createElement(jw,{token:t,withChainIcon:s}),ge.createElement("div",{className:yg.tokenInfo},ge.createElement("div",{className:yg.tokenTitle},l),ge.createElement("div",{className:yg.tokenDescription},ge.createElement(ey,{isActive:c,cols:4+E%6,rows:2,cellSize:8,contentClassName:yg.tokenAmount},ge.createElement(eN,{text:ur((0,Pt.nI)(v,t.decimals,!0),f)}),ge.createElement("i",{className:yg.dot,"aria-hidden":!0}),ge.createElement(eN,{text:ur((0,Pt.nI)(d,t.decimals),i)})),T&&ge.createElement(ge.Fragment,null,ge.createElement("i",{className:yg.dot,"aria-hidden":!0}),ge.createElement("span",{className:yg.deleteText,onClick:e=>S(t,e)},p("Delete"))))),ge.createElement(jT,{className:yg.menuSwitcher,checked:!g}))})))),ge.createElement(sI,{token:v}))})),wI=fe(je((e=>{const{isInvestorViewEnabled:t,isSortByValueEnabled:n,areTinyTransfersHidden:a,areTokensWithNoCostHidden:o,baseCurrency:r,isSensitiveDataHidden:i}=e.settings,{orderedSlugs:s}=ut(e)??{},{blacklistedNftAddresses:c=Sb,whitelistedNftAddresses:l=Sb,nfts:{byAddress:d}={}}=ct(e)||{};return{isInvestorViewEnabled:t,isSortByValueEnabled:n,areTinyTransfersHidden:a,areTokensWithNoCostHidden:o,baseCurrency:r,isMultichainAccount:Ct(e,e.currentAccountId),tokens:Wt(e),orderedSlugs:s,nftsByAddress:d,blacklistedNftAddresses:c,whitelistedNftAddresses:l,isSensitiveDataHidden:i}}))((function(t){let{isActive:n,isInsideModal:a,isInvestorViewEnabled:o,isSortByValueEnabled:r,isSensitiveDataHidden:i,areTinyTransfersHidden:s,areTokensWithNoCostHidden:c,baseCurrency:l,isMultichainAccount:d,tokens:u,orderedSlugs:m,nftsByAddress:p,blacklistedNftAddresses:f,whitelistedNftAddresses:h,onBack:g}=t;const{toggleTinyTransfersHidden:v,toggleInvestorView:w,toggleTokensWithNoCost:y,toggleSortByValue:b,changeBaseCurrency:E,setSettingsState:k}=Ke(),C=_r(),N=me();Yi({isActive:n,onBack:g});const{handleScroll:S,isScrolled:A}=fg(),T=de((()=>Object.entries(e.yR2).map((e=>{let[t,{name:n}]=e;return{value:t,name:n}}))),[]),I=zo((()=>{v({isEnabled:!s})})),B=zo((()=>{w({isEnabled:!o})})),_=zo((()=>{k({state:Hn.HiddenNfts})})),x=zo((()=>{y({isEnabled:!c})})),D=zo((()=>{b({isEnabled:!r})})),[L,O]=ie(l),M=zo((e=>{O(e),E({currency:e})})),{shouldRenderHiddenNftsSection:P,hiddenNftsCount:F}=de((()=>{const e=Object.values(p||{}),t=new Set(f),n=new Set(h);return{shouldRenderHiddenNftsSection:e.some((e=>t.has(e.address)||e.isHidden)),hiddenNftsCount:e.filter((e=>!n.has(e.address)&&(t.has(e.address)||e.isHidden))).length}}),[p,f,h]);return ge.createElement("div",{className:yg.slide},a?ge.createElement(tg,{title:C("Assets & Activity"),withNotch:A,onBackButtonClick:g,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",A&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:g,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,C("Back"))),ge.createElement("span",{className:yg.headerTitle},C("Assets & Activity"))),ge.createElement("div",{className:xr(yg.content,"custom-scroll"),onScroll:S,ref:N},ge.createElement("div",{className:yg.settingsBlock},ge.createElement(xv,{label:C("Base Currency"),items:T,selectedValue:l??e.wOb,theme:"light",shouldTranslateOptions:!0,className:xr(yg.item,yg.item_small),onChange:M,isLoading:L!==l}),ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:B},ge.createElement("div",null,C("Investor View")," ",ge.createElement(qv,{message:C("Focus on asset value rather than current balance"),iconClassName:yg.iconQuestion})),ge.createElement(jT,{className:yg.menuSwitcher,label:C("Investor View"),checked:o})),ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:I},ge.createElement("div",null,C("Hide Tiny Transfers")," ",ge.createElement(qv,{message:C("$tiny_transfers_help",{value:e.Wvq}),tooltipClassName:xr(yg.wideTooltip),iconClassName:yg.iconQuestion})),ge.createElement(jT,{className:yg.menuSwitcher,label:C("Hide Tiny Transfers"),checked:s}))),P&&ge.createElement("div",{className:yg.settingsBlock},ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:_},C("Hidden NFTs"),ge.createElement("div",{className:yg.itemInfo},F,ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),ge.createElement("p",{className:yg.blockTitle},C("Token Settings")),ge.createElement("div",{className:yg.settingsBlock},ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:D},C("Sort By Cost"),ge.createElement(jT,{className:yg.menuSwitcher,label:C("Sort By Cost"),checked:r})),ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:x},ge.createElement("div",null,C("Hide Tokens With No Cost")," ",ge.createElement(qv,{message:C("$hide_tokens_no_cost_help",{value:e.Wvq}),tooltipClassName:xr(yg.wideTooltip),iconClassName:yg.iconQuestion})),ge.createElement(jT,{className:yg.menuSwitcher,label:C("Hide Tokens With No Cost"),checked:c}))),ge.createElement(vI,{isSensitiveDataHidden:i,parentContainer:N,tokens:u,orderedSlugs:m,isSortByValueEnabled:r,baseCurrency:l,withChainIcon:d})))}))),yI="Uez1mztb",bI=fe((function(e){let{isOpen:t,dapp:n,onClose:a}=e;const{deleteAllDapps:o,deleteDapp:r}=Ke(),i=_r(),s=zo((()=>{o(),a()})),c=zo((()=>{r({url:n.url,uniqueId:yu(n)}),a()})),l=i(n?"Disconnect Dapp":"Disconnect Dapps"),d=n?i("Are you sure you want to disconnect?",{dappname:ge.createElement("strong",null,n.name)}):i("Are you sure you want to disconnect all websites?"),u=n?c:s;return ge.createElement(ac,{isOpen:t,isCompact:!0,onClose:a,title:l,contentClassName:"ofWxr4DU"},ge.createElement("p",{className:"XlFYElV7"},d),ge.createElement("div",{className:"gixyiSx7"},ge.createElement(js,{onClick:a,className:yI},i("Cancel")),ge.createElement(js,{isDestructive:!0,onClick:u,className:yI},i("Disconnect"))))})),EI=fe((function(t){let{isActive:n,dapps:a,handleBackClick:o,isInsideModal:r}=t;const i=_r(),[s,c,l]=rm(),[d,u]=ie();Yi({isActive:n,onBack:o});const{handleScroll:m,isScrolled:p}=fg(),f=zo((e=>{const t=a.find((t=>t.url===e));u(t),c()})),h=zo((()=>{u(void 0),c()})),g=0===a.length?ge.createElement("div",{className:yg.emptyList},ge.createElement(of,{play:n,tgsUrl:_p.noData,previewUrl:_p.noDataPreview,size:e.igk,noLoop:!1,nonInteractive:!0}),ge.createElement("p",{className:yg.emptyListTitle},i("No active connections"))):ge.createElement("div",{className:yg.dapps},ge.createElement("div",{className:yg.disconnectAllBlock},ge.createElement(js,{className:yg.disconnectButton,isSimple:!0,onClick:h},i("Disconnect All Dapps")),ge.createElement("p",{className:yg.blockDescription},i("$dapps-description",{app_name:e.C39}))),ge.createElement("p",{className:yg.blockTitle},i("Logged in with %app_name%",{app_name:e.C39})),ge.createElement("div",{className:yg.block},a.map((e=>ge.createElement(bw,{key:`dapp-${e.url}-${yu(e)}`,dapp:e,className:yg.dapp,onDisconnect:f})))));return ge.createElement("div",{className:yg.slide},r?ge.createElement(tg,{title:i("Dapps"),withNotch:p,onBackButtonClick:o,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",p&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:o,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("span",{className:yg.headerTitle},i("Dapps"))),ge.createElement("div",{className:xr(yg.content,"custom-scroll"),onScroll:m},ge.createElement(xf,{activeKey:0===a.length?0:1,name:"fade"},g)),ge.createElement(bI,{isOpen:s,onClose:l,dapp:d}))}));function kI(){if(e.v5B)return"firefox-extension";if(e.RTV)return"opera-extension";if(e.hL1)return"extension";if(e.UMQ){if(e.gmk){if(n.pz)return"ios-air";if(e.VL7)return"android-air-direct";if(n.Ni)return"android-air"}if(e.VL7)return"android-direct";if(n.Ni)return"android";if(n.pz)return"ios"}var t;return e.tKX?(null===(t=ro())||void 0===t?void 0:t.platform)||"telegram-unknown":n.cp?"electron":"web"}var CI=i(36791);const NI=[{value:"mainnet",name:"Mainnet"},{value:"testnet",name:"Testnet"}],SI=n.pz||!(e.hL1||e.tKX),AI=fe(je((e=>{var t;const n=e.currentAccountId;return{currentAccountId:n,accountsById:null===(t=e.accounts)||void 0===t?void 0:t.byId,canViewAllWalletVersions:!Ct(e,n)}}))((function(o){let{isOpen:r,isTestnet:i,isCopyStorageEnabled:s,onShowAllWalletVersions:c,onClose:l,currentAccountId:d,accountsById:u,canViewAllWalletVersions:m}=o;const{startChangingNetwork:p,closeSettings:f,openAddAccountModal:h,copyStorageData:g,showNotification:v}=Ke(),w=_r(),y=NI[i?1:0].value,b=zo((e=>{p({network:e}),l()})),E=zo((()=>{l(),f(),h({forceAddingTonOnlyAccount:!0})})),k=zo((async()=>{const o=await async function(o){let{currentAccountId:r,accountsById:i}=o;const s=i&&Object.keys(i).reduce(((e,t)=>{const{addressByChain:n,type:a}=i[t];return e[t]={type:a,addressByChain:n},e}),{}),[c,l,d=[]]=await Promise.all([(0,t.ao)(),n.KI?new Promise((e=>{const t=n=>{let{data:a}=n;"logsFromNative"===a.type&&(xl.removeEventListener("message",t),e(a.logs))};xl.addEventListener("message",t),xl.postMessage({type:"getLogsFromNative"})})):Promise.resolve([]),(0,a.p)("getLogs")]),u=new Date,m=-u.getTimezoneOffset();return JSON.stringify({time:u,timezone:`UTC${m<0?"-":"+"}${Math.abs(m)/60}`,environment:e.Guj,version:e.hl5,commit:e.rFA,platform:(0,CI.u)(),navigatorPlatform:navigator.platform,userAgent:navigator.userAgent,build:kI(),flags:{IS_ANDROID_DIRECT:e.VL7,IS_CAPACITOR:e.UMQ,IS_TELEGRAM_APP:e.tKX,IS_EXTENSION:e.hL1,IS_FIREFOX_EXTENSION:e.v5B,IS_PACKAGED_ELECTRON:e.jht,IS_AIR_APP:e.gmk,IS_ELECTRON:n.cp,IS_OPERA_EXTENSION:e.RTV},currentAccountId:r,accountsInfo:s,logs:[...c.map((e=>({...e,context:"main"}))),...l.map((e=>({...e,context:"bottomSheet"}))),...d.map((e=>({...e,context:"api"})))].sort(((e,t)=>e.time-t.time)).map((e=>({...e,time:new Date(e.time).toISOString()})))},void 0,2)}({currentAccountId:d,accountsById:u});if(SI){const t=`${e.TI6?"tonwallet":"mytonwallet"}_logs_${(new Date).toISOString()}.json`;await async function(t,a){if(e.UMQ){const e={path:t,directory:Fh.__.Cache},n=await Rh.writeFile({...e,data:a,encoding:Fh.Wi.UTF8});try{if(await Hh({url:n.uri}))return}finally{Rh.deleteFile(e)}}const o=new File([a],t,{type:"application/json"});if(await $h({files:[o]}))return;const r=URL.createObjectURL(o);try{if(n.pz)window.open(r,"_blank","noreferrer");else{const e=document.createElement("a");e.href=r,e.download=t,e.click()}}finally{URL.revokeObjectURL(r)}}(t,o)}else await hl(o),v({message:w("Logs were copied!"),icon:"icon-copy"}),l()}));return ge.createElement(ac,{isOpen:r,onClose:l,noBackdropClose:!0,isCompact:!0,title:w("Developer Options")},ge.createElement("div",{className:yg.settingsBlock},ge.createElement(xv,{label:w("Network"),items:NI,selectedValue:y,theme:"light",arrow:"chevron",className:xr(yg.item,yg.item_small),onChange:b}),ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:E},w("Create TON-Only Wallet"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-plus"),"aria-hidden":!0})),ge.createElement("div",{className:xr(yg.item,yg.item_small,!m&&yg.item_disabled),onClick:c},w("All Wallet Versions"),ge.createElement("div",{className:yg.itemInfo},m?ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}):ge.createElement(ge.Fragment,null,ge.createElement("span",{className:yg.small},w("Multichain")),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-lock"),"aria-hidden":!0}))))),s&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:yg.blockTitle},w("Dangerous")),ge.createElement("div",{className:yg.settingsBlock},ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:()=>g()},w("Copy Storage Data"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-copy"),"aria-hidden":!0})))),ge.createElement("div",{className:xr(yg.settingsBlock)},ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:k},SI?w("Download Logs"):ge.createElement(ge.Fragment,null,w("Copy Logs"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-copy"),"aria-hidden":!0})))),ge.createElement(js,{className:yg.developerCloseButton,onClick:l},w("Close")))}))),TI=fe((function(t){let{isActive:n,handleBackClick:a,isInsideModal:o}=t;const r=_r();Yi({isActive:n,onBack:a});const{handleScroll:i,isScrolled:s}=fg();return ge.createElement("div",{className:yg.slide},o?ge.createElement(tg,{title:"",withNotch:s,onBackButtonClick:a}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",s&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:a,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back")))),ge.createElement("div",{className:xr(yg.content,o&&"custom-scroll",!o&&yg.content_noScroll),onScroll:o?i:void 0},ge.createElement("div",{className:yg.stickerAndTitle},ge.createElement(of,{play:n,tgsUrl:_p.snitch,previewUrl:_p.snitchPreview,noLoop:!1,nonInteractive:!0,size:e.lWW}),ge.createElement("div",{className:yg.sideTitle},r("Use Responsibly"))),ge.createElement("div",{className:xr(yg.blockAbout,!o&&"custom-scroll")},ge.createElement("p",{className:yg.text},rr(r("$auth_responsibly_description1",{app_name:e.C39}))),ge.createElement("p",{className:yg.text},rr(r("$auth_responsibly_description2"))),ge.createElement("p",{className:yg.text},rr(r("$auth_responsibly_description3",{app_name:e.C39}))),ge.createElement("p",{className:yg.text},rr(r("$auth_responsibly_description4"))))))})),II=fe((function(e){let{nft:t}=e;const{openMediaViewer:a,removeNftSpecialStatus:o}=Ke(),r=_r(),[i,,s]=rm(!0),c=zo((()=>{o({address:t.address})})),{ref:l}=$s({isOpen:i,onCloseAnimationEnd:c}),{isPortrait:d}=hi(),u=!d||n.cp||n.KI||n.bA;return Ne.createElement("div",{ref:l,className:yg.item,onClick:function(){a({mediaId:t.address,mediaType:Kn.Nft,noGhostAnimation:u,hiddenNfts:"user"})},key:t.address,role:"button",tabIndex:0,"data-nft-address":!u&&t.address},Ne.createElement("img",{className:yg.nftImage,src:t.image,alt:t.name}),Ne.createElement("div",{className:yg.nftPrimaryCell},Ne.createElement("span",{className:yg.nftName},t.name||r("Untitled")),t.collectionName&&Ne.createElement("span",{className:yg.nftCollection},t.collectionName)),Ne.createElement(js,{isSmall:!0,isPrimary:!0,isText:!0,className:yg.nftButtonUnhide,onClick:s,shouldStopPropagation:!0},r("Unhide")))})),BI=fe((function(e){let{nft:t,isWhitelisted:a}=e;const{openMediaViewer:o,removeNftSpecialStatus:r,openUnhideNftModal:i}=Ke(),s=_r(),{isPortrait:c}=hi(),l=!c||n.cp||n.KI||n.bA,d=zo((()=>{o({mediaId:t.address,mediaType:Kn.Nft,noGhostAnimation:l,hiddenNfts:"scam"})})),u=zo((e=>{e.stopPropagation(),a?r({address:t.address}):i({address:t.address,name:t.name})}));return Ne.createElement("div",{className:yg.item,onClick:d,key:t.address,role:"button",tabIndex:0,"data-nft-address":!l&&t.address},Ne.createElement("img",{className:yg.nftImage,src:t.image,alt:t.name}),Ne.createElement("div",{className:yg.nftPrimaryCell},Ne.createElement("span",{className:yg.nftName},t.name),t.collectionName&&Ne.createElement("span",{className:yg.nftCollection},t.collectionName)),Ne.createElement(jT,{className:yg.menuSwitcher,label:s("Show"),checked:a,onChange:u,shouldStopPropagation:!0}))})),_I=fe(je((e=>{var t;const{blacklistedNftAddresses:n,whitelistedNftAddresses:a}=ct(e)??{},{orderedAddresses:o,byAddress:r}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)??{};return{blacklistedNftAddresses:n,whitelistedNftAddresses:a,orderedAddresses:o,byAddress:r}}))((function(e){let{isActive:t,handleBackClick:a,isInsideModal:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,orderedAddresses:s,byAddress:c}=e;const l=_r();Yi({isActive:t,onBack:a});const{isScrolled:d,handleScroll:u}=fg(),m=de((()=>{if(s&&c)return s.map((e=>c[e])).filter(Boolean)}),[c,s]),p=de((()=>{const e=new Set(r);return null==m?void 0:m.filter((t=>e.has(t.address)))}),[m,r]),f=de((()=>null==m?void 0:m.filter((e=>e.isHidden))),[m]),h=de((()=>new Set(i)),[i]),{isPortrait:g}=hi(),v=!g||n.cp||n.KI||n.bA;return ge.createElement("div",{className:yg.slide},o?ge.createElement(tg,{title:l("Hidden NFTs"),withNotch:d,onBackButtonClick:a,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",d&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:a,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:yg.headerTitle},l("Hidden NFTs"))),ge.createElement("div",{className:xr(yg.content,"custom-scroll"),onScroll:u},Boolean(null==p?void 0:p.length)&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:yg.blockTitle},l("Hidden By Me")),ge.createElement("div",{className:xr(yg.block,!v&&"hidden-nfts-user")},p.map((e=>ge.createElement(II,{key:e.address,nft:e}))))),Boolean(null==f?void 0:f.length)&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:yg.blockTitle},l("Probably Scam")),ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription,!v&&"hidden-nfts-scam")},f.map((e=>ge.createElement(BI,{key:e.address,nft:e,isWhitelisted:h.has(e.address)})))),ge.createElement("p",{className:yg.blockDescription},l("$settings_nft_probably_scam_description")))))}))),xI=i.p+"settings_checkmark.4c62604cbc9fd263c110.svg",DI=fe((function(t){let{isActive:n,langCode:a,handleBackClick:o,isInsideModal:r}=t;const{changeLanguage:i}=Ke(),s=_r();Yi({isActive:n,onBack:o});const c=zo((e=>{Br(e,(()=>{i({langCode:e})}))}));return ge.createElement("div",{className:yg.slide},r?ge.createElement(tg,{title:s("Language"),onBackButtonClick:o,className:xr(yg.modalHeader,yg.languageHeader)}):ge.createElement("div",{className:yg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:o,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,s("Back"))),ge.createElement("span",{className:yg.headerTitle},s("Language"))),ge.createElement("div",{className:xr(yg.content,"custom-scroll")},ge.createElement("div",{className:yg.block},e.gSB.map((e=>{let{name:t,nativeName:n,langCode:o}=e;return ge.createElement("div",{key:o,className:xr(yg.item,yg.item_lang),onClick:()=>c(o)},ge.createElement("div",{className:yg.languageInfo},ge.createElement("span",{className:yg.languageMain},t),ge.createElement("span",{className:yg.languageNative},n)),a===o&&ge.createElement("img",{src:xI,alt:t}))})))))})),LI=fe(je((e=>({accounts:at(e),canPlaySounds:e.settings.canPlaySounds,pushNotifications:e.pushNotifications,settingsByAccountId:e.settings.byAccountId})))((function(t){let{isActive:n,handleBackClick:a,accounts:o,canPlaySounds:r,pushNotifications:{enabledAccounts:i,isAvailable:s},isInsideModal:c,settingsByAccountId:l}=t;const d=_r(),{toggleNotifications:u,toggleNotificationAccount:m,toggleCanPlaySounds:p}=Ke(),f=de((()=>Object.entries(o||{})),[o]),h=Boolean(Object.keys(i).length),g=d(s?"Notifications & Sounds":"Sounds"),v=zo((()=>{u({isEnabled:!h})})),w=zo((()=>{p({isEnabled:!r})}));Yi({isActive:n,onBack:a});const{handleScroll:y,isScrolled:b}=fg();return ge.createElement("div",{className:yg.slide},c?ge.createElement(tg,{title:g,withNotch:b,onBackButtonClick:a,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",b&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:a,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back"))),ge.createElement("span",{className:yg.headerTitle},g)),ge.createElement("div",{className:xr(yg.content,"custom-scroll"),onScroll:y},s&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:yg.settingsBlock},ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:v},d("Push Notifications"),ge.createElement(jT,{className:yg.menuSwitcher,label:d("Push Notifications"),checked:h}))),ge.createElement("p",{className:yg.blockTitle},d("Select up to %count% wallets for notifications",{count:e.vdF})),ge.createElement(Sv,{accountLength:f.length,className:yg.settingsBlock},f.map((t=>{let[n,{title:a,addressByChain:o,type:r}]=t;return function(t,n,a,o){const r=n.ton?()=>{m({accountId:t})}:void 0,{cardBackgroundNft:s}=(null==l?void 0:l[t])||{},c=(0,Ye.LG)(n)??"",u=i&&!i[t]&&Qe(i,e.vdF-1);return ge.createElement(Nv,{className:xr(yg.account,u?yg.accountDisabled:void 0),key:t,accountId:t,address:c,title:o,ariaLabel:d("Switch Account"),accountType:a,withCheckbox:!0,isLoading:u,isActive:Boolean(i&&i[t]),onClick:r,cardBackgroundNft:s})}(n,o,r,a)})))),ge.createElement("div",{className:yg.settingsBlock},ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:w},d("Play Sounds"),ge.createElement(jT,{className:yg.menuSwitcher,label:d("Play Sounds"),checked:r})))))})));var OI,MI;!function(e){e.Accessibility="accessibility",e.Account="account",e.AirplaneMode="airplane_mode",e.Apn="apn",e.ApplicationDetails="application_details",e.ApplicationDevelopment="application_development",e.Application="application",e.AppNotification="app_notification",e.BatteryOptimization="battery_optimization",e.Bluetooth="bluetooth",e.Captioning="captioning",e.Cast="cast",e.DataRoaming="data_roaming",e.Date="date",e.Display="display",e.Dream="dream",e.Home="home",e.Keyboard="keyboard",e.KeyboardSubType="keyboard_subtype",e.Locale="locale",e.Location="location",e.ManageApplications="manage_applications",e.ManageAllApplications="manage_all_applications",e.MemoryCard="memory_card",e.Network="network",e.NfcSharing="nfcsharing",e.NfcPayment="nfc_payment",e.NfcSettings="nfc_settings",e.Print="print",e.Privacy="privacy",e.QuickLaunch="quick_launch",e.Search="search",e.Security="security",e.Settings="settings",e.ShowRegulatoryInfo="show_regulatory_info",e.Sound="sound",e.Storage="storage",e.Sync="sync",e.Usage="usage",e.UserDictionary="user_dictionary",e.VoiceInput="voice_input",e.Wifi="wifi",e.WifiIp="wifi_ip",e.Wireless="wireless",e.ZenMode="zen_mode",e.ZenModePriority="zen_mode_priority",e.ZenModeBlockedEffects="zen_mode_blocked_effects"}(OI||(OI={})),function(e){e.About="about",e.App="app",e.AppNotification="appNotification",e.AutoLock="autoLock",e.Bluetooth="bluetooth",e.DateTime="dateTime",e.FaceTime="facetime",e.General="general",e.Keyboard="keyboard",e.ICloud="iCloud",e.ICloudStorageBackup="iCloudStorageBackup",e.International="international",e.LocationServices="locationServices",e.Music="music",e.Notes="notes",e.Notifications="notifications",e.Phone="phone",e.Photos="photos",e.ManagedConfigurationList="managedConfigurationList",e.Reset="reset",e.Ringtone="ringtone",e.Sounds="sounds",e.SoftwareUpdate="softwareUpdate",e.Store="store",e.Tracking="tracking",e.Wallpaper="wallpaper",e.WiFi="wifi",e.Tethering="tethering",e.DoNotDisturb="doNotDisturb",e.TouchIdPasscode="touchIdPasscode",e.ScreenTime="screenTime",e.Accessibility="accessibility"}(MI||(MI={}));const PI=(0,Oa.F3)("NativeSettings",{web:()=>i.e(988).then(i.bind(i,91988)).then((e=>new e.NativeSettingsWeb))}),FI=i.p+"settings_private-key.5db3564e144d742b44ca.svg",RI=i.p+"settings_secret-words.594687182868e734ac8f.svg",UI=fe((function(e){let{isActive:t,isInsideModal:n,isMultichainAccount:a,hasMnemonicWallet:o,onBackClick:r,onOpenSecretWordsSafetyRules:i,onOpenPrivateKeySafetyRules:s,openSettingsSlide:c}=e;const l=_r();Yi({isActive:t,onBack:r});const{handleScroll:d,isScrolled:u}=fg();return ge.createElement("div",{className:yg.slide},n?ge.createElement(tg,{onBackButtonClick:c,className:yg.modalHeader,withNotch:u,title:l("$back_up_security")}):ge.createElement("div",{className:yg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:c,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:yg.headerTitle},l("$back_up_security"))),ge.createElement("div",{className:xr(yg.content,"custom-scroll"),onScroll:d},o&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement("div",{className:xr(yg.item),onClick:i},ge.createElement("img",{className:yg.menuIcon,src:RI,alt:l("View Secret Words")}),l("View Secret Words"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),a&&ge.createElement("p",{className:yg.blockDescription},l("Can be imported to any multichain wallet supporting TON."))),(a||!o)&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement("div",{className:xr(yg.item),onClick:s},ge.createElement("img",{className:yg.menuIcon,src:FI,alt:l("View TON Private Key")}),l("View TON Private Key"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("p",{className:yg.blockDescription},l("Can be imported to non-multichain wallets for TON.")))))})),WI=fe((function(t){let{isActive:n,privateKey:a,onSubmit:o,buttonText:r}=t;const i=_r();return ge.createElement(ge.Fragment,null,ge.createElement(of,{tgsUrl:_p.bill,previewUrl:_p.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:Tg}),ge.createElement("p",{className:xr(_g,Dg)},rr(i("$private_key_description"))),ge.createElement("p",{className:xg},rr(i("$mnemonic_warning"))),ge.createElement(qy,{noExplorer:!0,text:a,copyNotification:i("Your private key was copied!")}),ge.createElement("div",{className:Ig},ge.createElement(js,{isPrimary:!0,className:Bg,onClick:o},r)))})),HI="gDO3tqgH",$I=fe((function(e){let{isActive:t,currentAccountId:n,enteredPassword:o,isBackupSlideActive:r,isInsideModal:i,onBackClick:s,onSubmit:c}=e;const l=_r(),[d,u]=ie(void 0);ce((()=>{!async function(){if(r&&o){const e=await(0,a.p)("fetchPrivateKey",n,o);u(e)}else u(void 0)}()}),[n,o,r]),Yi({isActive:t,onBack:s});const{handleScroll:m,isScrolled:p}=fg();return ge.createElement("div",{className:yg.slide},i?ge.createElement(tg,{title:l("Private Key"),withNotch:p,onBackButtonClick:s,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",p&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:s,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:yg.headerTitle},l("Private Key"))),ge.createElement("div",{className:xr(yg.content,HI),onScroll:m},ge.createElement(WI,{isActive:t,privateKey:d,buttonText:l("Close"),onSubmit:c})))})),VI=fe((function(e){let{isActive:t,onBackClick:n,isInsideModal:a,onSubmit:o,backupType:r}=e;const i=_r(),[s,c]=ie(!1),[l,d]=ie(!1),[u,m]=ie(!1),p=zo((()=>{c(!1),d(!1),m(!1),n()}));Yi({isActive:t,onBack:n});const{handleScroll:f,isScrolled:h}=fg();return ge.createElement("div",{className:yg.slide},a?ge.createElement(tg,{title:i("Safety Rules"),withNotch:h,onBackButtonClick:p,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",h&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:p,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("span",{className:yg.headerTitle},i("Safety Rules"))),ge.createElement("div",{className:xr(yg.content,HI),onScroll:f},ge.createElement(rv,{isActive:t,isFullSizeButton:!0,textFirst:i("key"===r?"$safety_rules_private_key_one":"$safety_rules_one"),textSecond:i("key"===r?"$safety_rules_private_key_two":"$safety_rules_two"),textThird:i("key"===r?"$safety_rules_private_key_three":"$safety_rules_three"),isFirstCheckboxSelected:s,onFirstCheckboxClick:c,isSecondCheckboxSelected:l,onSecondCheckboxClick:d,isThirdCheckboxSelected:u,onThirdCheckboxClick:m,onSubmit:o})))})),zI=fe((function(e){let{isActive:t,currentAccountId:n,enteredPassword:o,isBackupSlideActive:r,isInsideModal:i,onBackClick:s,onSubmit:c}=e;const l=_r(),[d,u]=ie(void 0),m=(null==d?void 0:d.length)||0;ce((()=>{!async function(){if(r&&o){const e=await(0,a.p)("fetchMnemonic",n,o);u(e)}else u(void 0)}()}),[n,o,r]),Yi({isActive:t,onBack:s});const{handleScroll:p,isScrolled:f}=fg();return ge.createElement("div",{className:yg.slide},i?ge.createElement(tg,{title:l("%1$d Secret Words",m),withNotch:f,className:yg.modalHeader,onBackButtonClick:s}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",f&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,className:yg.headerBack,onClick:s},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:yg.headerTitle},l("%1$d Secret Words",m))),ge.createElement("div",{className:xr(yg.content,HI),onScroll:p},ge.createElement(cv,{isActive:t,mnemonic:d,onSubmit:c,buttonText:l("Close")})))})),KI=fe(je((e=>({isBiometricAuthEnabled:At(e)})))((function(e){let{isBiometricAuthEnabled:t,onEnable:a}=e;const{disableNativeBiometrics:o}=Ke(),r=ol()||!al()&&n.pz,i=rl(),s=_r(),[c,l,d]=rm(),u=r?"Face ID":i?"Touch ID":s("Biometric Authentication"),m=r?"Turn Off Face ID":i?"Turn Off Touch ID":"Turn Off Biometrics",p=r?"Are you sure you want to disable Face ID?":i?"Are you sure you want to disable Touch ID?":"Are you sure you want to disable biometrics?",f=r?$g:Hg,h=zo((()=>{d(),o()}));Ee((()=>{n.bA&&c&&cb.confirm({title:s(m),message:s(p),okButtonTitle:s("Yes"),cancelButtonTitle:s("Cancel")}).then((e=>{let{value:t}=e;t&&h()})).finally(d)}),[h,c,s,p,m]);const g=zo((()=>{var e;oo()?null===(e=ro())||void 0===e||e.BiometricManager.openSettings():t?l():a()}));return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement("div",{className:yg.item,onClick:g},ge.createElement("img",{className:yg.menuIcon,src:f,alt:""}),u,ge.createElement(jT,{className:yg.menuSwitcher,label:u,checked:t})),function(){if(!n.bA)return ge.createElement(ac,{isCompact:!0,isOpen:c,title:s(m),onClose:d,dialogClassName:yg.stakingSafeDialog},ge.createElement("p",{className:Gs.text},rr(s(p))),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:d},s("Cancel")),ge.createElement(js,{onClick:h},s("Yes"))))}()),ge.createElement("p",{className:yg.blockDescription},s("To avoid entering the passcode every time, you can use biometrics.")))}))),qI=i.p+"settings_install-app.4e741ffc81f5e067f545.svg";let jI=function(e){return e[e.password=0]="password",e[e.settings=1]="settings",e[e.newPassword=2]="newPassword",e[e.createNewPin=3]="createNewPin",e[e.confirmNewPin=4]="confirmNewPin",e[e.passwordChanged=5]="passwordChanged",e[e.backup=6]="backup",e[e.safetyRules=7]="safetyRules",e[e.privateKey=8]="privateKey",e[e.secretWords=9]="secretWords",e}({});const YI=il()?jI.createNewPin:jI.newPassword,GI=fe(je((e=>{const{isPasswordNumeric:t,autolockValue:n,isAppLockEnabled:a,isAutoConfirmEnabled:o}=e.settings,r=St(e),i=At(e),s=bt(e),c=Tt(e,e.currentAccountId);return{isBiometricAuthEnabled:r,isNativeBiometricAuthEnabled:i,isMultichainAccount:Ct(e,e.currentAccountId),isPasswordNumeric:t,isPasswordPresent:s,isAppLockEnabled:a,autolockValue:n,isAutoConfirmEnabled:o,isAllowSuspiciousActions:c,shouldShowBackup:wt(e),isLoading:e.auth.isLoading,currentAccountId:e.currentAccountId}}))((function(t){let{isActive:o,handleBackClick:r,isInsideModal:i,isBiometricAuthEnabled:s,isNativeBiometricAuthEnabled:c,isPasswordNumeric:d,isPasswordPresent:u,isMultichainAccount:m,isAppLockEnabled:p,autolockValue:f=e.fPM,isAutoConfirmEnabled:h,isAllowSuspiciousActions:g,isAutoUpdateEnabled:v,currentAccountId:w,onSettingsClose:y,onAutoUpdateEnabledToggle:b,isLoading:E,shouldShowBackup:k}=t;const{setIsPinAccepted:C,clearIsPinAccepted:N,disableNativeBiometrics:S,enableNativeBiometrics:A,openBiometricsTurnOffWarning:T,openBiometricsTurnOn:I,setSettingsState:B,setAppLockValue:_,setIsAutoConfirmEnabled:x,setIsAllowSuspiciousActions:D,setIsAuthLoading:L,setInMemoryPassword:O}=Ke(),M=_r(),{isScrolled:P,handleScroll:F}=fg(),[R,U]=ie(jI.password),W=be(R),[H,$]=ie(jI.settings),[V,z]=ie(),[K,q]=ie(),[j,Y]=ie(void 0),[G,Q]=ie(!1),[X,J]=ie(""),[Z,ee]=ie(""),te=zo((()=>{z(void 0)})),ne=zo((e=>{e||q(void 0),J(""),ee(""),te(),N()})),ae=zo((()=>{r(),ne()})),oe=zo((()=>{U(jI.confirmNewPin),$(jI.settings)})),re=zo((()=>{U(jI.settings),$(void 0),ne(!0)})),se=zo((()=>{m?(U(jI.backup),$(jI.safetyRules)):re()})),de=zo((()=>{U(YI),$(jI.settings)})),ue=zo((()=>{U(jI.passwordChanged),$(jI.settings)}));le((()=>{void 0===K&&o?U(jI.password):o||ne()}),[K,o]),Yi({isActive:o,onBack:ae});const me=zo((async e=>{await(0,a.p)("verifyPassword",e)?(il()&&(C(),await pl(!0)),re(),q(e)):z("Wrong password, please try again.")})),pe=zo((async e=>{await(0,a.p)("changePassword",K,e),L({isLoading:!0}),q(e),O({password:e}),c&&(S(),A({password:e})),il()?re():ue(),L({isLoading:void 0})})),fe=zo((async e=>{J(e),await pl(!0),await(0,l.v7)(500),oe()})),he=zo((async e=>{e===X?(z(M("New code set successfully")),await(0,l.v7)(1500),await pe(e)):(z(M("Codes don’t match")),await(0,l.v7)(1500),ne(!0),U(jI.createNewPin))})),ve=zo((()=>{$(YI),de()})),we=zo((()=>{Y("key"),U(jI.safetyRules),$(jI.privateKey)})),ye=zo((()=>{Y("words"),U(jI.safetyRules),$(jI.secretWords)})),Ee=zo((()=>{m?(U(jI.backup),$(void 0)):G?ye():we()})),ke=zo((()=>{U(jI.privateKey),$(jI.backup)})),Ce=zo((()=>{U(jI.secretWords),$(jI.backup)})),Ne=zo((()=>{_({value:f,isEnabled:!p})})),Se=zo((e=>{_({value:e,isEnabled:!0})})),Ae=zo((()=>{x({isEnabled:!h})})),Te=zo((()=>{D({isEnabled:!g})})),Ie=zo((()=>{s?T():I()})),Be=zo((async()=>{if(al())return void B({state:Hn.NativeBiometricsTurnOn});const e=n.pz?"To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable biometrics in your phone settings.",{value:t}=await cb.confirm({title:M("Warning!"),message:M(e),okButtonTitle:M("Open Settings"),cancelButtonTitle:M("Cancel")});t&&await PI.open({optionAndroid:OI.ApplicationDetails,optionIOS:MI.App})}));ce((()=>{K&&(0,a.p)("fetchMnemonic",w,K).then((e=>{Q(Boolean(e&&!vl(e)))}))}),[G,w,K]);const _e=u&&(al()||n.ZH||oo()),xe=i&&il(),De=!s;function Le(t,a,r){switch(r){case jI.settings:return ge.createElement("div",{className:yg.slide},i?ge.createElement(tg,{title:M("Security"),withNotch:P,onBackButtonClick:ae,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",P&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:ae,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,M("Back"))),ge.createElement("span",{className:yg.headerTitle},M("Security"))),ge.createElement("div",{className:xr(yg.content,"custom-scroll"),onScroll:F},k&&ge.createElement("div",{className:yg.settingsBlock},ge.createElement("div",{className:xr(yg.item),onClick:Ee},ge.createElement("img",{className:yg.menuIcon,src:qI,alt:M("$back_up_security")}),M("$back_up_security"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),_e&&ge.createElement(KI,{onEnable:Be}),u&&n.uh&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement("div",{className:yg.item,onClick:Ie},ge.createElement("img",{className:yg.menuIcon,src:Hg,alt:M("Biometric Authentication")}),M("Biometric Authentication"),ge.createElement(jT,{className:yg.menuSwitcher,label:M("Biometric Authentication"),checked:s}))),ge.createElement("p",{className:yg.blockDescription},M("To avoid entering the passcode every time, you can use biometrics."))),!(s&&!c)&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement(js,{className:yg.changePasswordButton,isSimple:!0,onClick:ve},M(d?"Change Passcode":"Change Password"))),ge.createElement("p",{className:yg.blockDescription},M("The passcode will be changed for all your wallets."))),u&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement("div",{className:xr(yg.item,yg.itemSmall),onClick:Ne},M("App Lock"),ge.createElement(jT,{className:yg.menuSwitcher,label:M("Allow App Lock"),checked:p})),ge.createElement(nA,{isShown:!!p},ge.createElement(xv,{label:M("Auto-Lock"),items:e.zTb,selectedValue:f,theme:"light",shouldTranslateOptions:!0,className:xr(yg.item,yg.item_small,yg.itemAutoLock),onChange:Se}))),ge.createElement("p",{className:yg.blockDescription},M("$app_lock_description",{app_name:e.C39}))),u&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement("div",{className:xr(yg.item,yg.itemSmall,!De&&yg.itemDisabled),onClick:De?Ae:void 0},M(d?"Remember Passcode":"Remember Password"),ge.createElement(jT,{className:yg.menuSwitcher,label:M(d?"Remember Passcode":"Remember Password"),checked:De&&h}))),ge.createElement("p",{className:yg.blockDescription},M("App will not ask for signature for %1$d minutes after last entry.",e.gbw),!De&&` ${M("Not available with biometrics.")}`)),n.cp&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement("div",{className:xr(yg.item,yg.item_small),onClick:b},M("Auto-Updates"),ge.createElement(jT,{className:yg.menuSwitcher,label:M("Auto-Updates"),checked:v}))),ge.createElement("p",{className:yg.blockDescription},M("Turn this off so you can manually download updates and verify signatures."))),ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr(yg.block,yg.settingsBlockWithDescription)},ge.createElement("div",{className:xr(yg.item,yg.itemSmall),onClick:Te},M("Allow Suspicious Actions"),ge.createElement(jT,{className:yg.menuSwitcher,label:M("Allow Suspicious Actions"),checked:g}))),ge.createElement("p",{className:yg.blockDescription},M("$allow_suspicious_actions_description")))));case jI.password:return wm()?(U(jI.settings),void ym().then((e=>q(e)))):ge.createElement(ge.Fragment,null,i?ge.createElement(tg,{title:M(d?"Confirm Passcode":"Confirm Password"),onBackButtonClick:ae,className:yg.modalHeader}):ge.createElement("div",{className:yg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:ae,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,M("Back"))),ge.createElement("span",{className:yg.headerTitle},M("Enter Password"))),ge.createElement(Hf,{isActive:t&&o,error:V,containerClassName:e.UMQ?yg.passwordFormContent:yg.passwordFormContentInModal,forceBiometricsInMain:!i,placeholder:M("Enter your current password"),submitLabel:M("Continue"),onCancel:ae,onSubmit:me,onUpdate:te}));case jI.newPassword:return ge.createElement(ge.Fragment,null,i?ge.createElement(tg,{title:M("Change Password"),onBackButtonClick:re,className:yg.modalHeader}):ge.createElement("div",{className:yg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:re,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,M("Back"))),ge.createElement("span",{className:yg.headerTitle},M("Change Password"))),ge.createElement("div",{className:xr(Gs.transitionContent,yg.content,i&&yg.contentInModal)},ge.createElement(of,{tgsUrl:_p.guard,previewUrl:_p.guardPreview,play:t,size:e.igk,nonInteractive:!0,noLoop:!1,className:yg.sticker}),ge.createElement(Kg,{isActive:t,isLoading:E,onSubmit:pe,onCancel:re,formId:"auth-create-password"})));case jI.createNewPin:return ge.createElement(ge.Fragment,null,i?ge.createElement(tg,{onBackButtonClick:re,className:yg.modalHeader,title:xe&&M("Change Passcode")}):ge.createElement("div",{className:yg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:re,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,M("Back")))),ge.createElement("div",{className:xr(yg.pinPadHeader,xe&&yg.pinPadHeaderMinified)},ge.createElement(of,{play:o,tgsUrl:_p.guard,previewUrl:_p.guardPreview,noLoop:!1,size:xe?e.jzp:e.reE,nonInteractive:!0}),!xe&&ge.createElement("div",{className:yg.pinPadTitle},M("Change Passcode"))),ge.createElement(Mf,{isActive:o,title:M("Enter your new code"),length:e.NEx,value:X,onChange:J,onSubmit:fe,isMinified:xe}));case jI.confirmNewPin:return ge.createElement(ge.Fragment,null,i?ge.createElement(tg,{onBackButtonClick:re,className:yg.modalHeader,title:xe&&M(V&&X===Z?"Passcode Changed!":"Change Passcode")}):ge.createElement("div",{className:yg.header},ge.createElement(js,{isSimple:!0,isText:!0,onClick:re,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,M("Back")))),ge.createElement("div",{className:xr(yg.pinPadHeader,xe&&yg.pinPadHeaderMinified)},ge.createElement(of,{play:o,tgsUrl:_p.guard,previewUrl:_p.guardPreview,noLoop:!1,size:xe?e.jzp:e.reE,nonInteractive:!0}),!xe&&ge.createElement("div",{className:yg.pinPadTitle},M(V&&X===Z?"Passcode Changed!":"Change Passcode"))),ge.createElement(Mf,{isActive:o,title:V||M("Re-enter your new code"),type:V?X===Z?"success":"error":void 0,length:e.NEx,value:Z,onChange:ee,onSubmit:he,isMinified:xe}));case jI.passwordChanged:return ge.createElement(ge.Fragment,null,i?ge.createElement(tg,{title:M("Password Changed!"),className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,yg.onlyTextHeader)},ge.createElement("span",{className:yg.headerTitle},M("Password Changed!"))),ge.createElement("div",{className:yg.content},ge.createElement(of,{tgsUrl:_p.yeee,previewUrl:_p.yeeePreview,play:o,size:e.reE,nonInteractive:!0,noLoop:!1,className:xr(yg.sticker,yg.stickerHuge)}),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,onClick:re,className:Gs.customSubmitButton},M("Done")))));case jI.backup:return ge.createElement(UI,{isActive:o&&t,isMultichainAccount:m,openSettingsSlide:re,isInsideModal:i,onOpenPrivateKeySafetyRules:we,onOpenSecretWordsSafetyRules:ye,onBackClick:ae,hasMnemonicWallet:G});case jI.safetyRules:return ge.createElement(VI,{isActive:o&&t,isInsideModal:i,backupType:j,onBackClick:se,onSubmit:"key"===j?ke:Ce});case jI.secretWords:return ge.createElement(zI,{isActive:o&&t,isBackupSlideActive:r===jI.secretWords||r===jI.safetyRules,isInsideModal:i,enteredPassword:K,currentAccountId:w,onBackClick:se,onSubmit:y});case jI.privateKey:return ge.createElement($I,{isActive:o&&t,isBackupSlideActive:r===jI.privateKey||r===jI.safetyRules,isInsideModal:i,enteredPassword:K,currentAccountId:w,onBackClick:se,onSubmit:y})}}return ge.createElement(xf,{direction:W===jI.password&&R===jI.settings?1:"auto",name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:xr(yg.slide,i&&Gs.transitionSlide),activeKey:R,nextKey:H,shouldCleanup:!0},Le)}))),QI=fe((function(e){let{isActive:t,isInsideModal:n,handleBackClick:a}=e;const{addToken:o}=Ke(),r=_r(),i=zo((e=>{o({token:e})}));return Yi({isActive:t,onBack:a}),ge.createElement("div",{className:xr(yg.slide,yg.withTopSpace)},ge.createElement(PE,{isActive:t,shouldHideMyTokens:!0,shouldHideNotSupportedTokens:!0,header:ge.createElement("div",{className:xr(yg.header,n&&yg.headerInsideModal)},ge.createElement(js,{isSimple:!0,isText:!0,className:xr(yg.headerBack,n&&yg.isInsideModal),onClick:a},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("span",{className:yg.headerTitle},r("Select Token"))),onTokenSelect:i,onBack:a,onClose:a}))})),XI=fe((function(e){let{isActive:t,handleBackClick:n,isInsideModal:a,currentVersion:o,wallets:r}=e;const{closeSettings:i,importAccountByVersion:s}=Ke(),c=_r();Yi({isActive:t,onBack:n});const{handleScroll:l,isScrolled:d}=fg(),u=zo((e=>{i(),s({version:e})}));return ge.createElement("div",{className:yg.slide},a?ge.createElement(tg,{title:c("Wallet Versions"),withNotch:d,onBackButtonClick:n,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",d&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:n,className:yg.headerBack},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,c("Back"))),ge.createElement("span",{className:yg.headerTitle},c("Wallet Versions"))),ge.createElement("div",{className:xr(yg.content,"custom-scroll"),onScroll:l},ge.createElement("div",{className:yg.blockWalletVersionText},ge.createElement("span",null,c("$current_wallet_version",{version:ge.createElement("strong",null,o)})),ge.createElement("span",null,c("You have tokens on other versions of your wallet. You can import them from here."))),ge.createElement("div",{className:yg.block},null==r?void 0:r.map((e=>ge.createElement("div",{key:e.address,className:xr(yg.item,yg.item_wallet_version),onClick:()=>u(e.version)},ge.createElement("div",{className:yg.walletVersionInfo},ge.createElement("span",{className:yg.walletVersionTitle},e.version),ge.createElement("span",{className:yg.walletVersionAddress},(0,jt.W)(e.address))),ge.createElement("div",{className:yg.walletVersionInfoRight},ge.createElement("span",{className:yg.walletVersionTokens},e.tokens.join(", ")),ge.createElement("span",{className:yg.walletVersionAmount},"≈ ",e.totalBalance)),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),ge.createElement("div",{className:yg.blockWalletVersionReadMore},c("$read_more_about_wallet_version",{ton_link:ge.createElement("a",{href:"https://docs.ton.org/participate/wallets/contracts",target:"_blank",rel:"noreferrer"},"ton.org")}))))})),JI=i.p+"settings_about.595108a2131c96b2a073.svg",ZI=i.p+"settings_appearance.2b14c893329172079cde.svg",eB=i.p+"settings_assets-activity.1ad5da85234bf09fece1.svg",tB=i.p+"settings_connected-dapps.2040e629b6b7c8322782.svg",nB=i.p+"settings_disclaimer.253b4de147ec357601d1.svg",aB=i.p+"settings_exit.32a8c2a0aa15b32cbe18.svg",oB=i.p+"settings_helpcenter.c1b63b9a0edfbe3ca57a.svg",rB=i.p+"settings_install-desktop.f9ff2be3a8a645314652.svg",iB=i.p+"settings_install-mobile.9a3f10a7012a857e2ba2.svg",sB=i.p+"settings_language.5082638742f18ab7aea8.svg",cB=i.p+"settings_ledger.d4d0de11ad8edd55b0ca.svg",lB=i.p+"settings_mtw-cards.aa09d8a35d4b36e090c8.svg",dB=i.p+"settings_mytonwallet.0bfa3bfd3fb936194997.svg",uB=i.p+"settings_notifications.20cf46edde7f154d46e3.svg",mB=i.p+"settings_security.4e873ae439b7ec0b15a9.svg",pB=i.p+"settings_support.de2a6e66d58407937014.svg",fB=i.p+"settings_telegram-menu.48b7177fffab504e301c.svg",hB=i.p+"settings_tips.4f95b86d29d530790adb.svg",gB=i.p+"settings_ton-links.d9f0da8222e4a54c9332.svg",vB=i.p+"settings_ton-magic.bc2fb1d30938a1154b6c.svg",wB=i.p+"settings_ton-proxy.21c95b346710c5a73217.svg",yB=i.p+"settings_wallet-version.651cf56eff6ca7827bf6.svg",bB=1,EB=fe(je((e=>{const t=bt(e),n=at(e),{isCopyStorageEnabled:a,supportAccountsCount:o=1,isNftBuyingDisabled:r}=e.restrictions,{currentVersion:i,byId:s}=e.walletVersions??{},c=null==s?void 0:s[e.currentAccountId],{dapps:l=Sb}=ct(e)||{},{hardwareWallets:d}=e.hardware;return{settings:e.settings,dapps:l,isOpen:e.areSettingsOpen,tokens:Wt(e),isPasswordPresent:t,currentVersion:i,versions:c,isCopyStorageEnabled:a,supportAccountsCount:o,hardwareWallets:d,accounts:n,isNftBuyingDisabled:r,arePushNotificationsAvailable:e.pushNotifications.isAvailable,isViewMode:It(e)}}))((function(t){let{settings:{state:a,theme:o,animationLevel:r,isTestnet:i,langCode:s,isTonProxyEnabled:c,isTonMagicEnabled:l,isDeeplinkHookEnabled:d,baseCurrency:u},dapps:m,isActive:p,isOpen:f=!1,tokens:h,isInsideModal:g,isPasswordPresent:v,currentVersion:w,versions:y,isCopyStorageEnabled:b,supportAccountsCount:E=bB,accounts:k,hardwareWallets:C,arePushNotificationsAvailable:N,isNftBuyingDisabled:S,isViewMode:A}=t;const{setSettingsState:T,openSettingsHardwareWallet:I,closeSettings:B,toggleDeeplinkHook:_,toggleTonProxy:x,toggleTonMagic:D,getDapps:L,clearIsPinAccepted:O,afterSelectHardwareWallets:M}=Ke(),P=_r(),{isPortrait:F}=hi(),R=me(),{renderingKey:U}=yv(a,f),{disableSwipeToClose:W,enableSwipeToClose:H}=vb(f),[$,V]=ie(i?5:0),z=Vo(bb(U)),[K,q,j]=rm(),[Y,G]=rm(),[Q,X,J]=rm(),Z=U===Hn.Initial,ee=de((()=>e.gSB.find((e=>e.langCode===s))),[s]),te=hr(u),ne=de((()=>null==h?void 0:h.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[h]),ae=de((()=>{var e;return(null==y||null===(e=y.filter((e=>e.lastTxId||"W5"===e.version||Y)))||void 0===e?void 0:e.map((e=>{const t=ur((0,Pt.nI)(e.balance),(null==ne?void 0:ne.symbol)??""),n=ur((0,Pt.CF)(e.balance).mul((null==ne?void 0:ne.price)??0).round(null==ne?void 0:ne.decimals),te),a=[t];return{address:e.address,version:e.version,totalBalance:n,tokens:a}})))??[]}),[te,ne,y,Y]),{shouldRender:oe,ref:re}=$s({isOpen:l,withShouldRender:!0}),{handleScroll:se,isScrolled:le}=fg(),ue=zo((()=>{z.current===Hn.NativeBiometricsTurnOn&&O()})),pe=zo((()=>{B(void 0,{forceOnHeavyAnimation:!0}),T({state:Hn.Initial})}));var fe;Yi({isActive:p&&Z,onBack:pe,shouldIgnoreForTelegram:g}),ce((()=>{if(fe)return function(){const e=QA();YA+=1,!e&&QA()&&XA()}(),JA}),[fe=f&&!Z]);const he=zo((()=>{j(),e.TI6&&pe()})),ve=zo((()=>{L(),T({state:Hn.Dapps})}));function we(){T({state:Hn.Appearance})}function ye(){T({state:Hn.PushNotifications})}function be(){T({state:Hn.Security})}function Ee(){T({state:Hn.Assets})}function ke(){T({state:Hn.Language})}function Ce(){T({state:Hn.About})}function Ne(){T({state:Hn.Disclaimer})}const Se=zo((()=>{switch(U){case Hn.HiddenNfts:case Hn.SelectTokenList:T({state:Hn.Assets});break;default:T({state:Hn.Initial})}})),Ae=zo((()=>{T({state:Hn.Assets})})),Te=zo((()=>{T({state:Hn.WalletVersion})})),Ie=zo((()=>{_({isEnabled:!d})})),Be=zo((()=>{x({isEnabled:!c})})),_e=zo((()=>{D({isEnabled:!l})}));function xe(){dc("https://mytonwallet.io/get",{isExternal:!0})}function De(){dc("https://mytonwallet.io/get/desktop",{isExternal:!0})}function Le(){dc("https://mytonwallet.io/get/mobile",{isExternal:!0})}const Oe=zo((()=>{M({hardwareSelectedIndices:[C[0].index]}),pe()})),Me=zo((e=>{e?Oe():T({state:Hn.LedgerSelectWallets})})),[Pe,Fe]=ie(!1);ce((()=>{var e;null===(e=window.electron)||void 0===e||e.getIsTrayIconEnabled().then(Fe)}),[]);const Re=zo((()=>{var e;Fe(!Pe),null===(e=window.electron)||void 0===e||e.setIsTrayIconEnabled(!Pe)})),[Ue,We]=ie(!1);ce((()=>{var e;null===(e=window.electron)||void 0===e||e.getIsAutoUpdateEnabled().then(We)}),[]);const He=zo((()=>{var e;We(!Ue),null===(e=window.electron)||void 0===e||e.setIsAutoUpdateEnabled(!Ue)})),$e=zo((()=>{Z?g&&pe():Se()})),Ve=zo((e=>{J(),e&&pe()}));function ze(){I()}const qe=()=>{$+1>=5?q():V($+1)},je=zo((()=>{G(),he(),Te()}));function Ye(){return ge.createElement("div",{className:yg.item,onClick:Ie},ge.createElement("img",{className:yg.menuIcon,src:gB,alt:P("Handle ton:// links")}),P("Handle ton:// links"),ge.createElement(jT,{className:yg.menuSwitcher,label:P("Handle ton:// links"),checked:d}))}function Ge(t,a,i){switch(i){case Hn.Initial:return ge.createElement("div",{className:yg.slide},g?ge.createElement(tg,{title:P("Settings"),withNotch:le,onClose:F?void 0:pe,className:yg.modalHeader}):ge.createElement("div",{className:xr(yg.header,"with-notch-on-scroll",le&&"is-scrolled")},ge.createElement(js,{isSimple:!0,isText:!0,onClick:pe,className:xr(yg.headerBack,F&&yg.hidden)},ge.createElement("i",{className:xr(yg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,P("Back"))),ge.createElement("span",{className:yg.headerTitle},P("Settings"))),ge.createElement("div",{className:xr(yg.content,"custom-scroll",yg.withBottomSpace),onScroll:se},e.TI6&&ge.createElement("div",{className:yg.block},ge.createElement("div",{className:yg.item,onClick:xe},ge.createElement("img",{className:yg.menuIcon,src:dB,alt:P("Upgrade to MyTonWallet")}),P("Upgrade to MyTonWallet"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&n.u2&&ge.createElement("div",{className:yg.block},ge.createElement("div",{className:yg.item,onClick:xe},ge.createElement("img",{className:yg.menuIcon,src:qI,alt:P("Install App")}),P("Install App"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),e.hL1&&ge.createElement("div",{className:yg.block},e.hnd&&ge.createElement("div",{className:yg.item,onClick:Be},ge.createElement("img",{className:yg.menuIcon,src:wB,alt:P("TON Proxy")}),P("TON Proxy"),ge.createElement(jT,{className:yg.menuSwitcher,label:P("Toggle TON Proxy"),checked:c})),ge.createElement("div",{className:yg.item,onClick:_e},ge.createElement("img",{className:yg.menuIcon,src:vB,alt:P("TON Magic")}),P("TON Magic"),ge.createElement(jT,{className:yg.menuSwitcher,label:P("Toggle TON Magic"),checked:l})),oe&&ge.createElement("div",{ref:re,className:yg.item,onClick:kB},ge.createElement("img",{className:yg.menuIcon,src:fB,alt:P("Open Telegram Web")}),P("Open Telegram Web"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),Ye()),n.cp&&ge.createElement("div",{className:yg.block},Ye()),ge.createElement("div",{className:yg.block},ge.createElement("div",{className:yg.item,onClick:ye},ge.createElement("img",{className:yg.menuIcon,src:uB,alt:P(N?"Notifications & Sounds":"Sounds")}),P(N?"Notifications & Sounds":"Sounds"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("div",{className:yg.item,onClick:we},ge.createElement("img",{className:yg.menuIcon,src:ZI,alt:P("Appearance")}),P("Appearance"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!e.K_I&&ge.createElement("div",{className:yg.item,onClick:Ee},ge.createElement("img",{className:yg.menuIcon,src:eB,alt:P("Assets & Activity")}),P("Assets & Activity"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),v&&ge.createElement("div",{className:yg.item,onClick:be},ge.createElement("img",{className:yg.menuIcon,src:mB,alt:P("Security")}),P("Security"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),n.ED&&!A&&ge.createElement("div",{className:yg.item,onClick:ve},ge.createElement("img",{className:yg.menuIcon,src:tB,alt:P("Connected Dapps")}),P("Connected Dapps"),ge.createElement("div",{className:yg.itemInfo},m.length?m.length:"",ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&ge.createElement("div",{className:yg.item,onClick:ke},ge.createElement("img",{className:yg.menuIcon,src:sB,alt:P("Language")}),P("Language"),ge.createElement("div",{className:yg.itemInfo},null==ee?void 0:ee.name,ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),(!(null==y||!y.length)||n.sC)&&ge.createElement("div",{className:yg.block},!(null==y||!y.length)&&ge.createElement("div",{className:yg.item,onClick:Te},ge.createElement("img",{className:yg.menuIcon,src:yB,alt:P("Wallet Versions")}),P("Wallet Versions"),ge.createElement("div",{className:yg.itemInfo},w,ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),n.sC&&ge.createElement("div",{className:yg.item,onClick:ze},ge.createElement("img",{className:yg.menuIcon,src:cB,alt:P("Connect Ledger")}),P("Connect Ledger"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&ge.createElement(ge.Fragment,null,!S&&ge.createElement("div",{className:yg.block},ge.createElement("a",{href:e.b2d,target:"_blank",rel:"noopener noreferrer",className:yg.item},ge.createElement("img",{className:yg.menuIcon,src:lB,alt:P("MyTonWallet Cards NFT")}),P("MyTonWallet Cards NFT"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("div",{className:yg.block},ge.createElement("a",{href:`https://t.me/${e.AIK[s]??e.AIK.en}`,target:"_blank",rel:"noopener noreferrer",className:yg.item},ge.createElement("img",{className:yg.menuIcon,src:hB,alt:P("MyTonWallet Tips")}),P("MyTonWallet Tips"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("a",{href:fk(s,"home"),target:"_blank",rel:"noopener noreferrer",className:yg.item},ge.createElement("img",{className:yg.menuIcon,src:oB,alt:P("Help Center")}),P("Help Center"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),E>0&&ge.createElement("a",{href:`https://t.me/${e.Fkn}`,target:"_blank",rel:"noopener noreferrer",className:yg.item},ge.createElement("img",{className:yg.menuIcon,src:pB,alt:P("Get Support")}),P("Get Support"),ge.createElement("div",{className:yg.itemInfo},ge.createElement("span",{className:yg.small},"@",e.Fkn),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),ge.createElement("div",{className:yg.block},ge.createElement("div",{className:yg.item,onClick:Ne},ge.createElement("img",{className:yg.menuIcon,src:nB,alt:P("Use Responsibly")}),P("Use Responsibly"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&e.UMQ&&ge.createElement("div",{className:yg.block},ge.createElement("div",{className:yg.item,onClick:De},ge.createElement("img",{className:yg.menuIcon,src:rB,alt:P("Install on Desktop")}),P("Install on Desktop"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&n.cp&&ge.createElement("div",{className:yg.block},ge.createElement("div",{className:yg.item,onClick:Le},ge.createElement("img",{className:yg.menuIcon,src:iB,alt:P("Install on Mobile")}),P("Install on Mobile"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&ge.createElement("div",{className:yg.block},!e.TI6&&e.hL1&&ge.createElement("div",{className:yg.item,onClick:xe},ge.createElement("img",{className:yg.menuIcon,src:qI,alt:P("Install App")}),P("Install App"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!e.TI6&&ge.createElement("div",{className:yg.item,onClick:Ce},ge.createElement("img",{className:yg.menuIcon,src:JI,alt:""}),P("About %app_name%",{app_name:e.C39}),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("div",{className:yg.block},ge.createElement("div",{className:xr(yg.item,yg.item_red),onClick:X},ge.createElement("img",{className:yg.menuIcon,src:aB,alt:P("Exit")}),P("Exit"),ge.createElement("i",{className:xr(yg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("div",{className:yg.version,onClick:qe},e.C39," ",e.hl5," ",e.vOV)));case Hn.PushNotifications:return ge.createElement(LI,{isActive:p&&t,handleBackClick:Se,isInsideModal:g});case Hn.Appearance:return ge.createElement(iI,{isActive:p&&t,theme:o,animationLevel:r,handleBackClick:Se,isInsideModal:g,isTrayIconEnabled:Pe,onTrayIconEnabledToggle:Re});case Hn.Assets:return ge.createElement(wI,{isActive:p&&t,isInsideModal:g,onBack:Se});case Hn.Security:return ge.createElement(GI,{isActive:p&&t,handleBackClick:Se,isInsideModal:g,isAutoUpdateEnabled:Ue,onAutoUpdateEnabledToggle:He,onSettingsClose:pe});case Hn.Dapps:return ge.createElement(EI,{isActive:p&&t,dapps:m,handleBackClick:Se,isInsideModal:g});case Hn.Language:return ge.createElement(DI,{isActive:p&&t,langCode:s,handleBackClick:Se,isInsideModal:g});case Hn.About:return ge.createElement(bg,{isActive:p&&t,handleBackClick:Se,isInsideModal:g,theme:o});case Hn.Disclaimer:return ge.createElement(TI,{isActive:p&&t,handleBackClick:Se,isInsideModal:g});case Hn.NativeBiometricsTurnOn:return ge.createElement(nI,{isActive:p&&t,isInsideModal:g,handleBackClick:Se});case Hn.SelectTokenList:return ge.createElement(QI,{isActive:p&&t,isInsideModal:g,handleBackClick:Ae});case Hn.WalletVersion:return ge.createElement(XI,{isActive:p&&t,currentVersion:w,handleBackClick:Se,isInsideModal:g,wallets:ae});case Hn.LedgerConnectHardware:return ge.createElement("div",{className:yg.slide},ge.createElement(Hv,{isActive:p&&t,isStatic:!g,className:yg.nestedTransition,onBackButtonClick:Se,onConnected:Me,onClose:$e}));case Hn.LedgerSelectWallets:return ge.createElement("div",{className:yg.slide},ge.createElement($b,{isActive:p&&t,isStatic:!g,accounts:k,hardwareWallets:C,onBackButtonClick:Se,onClose:$e}));case Hn.HiddenNfts:return ge.createElement(_I,{isActive:p&&t,handleBackClick:Ae,isInsideModal:g})}}return ce((()=>qh(g?$e:Se)),[g]),ce((()=>{if(n.TF)return vf(R.current,{onSwipeRightStart:()=>{n.bA?Se():$e(),W()},onCancel:()=>{T({state:z.current}),H()}})}),[W,H,z]),ge.createElement("div",{className:yg.wrapper},ge.createElement(xf,{ref:R,name:wv(),className:xr(g?Gs.transition:yg.transitionContainer,"custom-scroll"),activeKey:U,slideClassName:xr(g&&Gs.transitionSlide),withSwipeControl:!0,onStop:il()?ue:void 0},Ge),ge.createElement(AI,{isOpen:K,isTestnet:i,isCopyStorageEnabled:b,onShowAllWalletVersions:je,onClose:he}),ge.createElement(Mp,{isOpen:Q,onClose:Ve}),n.uh&&ge.createElement(tI,{isInsideModal:g}))})));function kB(){window.open(e.h4K,"_blank","noopener")}const CB=fe(je((e=>({isMediaViewerOpen:Boolean(e.mediaViewer.mediaId)})))((function(t){let{children:a,isOpen:o,onClose:r,isMediaViewerOpen:i}=t;const s=xr(yg.modalDialog,!(n.cp||e.hL1)&&yg.modalDialogWeb);return ge.createElement(ac,{hasCloseButton:!0,isOpen:o&&!i,dialogClassName:s,contentClassName:yg.modalContent,nativeBottomSheetKey:"settings",forceFullNative:!0,onClose:r},a)}))),NB=fe((function(t){let{isActive:o,swapType:r,toAddress:i="",tokenIn:s,tokenOut:c}=t;const{cancelSwap:l,setSwapCexAddress:d,showNotification:u,setSwapScreen:m,requestOpenQrScanner:p}=Ke(),f=_r(),{isPortrait:h}=hi(),g=me(),[v,w]=ie(n.Et),[y,b,E]=rm(),[k,C]=ie(!1),[N,S]=ie(r!==Pn.CrosschainFromWallet),A=Zb(),T=v&&""===i,I=i.length>28?(0,jt.W)(i,14)||"":i,B=zo((()=>{C(!1),S(!1),m({state:h?Ln.Initial:Ln.None})}));Yi({isActive:o,onBack:B});const _=zo((()=>{const e=g.current;requestAnimationFrame((()=>{const t=e.selectionStart;b(),requestAnimationFrame((()=>{const n=t<=17?t:Math.max(0,e.value.length-(I.length-t));e.setSelectionRange(n,n),n>28&&(e.scrollLeft=e.scrollWidth-e.clientWidth)}))}))})),x=zo((async e=>{if(!e.length)return C(!1),void S(!1);const t=await(0,a.p)("swapCexValidateAddress",{slug:c.slug,address:e});if(!t)return C(!1),void S(!1);C(!t.result),S(t.result)})),D=zo((()=>{E()})),L=zo((e=>{d({toAddress:e.trim()})})),O=zo((async()=>{try{const{type:e,text:t}=await gl();"text/plain"===e&&(d({toAddress:t.trim()}),await x(t.trim()))}catch(e){u({message:f("Error reading clipboard")}),w(!1)}}));ce((()=>{x(i)}),[i,x]);const M=zo((()=>{ul(),m({state:Ln.Password})})),P=zo((()=>{n.pz&&(0,n.v3)()?alert("Scanning is temporarily not available"):(p(),l())})),F=f("$swap_from_to",{from:null==s?void 0:s.symbol,icon:ge.createElement("i",{className:xr("icon-chevron-right",cC.swapArrowIcon),"aria-hidden":!0}),to:null==c?void 0:c.symbol});return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:F,onClose:l}),ge.createElement("div",{className:xr(cC.scrollContent,cC.selectBlockchainBlock,"custom-scroll")},ge.createElement(of,{play:o,noLoop:!1,nonInteractive:!0,tgsUrl:_p.bill,previewUrl:_p.billPreview,size:e.igk}),function(){if(r===Pn.CrosschainFromWallet)return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:cC.inputAddress},ge.createElement(sf,{ref:g,isRequired:!0,placeholder:f("Your address on another blockchain"),value:y?i:I,onInput:L,onFocus:_,onBlur:D,wrapperClassName:cC.inputAddressWrapper},A&&ge.createElement(js,{isSimple:!0,className:xr(cC.inputButton,T&&cC.inputButtonShifted),onClick:P,ariaLabel:f("Scan QR Code")},ge.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),T&&ge.createElement(js,{isSimple:!0,className:cC.inputButton,onClick:O,ariaLabel:f("Paste")},ge.createElement("i",{className:"icon-paste","aria-hidden":!0})))),function(){const e=k?f("Incorrect address."):f("Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.",{blockchain:xE(null==c?void 0:c.chain)});return ge.createElement(xf,{name:"fade",activeKey:k?0:1,slideClassName:cC.blockchainHintWrapper},ge.createElement("span",{className:xr(cC.blockchainHintText,k&&cC.blockchainHintTextError)},e))}())}(),ge.createElement("div",{className:xr(cC.blockchainButtons,Gs.footerButtons)},ge.createElement(js,{onClick:B,className:Gs.buttonHalfWidth},f("Close")),ge.createElement(js,{isPrimary:!0,isDisabled:!N,className:Gs.buttonHalfWidth,onClick:M},f("Continue")))))})),SB="e8xjMuq6",AB="n91WXWIY",TB="nOPyXt4f",IB=fe(je((e=>{var t;return{addressByChain:null===(t=rt(e))||void 0===t?void 0:t.addressByChain,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(e){let{tokenIn:t,tokenOut:n,amountIn:a,amountOut:o,playAnimation:r,firstButtonText:i,secondButtonText:s,swapType:c,toAddress:l="",addressByChain:d,isSensitiveDataHidden:u,onFirstButtonClick:m,onSecondButtonClick:p,isFirstButtonDisabled:f}=e;const h=_r(),g=Zd({from:t,to:n,toAddress:l,addressByChain:d}),v=de((()=>Boolean(l&&Object.values(d??{}).some((e=>e===l)))),[d,l]);return ge.createElement(ge.Fragment,null,function(){if(c!==Pn.CrosschainFromWallet||g)return ge.createElement(of,{play:r,noLoop:!1,nonInteractive:!0,className:"TY_nyPoa",tgsUrl:_p.thumbUp,previewUrl:_p.thumbUpPreview})}(),ge.createElement(LA,{isSensitiveDataHidden:u,tokenIn:t,amountIn:a,tokenOut:n,amountOut:o}),c!==Pn.OnChain&&ge.createElement("div",{className:AB},ge.createElement("span",{className:TB},h("Please note that it may take up to a few hours for tokens to appear in your wallet."))),function(){if(c!==Pn.CrosschainFromWallet||v)return;const e=Jd(null==n?void 0:n.chain)?n.chain:void 0;return ge.createElement("div",{className:AB},ge.createElement("span",{className:TB},h("$swap_changelly_from_ton_description",{blockchain:ge.createElement("span",{className:"bTumpDcM"},xE(null==n?void 0:n.chain))})),ge.createElement(qy,{chain:e,address:l,copyNotification:h("Address was copied!"),noSavedAddress:!0,noExplorer:!0,className:"qcMvwyr2"}))}(),function(){if(i||s)return ge.createElement("div",{className:"JuY14PzG"},i&&ge.createElement(js,{className:SB,onClick:m,isDisabled:f},i),s&&ge.createElement(js,{className:SB,onClick:p},s))}())}))),BB=fe((function(e){let{isActive:t,tokenIn:n,tokenOut:a,amountIn:o,amountOut:r,swapType:i,toAddress:s,onInfoClick:c,onStartSwap:l,onClose:d,isDetailsDisabled:u}=e;const m=_r();return Yi({isActive:t,onBack:d}),ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:m("Swap Placed"),onClose:d}),ge.createElement("div",{className:xr(cC.scrollContent,"custom-scroll")},ge.createElement(IB,{tokenIn:n,amountIn:o,tokenOut:a,amountOut:r,swapType:i,toAddress:s,playAnimation:t,firstButtonText:m("Details"),secondButtonText:m("Repeat"),onFirstButtonClick:c,onSecondButtonClick:l,isFirstButtonDisabled:u}),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:d,isPrimary:!0},m("Close")))))})),_B=fe((function(t){let{isActive:n,isLoading:a,error:o,children:r,onSubmit:i,onBack:s}=t;const{cancelSwap:c,clearSwapError:l}=Ke(),d=_r();return Yi({isActive:n,onBack:s}),ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:d("Confirm Swap"),onClose:c}),ge.createElement(Hf,{isActive:n,isLoading:a,withCloseButton:e.UMQ,error:o,operationType:"swap",submitLabel:d("Swap"),cancelLabel:d("Back"),onSubmit:i,onCancel:s,onUpdate:l,skipAuthScreen:!0},r))})),xB=fe((function(t){let{isActive:n,tokenIn:a,tokenOut:o,amountIn:r,amountOut:i,payinAddress:s,payoutAddress:c,payinExtraId:l,activity:d,addressByChain:u,onClose:m}=t;const p=_r(),[f,h]=ie(!1),g=de((()=>Date.now()),[]),{qrCodeRef:v,isInitialized:w}=sk({address:s,isActive:n,hiddenClassName:cC.qrCodeHidden,hideLogo:!0}),y=!l,b=Zd({from:a,to:o,toAddress:c,addressByChain:u});Yi({isActive:n,onBack:m});const E=zo((()=>{h(!0)}));return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:p(f?"Swap Expired":b?"Swapping":"Waiting for Payment"),onClose:m}),ge.createElement("div",{className:xr(cC.scrollContent,cC.selectBlockchainBlock,"custom-scroll")},ge.createElement(LA,{tokenIn:a,amountIn:r,tokenOut:o,amountOut:i}),ge.createElement(xf,{name:"fade",activeKey:f?1:0},function(){if(f){var t;const n=d&&"cex"in d?null===(t=d.cex)||void 0===t?void 0:t.transactionId:void 0;return ge.createElement("div",{className:cC.changellyInfoBlock},ge.createElement("span",{className:cC.changellyImportantRed},p("The time for sending coins is over.")),ge.createElement("span",{className:cC.changellyDescription},p("$swap_changelly_support",{livechat:ge.createElement("a",{href:e.o$d,target:"_blank",rel:"noreferrer",className:cC.changellyDescriptionBold},p("Changelly Live Chat")),email:ge.createElement("span",{className:cC.changellyDescriptionBold},e.HWN)})),n&&ge.createElement(qy,{text:n,copyNotification:p("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0,className:cC.changellyTextField}))}if(b)return ge.createElement("div",{className:cC.changellyInfoBlock},ge.createElement("span",{className:cC.changellyDescription},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")));const n=Jd(null==a?void 0:a.chain)?a.chain:void 0;return ge.createElement("div",{className:cC.changellyInfoBlock},ge.createElement("span",{className:cC.changellyDescription},p("$swap_changelly_to_ton_description1",{value:ge.createElement("span",{className:cC.changellyDescriptionBold},mr(Number(r),(null==a?void 0:a.symbol)??"",!0)),blockchain:ge.createElement("span",{className:cC.changellyDescriptionBold},xE(null==a?void 0:a.chain)),time:ge.createElement(xA,{timestamp:g,deadline:e.JWy,onCompleted:E})})),ge.createElement(qy,{chain:n,address:s,copyNotification:p("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0,className:cC.changellyTextField}),function(){if(l)return ge.createElement("div",{className:cC.textFieldWrapperFullWidth},ge.createElement("span",{className:cC.textFieldLabel},p("Memo")),ge.createElement(qy,{chain:"ton",address:l,copyNotification:p("Memo was copied!"),noSavedAddress:!0,noExplorer:!0,className:cC.changellyTextField}))}(),y&&ge.createElement("div",{className:xr(cC.qrCode,!w&&cC.qrCodeHidden),ref:v}),ge.createElement("span",{className:cC.changellyDescription},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")))}()),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{isPrimary:!0,onClick:m},p("Close")))))})),DB=[Ln.Password,Ln.SelectTokenFrom,Ln.SelectTokenTo],LB=fe(je((e=>{var t;const n=ct(e),a=rt(e),o=null==n||null===(t=n.activities)||void 0===t?void 0:t.byId;return{currentSwap:e.currentSwap,swapType:la(e),swapTokens:ia(e),activityById:o,addressByChain:null==a?void 0:a.addressByChain}}))((function(e){let{currentSwap:{state:t,tokenInSlug:n,tokenOutSlug:a,amountIn:o="0",amountOut:r="0",isLoading:i,error:s,activityId:c,toAddress:l,payinAddress:d,payoutAddress:u,payinExtraId:m,shouldResetOnClose:p},swapType:f,swapTokens:h,activityById:g,addressByChain:v}=e;const{startSwap:w,cancelSwap:y,setSwapScreen:b,submitSwap:E,showActivityInfo:k,submitSwapCex:C,addSwapToken:N,setSwapTokenIn:S,setSwapTokenOut:A}=Ke(),T=_r(),{isPortrait:I}=hi(),B=t!==Ln.None,{renderingKey:_,nextKey:x,updateNextKey:D}=yv(t,B),L=de((()=>null==h?void 0:h.find((e=>e.slug===n))),[n,h]),O=de((()=>null==h?void 0:h.find((e=>e.slug===a))),[h,a]),[M,P]=ie(f),[F,R]=ie(o),[U,W]=ie(r),[H,$]=ie(L),[V,z]=ie(O),[K,q]=ie();ce((()=>{if(!B||!c||null==g||!g[c])return void q(void 0);const e=g[c];if(q(e),"swap"===e.kind&&f===Pn.CrosschainToWallet){var t;const n=null===(t=e.cex)||void 0===t?void 0:t.status;"exchanging"!==n&&"confirming"!==n||b({state:Ln.Complete})}}),[g,c,B,f]);const j=zo((e=>{R(o),W(r),$(L),z(O),P(f),f!==Pn.OnChain?C({password:e}):E({password:e})})),Y=zo((()=>{t!==Ln.Password?(t!==Ln.SelectTokenTo&&t!==Ln.SelectTokenFrom||b({state:I?Ln.Initial:Ln.None}),t===Ln.Blockchain&&b({state:I?Ln.Initial:Ln.None})):f===Pn.CrosschainFromWallet?b({state:Ln.Blockchain}):b({state:I?Ln.Initial:Ln.None})})),G=zo((()=>{c&&(y({shouldReset:!0}),k({id:c}))})),Q=zo((()=>{y({shouldReset:I||p}),D()})),X=zo((()=>{y({shouldReset:!0})})),J=zo((e=>{N({token:e}),(_===Ln.SelectTokenTo?A:S)({tokenSlug:e.slug})})),Z=zo((()=>{w({amountIn:F,tokenInSlug:null==H?void 0:H.slug,tokenOutSlug:null==V?void 0:V.slug})}));function ee(e,t,n){switch(n){case Ln.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:T("$swap_action"),onClose:y}),ge.createElement(AC,{isActive:e}));case Ln.Blockchain:return ge.createElement(NB,{isActive:e,toAddress:l,tokenIn:L,tokenOut:O,swapType:f});case Ln.WaitTokens:return ge.createElement(xB,{isActive:e,tokenIn:H,tokenOut:V,amountIn:F,amountOut:U,payinAddress:d,payoutAddress:u,payinExtraId:m,addressByChain:v,activity:K,onClose:X});case Ln.Password:return ge.createElement(_B,{isActive:e,isLoading:i,error:s,onSubmit:j,onBack:Y},function(){if(L&&O&&o&&r)return ge.createElement(Xb,{tokenIn:L,withChainIcon:!0,tokenOut:O,text:mr(o,L.symbol??"",!0),secondText:mr(r,O.symbol??"",!0),className:il()?void 0:cC.transactionBanner})}());case Ln.Complete:return ge.createElement(BB,{isActive:e,tokenIn:H,tokenOut:V,amountIn:F,amountOut:U,swapType:M,toAddress:l,onClose:X,onInfoClick:G,onStartSwap:Z,isDetailsDisabled:!c});case Ln.SelectTokenFrom:case Ln.SelectTokenTo:return ge.createElement(PE,{isActive:e,shouldUseSwapTokens:!0,shouldFilter:n===Ln.SelectTokenTo,onTokenSelect:J,onBack:Y,onClose:X})}}const te=DB.includes(_)||_===Ln.Complete&&M!==Pn.OnChain;return ge.createElement(ac,{isOpen:B,onClose:y,noBackdropClose:!0,dialogClassName:cC.modalDialog,nativeBottomSheetKey:"swap",forceFullNative:te,hasCloseButton:!0,onCloseAnimationEnd:Q},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:_,nextKey:x,onStop:D},ee))}))),OB=fe((function(e){let{isActive:t,amount:n,symbol:a,txId:o,tokenSlug:r,toAddress:i,comment:s,decimals:c,nfts:l,onInfoClick:d,onClose:u}=e;const{startTransfer:m}=Ke(),p=_r(),{isPortrait:f}=hi(),h=Boolean(null==l?void 0:l.length);Yi({isActive:t,onBack:u}),ce((()=>t?zr({onEnter:u}):void 0),[t,u]);const g=zo((()=>{m({isPortrait:f,tokenSlug:r,toAddress:i,amount:n,comment:s})}));return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:p(h?"NFT has been sent!":"Coins have been sent!"),onClose:u}),ge.createElement("div",{className:Gs.transitionContent},h?ge.createElement(ge.Fragment,null,ge.createElement(of,{play:t,noLoop:!1,nonInteractive:!0,className:Iw.sticker,tgsUrl:_p.thumbUp,previewUrl:_p.thumbUpPreview}),1===l.length?ge.createElement(Fy,{nft:l[0]}):ge.createElement(CE,{nfts:l}),Boolean(o)&&ge.createElement("div",{className:xr(Iw.buttons,Iw.buttonsAfterNft)},ge.createElement(js,{className:Iw.button,onClick:d},p("Details")))):ge.createElement(pk,{playAnimation:t,amount:n?-n:void 0,tokenSymbol:a,firstButtonText:o?p("Details"):void 0,secondButtonText:p("Repeat"),onFirstButtonClick:d,onSecondButtonClick:g,decimals:c}),ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:u,isPrimary:!0},p("Close")))))})),MB=fe((function(e){let{amount:t,label:n,currency:a="",symbol:o,fractionDigits:r,feeText:i,className:s,labelClassName:c}=e;const l=_r();return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:xr("vEby849g",c)},n),ge.createElement("div",{className:xr("ghrNkOZk",s)},mr(t,a,!0,r),o&&ge.createElement("span",{className:"LPchTYAT"},o),Boolean(i)&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:"XPUDvAqg"},l("Fee")),ge.createElement("span",{className:"SkacqSTU"},i))))})),PB=fe(je((e=>({currentAccountId:e.currentAccountId,currentTransfer:e.currentTransfer,accounts:at(e)})))((function(t){let{currentTransfer:{tokenSlug:n,amount:a,toAddress:o,resolvedAddress:r,fee:i,realFee:s,comment:c,shouldEncrypt:l,promiseId:d,isLoading:u,toAddressName:m,isToNewAddress:p,isScam:f,binPayload:h,nfts:g,isGaslessWithStars:v,diesel:w,stateInit:y},token:b,currentAccountId:E,accounts:k,isActive:C,savedAddresses:N,onBack:S,onClose:A}=t;const{submitTransferConfirm:T}=Ke(),I=_r(),B=Boolean(null==g?void 0:g.length);B&&(n=e.Tu9.slug);const _=Zn(n),x=de((()=>ky({address:o,chain:_,currentAccountId:E,accounts:k,savedAddresses:N})),[k,_,E,N,o])||m,D=r===e.pV9,L=r===e.WVU[0],O=ma({fee:i,realFee:s,diesel:w,tokenSlug:n});Yi({isActive:C,onBack:S});const M=zo((()=>{ul(),T()})),P=null!=g&&g.length?Math.ceil(g.length/e.gR8)*e.WHY/60:void 0,F=I(D||L?B?"Burn NFT":"Burn":v?"Pay fee with %stars_symbol%":"Confirm",v?{stars_symbol:e.xFF}:void 0);return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:I("Is it all ok?"),onClose:A}),ge.createElement("div",{className:Gs.transitionContent},B?1===g.length?ge.createElement(Fy,{nft:g[0],withMediaViewer:!0}):ge.createElement(CE,{nfts:g}):ge.createElement(of,{size:e.jzp,play:C,noLoop:!1,nonInteractive:!0,className:xr("ZDG5rllO","ol7Kgi48"),tgsUrl:_p.bill,previewUrl:_p.billPreview}),ge.createElement("div",{className:eE},I("Receiving Address")," ",p&&ge.createElement(qv,{emoji:"⚠️",size:"small",message:I("This address is new and never received transfers before."),tooltipClassName:"lcmy9IMt"})),ge.createElement(qy,{chain:_,address:r,addressName:x,isScam:f,copyNotification:I("Address was copied!"),className:nE}),function(){if(!O.realFee||!b)return;const e=ge.createElement(tb,{terms:O.realFee.terms,precision:O.realFee.precision,token:b,symbolClassName:"aNzt5kkC"});return B?ge.createElement(ge.Fragment,null,ge.createElement("div",{className:eE},I("Fee")),ge.createElement("div",{className:aE},e)):ge.createElement(MB,{label:I("Amount"),amount:(0,Pt.nI)(a??0n,null==b?void 0:b.decimals),symbol:(null==b?void 0:b.symbol)??"",feeText:e,fractionDigits:null==b?void 0:b.decimals})}(),h||y?ge.createElement(ge.Fragment,null,h&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:eE},I("Signing Data")),ge.createElement(qy,{text:h,copyNotification:I("Data was copied!"),className:nE})),y&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:eE},I("Contract Initialization Data")),ge.createElement(qy,{text:y,copyNotification:I("Data was copied!"),className:nE})),ge.createElement("div",{className:iE},rr(I("$signature_warning")))):c?ge.createElement(ge.Fragment,null,ge.createElement("div",{className:eE},I(l?"Encrypted Message":"Comment or Memo")),ge.createElement("div",{className:xr(aE,"NH87E1kW",oE)},c)):void 0,g&&(D||L&&(null==g?void 0:g.length)>1)&&ge.createElement("div",{className:"CWZdgy5e"},1===(null==g?void 0:g.length)?rr(I("Are you sure you want to burn this NFT? It will be lost forever.")):[rr(I("$multi_burn_nft_warning",{amount:g.length}))," ",rr(I("$multi_send_nft_warning",{duration:P}))]),ge.createElement("div",{className:xr(Gs.buttons,Gs.buttonsInsideContentWithScroll)},ge.createElement(js,{className:Gs.button,onClick:d?A:S},I(d?"Cancel":"Edit")),ge.createElement(js,{isPrimary:!0,isLoading:u,isDestructive:D||f,className:Gs.button,onClick:M},F))))}))),FB=fe((function(t){let{nfts:n,sentNftsCount:a=0,toAddress:o,onClose:r}=t;const i=_r(),s=a<n.length,c=o===e.pV9,l=o===e.WVU[0],d=s?i((c||l?"Burning":"Sending")+": %n% of %m% NFTs...",{n:a,m:n.length}):i("Sent"),u=Math.ceil(n.length/e.gR8)*e.WHY/60;return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:d}),ge.createElement("div",{className:Gs.transitionContent},s&&ge.createElement(ge.Fragment,null,ge.createElement(fv,{className:"gigiDFmZ"}),ge.createElement("div",{className:"vKJsXVsk"},i("$multi_send_nft_warning",{duration:u}))),1===n.length?ge.createElement(Fy,{nft:n[0]}):ge.createElement(CE,{nfts:n}),!s&&ge.createElement("div",{className:Gs.buttons},ge.createElement(js,{onClick:r,isPrimary:!0},i("Close")))))})),RB=fe((function(t){let{isActive:n,isLoading:a,isBurning:o,error:r,children:i,onSubmit:s,onCancel:c,isGaslessWithStars:l}=t;const{cancelTransfer:d,clearTransferError:u}=Ke(),m=_r();Yi({isActive:n,onBack:c});const p=o?"Confirm Burning":"Confirm Sending",f=l?m("Pay fee with %stars_symbol%",{stars_symbol:e.xFF}):m("Send");return ge.createElement(ge.Fragment,null,!il()&&ge.createElement(tg,{title:m(p),onClose:d}),ge.createElement(Hf,{isActive:n,isLoading:a,withCloseButton:Boolean(i),operationType:"transfer",error:r,submitLabel:f,cancelLabel:m("Back"),onSubmit:s,onCancel:c,onUpdate:u},i))})),UB=fe(je((e=>{const t=ct(e);return{currentTransfer:e.currentTransfer,tokens:Wt(e),savedAddresses:null==t?void 0:t.savedAddresses,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isMultichainAccount:Ct(e,e.currentAccountId)}}))((function(t){let{currentTransfer:{state:n,amount:a,toAddress:o,comment:r,error:i,isLoading:s,txId:c,tokenSlug:l,nfts:d,sentNftsCount:u,diesel:m},tokens:p,savedAddresses:f,isMediaViewerOpen:h,isMultichainAccount:g}=t;const{submitTransferConfirm:v,submitTransfer:w,setTransferScreen:y,cancelTransfer:b,showActivityInfo:E}=Ke(),k=_r(),{isPortrait:C}=hi(),N=n!==In.None,{screenHeight:S}=um(),A=de((()=>null==p?void 0:p.find((e=>e.slug===l))),[l,p]),T=null==A?void 0:A.decimals,I=be(a,!0),B=(null==A?void 0:A.symbol)||"",_=Boolean(null==d?void 0:d.length),x=o===e.pV9,{renderingKey:D,nextKey:L,updateNextKey:O}=yv(n,N);ce((()=>n===In.Confirm?zr({onEnter:()=>v()}):void 0),[n,v]);const M=zo((e=>{w({password:e})})),P=zo((()=>{n===In.Confirm&&y({state:In.Initial}),n===In.Password&&y({state:In.Confirm})})),F=zo((()=>{b({shouldReset:!0}),E({id:c})})),R=zo((()=>{b({shouldReset:C}),O()})),U=zo((()=>{b({shouldReset:!0})})),W=zo((()=>{w()}));function H(t,n,p){var h,v;switch(p){case In.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(tg,{title:k(_?"Send NFT":"Send"),onClose:U}),ge.createElement(MC,null));case In.Confirm:return ge.createElement(PB,{isActive:t,token:A,savedAddresses:f,onBack:C?P:R,onClose:U});case In.Password:return ge.createElement(RB,{isActive:t,isLoading:s,isBurning:x,error:i,onSubmit:M,onCancel:U,isGaslessWithStars:"stars-fee"===(null==m?void 0:m.status)},ge.createElement(Xb,{tokenIn:A,imageUrl:null==d||null===(h=d[0])||void 0===h?void 0:h.thumbnail,withChainIcon:g,text:_?d.length>1?k("%amount% NFTs",{amount:d.length}):(null===(v=d[0])||void 0===v?void 0:v.name)||"NFT":ur((0,Pt.nI)(a,T),B),className:il()?void 0:"Pxmu6Hot",secondText:(0,jt.W)(o)}));case In.ConnectHardware:return ge.createElement(Hv,{isActive:t,onConnected:W,onClose:U});case In.ConfirmHardware:return ge.createElement(Iv,{text:k("Please confirm transaction on your Ledger"),error:i,onClose:U,onTryAgain:W});case In.Complete:return((null==d?void 0:d.length)||0)<=e.gR8?ge.createElement(OB,{isActive:t,nfts:d,amount:I,symbol:B,txId:c,tokenSlug:l,toAddress:o,comment:r,onInfoClick:F,onClose:U,decimals:T}):ge.createElement(FB,{nfts:d,sentNftsCount:u,toAddress:o,onClose:U})}}return ge.createElement(ac,{isOpen:N&&!h,noBackdropClose:!0,dialogClassName:"NvbEOoOC",nativeBottomSheetKey:"transfer",forceFullNative:S<=762||D===In.Password,onClose:U,onCloseAnimationEnd:R},ge.createElement(xf,{name:wv(),className:xr(Gs.transition,"custom-scroll"),slideClassName:Gs.transitionSlide,activeKey:D,nextKey:L,onStop:O},H))}))),WB=["#E8BC2C","#D0049E","#02CBFE","#5723FD","#FE8C27","#6CB859"],HB=fe(je((e=>({lastRequestedAt:e.confettiRequestedAt})))((function(e){let{lastRequestedAt:t}=e;const n=me(),a=me([]),o=me(!1),r=um(),i=ve(),{isPortrait:s}=hi(),c=s?50:100,l=zo(((e,t)=>{!function(e,t,n,a){for(let o=0;o<a;o++){const a=o%2,r={x:t*(a?-.1:1.1),y:.75*n},i=Math.random()*t*1.5,s={x:a?i:-1*i,y:-n/2-Math.random()*n},c=WB[Math.floor(Math.random()*WB.length)],l=10;e.current.push({pos:r,size:l,color:c,velocity:s,flicker:l,flickerFrequency:.2*Math.random(),rotation:0,lastDrawnAt:Date.now(),frameCount:0})}}(a,e,t,c)})),d=zo((()=>{if(!n.current||!o.current)return;const e=n.current,t=e.getContext("2d");if(!t)return;const{width:r,height:i}=e;t.clearRect(0,0,r,i);const s=new Set([]);a.current.forEach(((e,n)=>{const{pos:o,velocity:r,size:c,color:l,flicker:d,flickerFrequency:u,rotation:m,lastDrawnAt:p,frameCount:f}=e,h=(Date.now()-p)/1e3,g={x:o.x+r.x*h,y:o.y+r.y*h},v={x:.98*r.x,y:r.y+=1e3*h},w=c*Math.abs(Math.sin(f*u)),y=5*f*u*(Math.PI/180),b=f+1,E=Date.now();g.y>i+e.size?s.add(e):(a.current[n]={...e,pos:g,velocity:v,flicker:w,rotation:y,lastDrawnAt:E,frameCount:b},t.fillStyle=l,t.beginPath(),t.ellipse(o.x,o.y,c,d,m,0,2*Math.PI),t.fill())})),a.current=a.current.filter((e=>!s.has(e))),a.current.length?(0,k.YS)(d):o.current=!1}));if(Ee((e=>{let n,[a]=e;return t&&a!==t&&(l(r.width,r.height),n=window.setTimeout(i,1e4),o.current||(o.current=!0,(0,k.YS)(d))),()=>{window.clearTimeout(n)}}),[t,i,d]),t&&!(Date.now()-t>1e4))return ge.createElement("div",{id:"Confetti",className:"NEu40vNs"},ge.createElement("canvas",{ref:n,width:r.width,height:r.height}))}))),$B=fe(je((e=>{var t;const n=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state)||e.currentDappTransfer.state!==In.None;return{isOpen:e.isLoadingOverlayOpen&&!n}}))((function(e){let{isOpen:t}=e;const{closeLoadingOverlay:n}=Ke(),a=_r(),[o,r,i]=rm(!1),{shouldRender:s,ref:c}=$s({isOpen:t,withShouldRender:!0});if(ce((()=>{s||i()}),[s]),lg(r,s?7e3:void 0,[s]),s)return ge.createElement(Ys,null,ge.createElement("div",{ref:c,className:"JqqCZr7K",onClick:()=>n()},ge.createElement(fv,{color:"white",className:"Ey6IGxkf"}),ge.createElement(js,{shouldStopPropagation:!0,className:xr("WFfpuJBO",o&&"UDIRXOO8"),onClick:n},a("Close"))))}))),VB="xYgMXl3B",zB=new Set([Sn.Main,Sn.Settings,Sn.Explore]),KB=n.cp&&!n.ig||e.VL7?5*ha.pY:void 0;let qB=0;const jB=Object.keys(Sn).length/2,YB=fe(je((e=>{var t;return{appState:e.appState,accountId:e.currentAccountId,isBackupWalletModalOpen:e.isBackupWalletModalOpen,isHardwareModalOpen:e.isHardwareModalOpen,isExploreOpen:e.isExploreOpen,areSettingsOpen:e.areSettingsOpen,isQrScannerOpen:e.isQrScannerOpen,isFullscreen:Boolean(e.isFullscreen),theme:e.settings.theme,accentColorIndex:null===(t=ut(e))||void 0===t?void 0:t.accentColorIndex}}))((function(t){let{appState:o,accountId:r,isBackupWalletModalOpen:i,isHardwareModalOpen:s,isQrScannerOpen:c,isExploreOpen:l,isFullscreen:d,areSettingsOpen:u,theme:m,accentColorIndex:p}=t;const{closeBackupWalletModal:f,closeHardwareWalletModal:h,closeSettings:g,cancelCaching:v,closeQrScanner:w,checkAppVersion:y}=Ke(),{isPortrait:b}=hi(),E=!b,[k,C]=rm(!1),[N,S]=rm(),A=k?Sn.Inactive:u&&!E?Sn.Settings:l&&b?Sn.Explore:o,T=b&&zB.has(A),I=T?"semiFade":b?n.Ni?"slideFadeAndroid":n.pz?"slideLayers":"slideFade":"semiFade";function B(e,t,n){switch(n){case Sn.Auth:return ge.createElement(mv,null);case Sn.Main:{const t=xr(VB,"BY5oYr5T","custom-scroll","app-slide-content");return ge.createElement(xf,{name:"semiFade",activeKey:qB,shouldCleanup:!0,nextKey:A===Sn.Auth&&N?qB+1:void 0,slideClassName:t},ge.createElement(lA,{key:qB,isActive:e}))}case Sn.Explore:return ge.createElement(Hb,{isActive:e});case Sn.Settings:return ge.createElement(EB,{isActive:e});case Sn.Ledger:return ge.createElement(zb,{isOpen:!0,noBackdropClose:!0,onClose:ch.ks});case Sn.Inactive:return ge.createElement(pg,null)}}return lg(S,A!==Sn.Auth||N?void 0:1200),cg(y,e.TI6?void 0:KB),ce((()=>{document.documentElement.classList.toggle("with-bottombar",T)}),[T]),ce((()=>{za(),Mh=()=>{document.title=`${e.C39} ${e.LaL}`,C(),g(),v()}}),[C]),Bl((()=>{(0,a.p)("setIsAppFocused",!1)}),(()=>{(0,a.p)("setIsAppFocused",!0)}),n.Fe),le((()=>{document.documentElement.classList.add("is-rendered"),pc()}),[]),le((()=>{document.documentElement.classList.toggle("is-fullscreen",d),requestAnimationFrame(za)}),[d]),Ee((()=>{r&&(qB+=1)}),[r]),hh("body",Vf(m),p),function(){const{observe:e}=rg({throttleMs:350});sg=e}(),ge.createElement(ge.Fragment,null,n.cp&&!n.ig&&ge.createElement(gb,{withTitle:!0}),ge.createElement(xf,{name:I,activeKey:A,renderCount:jB,shouldCleanup:!T,className:"XDsN0suQ",slideClassName:xr(VB,T&&"cumlVCAy","custom-scroll")},B),E&&ge.createElement(CB,{isOpen:u,onClose:g},ge.createElement(EB,{isActive:!!u,isInsideModal:!0})),ge.createElement(ih,null),ge.createElement(FT,null),!k&&ge.createElement(ge.Fragment,null,ge.createElement(vv,null),ge.createElement(zb,{isOpen:s,onClose:h}),ge.createElement(yA,{isOpen:i,onClose:f}),ge.createElement(UB,null),!e.TI6&&ge.createElement(ge.Fragment,null,ge.createElement(LB,null),ge.createElement(qT,null)),ge.createElement(BA,null),ge.createElement(zA,null),ge.createElement(WA,null),ge.createElement(kw,null),ge.createElement(_w,null),ge.createElement(sb,null),ge.createElement(pA,null),ge.createElement(kA,null),ge.createElement(KA,null),ge.createElement(EA,null),e.UMQ&&ge.createElement(TA,{isOpen:c,onClose:w}),!n.bA&&ge.createElement(ge.Fragment,null,ge.createElement(jA,null),ge.createElement(lb,null),ge.createElement(HB,null),e.UMQ?ge.createElement(rc,null):ge.createElement(og,null),ge.createElement($B,null))),T&&ge.createElement(aT,null))})));var GB,QB,XB;e.Oig&&console.log(">>> INIT"),e.rkj&&(0,Dr.Z3)(),e.UMQ&&async function(){var e;e=Oa.Ii.getPlatform(),$c=e,Bo.getStatusBarHeight().then((e=>{let{statusBarHeight:t}=e;Xc=t,document.documentElement.style.setProperty("--status-bar-height",`${t}px`)})),Bo.getSafeAreaInsets().then((e=>{let{insets:{bottom:t,top:n}}=e;Jc=n,document.documentElement.style.setProperty("--safe-area-bottom",`${t}px`)})),n.bA?To.hide({fadeOutDuration:0}):("ios"===Vc()&&setTimeout((()=>{To.hide({fadeOutDuration:600})}),500),Ao.addListener("appUrlOpen",(e=>{Date.now()-Zc>500?Sc(e.url):(0,t.MD)("[CAPACITOR] appUrlOpen event ignored",e)})),Ao.addListener("backButton",(e=>{let{canGoBack:t}=e;t?window.history.back():Ao.exitApp()})),el(await Bo.getSafeAreaInsets()),await Bo.addListener("safeAreaChanged",(e=>{el(e)})))}(),n.cp&&(null===(GB=window.electron)||void 0===GB||GB.on(_h.DEEPLINK,(e=>{let{url:t}=e;Sc(t)}))),e.tKX&&(Ja=null===(QB=window.Telegram)||void 0===QB?void 0:QB.WebApp,Ja?(mo(),Ja.lockOrientation(),Ja.SecondaryButton.setParams({position:"bottom"}),Ja.BackButton.hide(),Ja.SettingsButton.hide(),Ja.expand(),(0,n.v3)()&&(Ja.onEvent("safeAreaChanged",so),Ja.onEvent("contentSafeAreaChanged",so)),Ja.onEvent("viewportChanged",(function(e){let{isStateStable:t}=e;t&&za()})),so(),function(){var e;const t=null===(e=Ja)||void 0===e?void 0:e.BiometricManager;t&&!Za&&(Za=!0,t.init((()=>{const{isBiometricAvailable:e,biometricType:n,isAccessGranted:a,isAccessRequested:o}=t;eo=e&&(a||!o),"ios"===Ja.platform&&(to="face"===n,no="finger"===n)})))}(),Ja.ready()):(0,t.SJ)("[telegram] Can't initialize Telegram Mini-App")),n.KI?Ol({noPubGlobal:!0}):n.bA&&Ol(),e.UMQ?(XB=()=>{xh.install(),Dh()},$a.push(XB),i.e(408).then(i.bind(i,408)).then((e=>{let{Keyboard:t}=e;t.addListener("keyboardWillHide",xh.uninstall)}))):(n.pz||n.Ni)&&window.visualViewport&&function(){const{visualViewport:t}=window;let a=t.height;function o(){const e=t.height,n=document.activeElement;e<a&&n&&function(e){const t=e.tagName.toLowerCase();return"input"===t||"textarea"===t||"select"===t||e.hasAttribute("contenteditable")}(n)?(xh.install(),Dh()):e>a&&xh.uninstall(),a=e}t.addEventListener("resize",n.pz&&e.tKX?function(){(0,k.RK)((()=>{(0,k.YS)(o)}))}:o)}(),(async a=>{n.ZH&&await async function(){await Uc.init();const t=Boolean(window.localStorage.getItem(e.pge)),n=Boolean(await Uc.capacitorStorageGetItem("accounts"));t&&!n&&window.localStorage.clear(),!t&&n&&await Uc.capacitorStorageClear()}(),await(null===(a=window.electron)||void 0===a?void 0:a.restoreStorage()),Ke().init(),n.Fe?(0,t.MD)("API was not initialized because it was connected from a detached tab"):Ke().initApi(),e.UMQ&&await async function(){var e;const t=null===(e=await Ao.getLaunchUrl())||void 0===e?void 0:e.url;t&&Sc(t),Zc=Date.now()}(),e.Oig&&console.log(">>> START INITIAL RENDER"),(0,k.RK)((()=>{Ms(ge.createElement(YB,null),document.getElementById("root")),function(){const e=document.createElement("div");e.textContent="₽",e.classList.add("visually-hidden"),document.body.appendChild(e),(0,k.RK)((()=>{document.body.removeChild(e)}))}(),function(){if(!n.pz)return;let e,t=Date.now();function a(){e||Ih||(e=window.setInterval(Bh,5e3))}window.addEventListener("focus",(()=>{const e=Date.now();e-t<100||(t=e,a(),Bh())})),window.addEventListener("blur",(()=>{clearInterval(e),e=void 0})),document.hasFocus()&&(a(),Bh())}()})),e.Oig&&console.log(">>> FINISH INITIAL RENDER"),document.addEventListener("dblclick",(()=>{console.warn("GLOBAL STATE",Ve())})),window.top===window&&(0,t.ef)()})()})()})();
//# sourceMappingURL=main.657378c3811468327859.js.map